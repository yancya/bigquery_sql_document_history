




<!DOCTYPE html><html lang="en"
      class="chekov"><head><script>var a=window.devsite||{};window.devsite=a;a.readyCallbacks=[];window.devsite.readyCallbacks=a.readyCallbacks;a.ready=function(b){a.readyCallbacks.push(b)};window.devsite.ready=a.ready;
</script><meta charset="utf-8"><meta name="xsrf_token" content="t5Hx4Bv29XqZEBwLyse2YdXrpSDZXVQCJd7NXrAh7Zc6MTQ4NTA2NjcyMjI5Nzg3MA" /><link rel="canonical" href="https://cloud.google.com/bigquery/docs/reference/standard-sql/migrating-from-legacy-sql"><link rel="alternate" href="https://cloud.google.com/bigquery/docs/reference/standard-sql/migrating-from-legacy-sql" hreflang="en"><link rel="alternate" href="https://cloud.google.com/bigquery/docs/reference/standard-sql/migrating-from-legacy-sql" hreflang="x-default"><link rel="shortcut icon" href="https://cloud.google.com/_static/51f118c0ad/images/cloud/icons/favicons/favicon.ico"><link rel="apple-touch-icon" href="https://cloud.google.com/_static/51f118c0ad/images/cloud/icons/favicons/apple-icon.png"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet"
      href="//fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700|Material+Icons"><link rel="stylesheet"
      href="https://cloud.google.com/_static/51f118c0ad/css/devsite-cloud-white.css"><link rel="stylesheet" href="https://cloud.google.com/_static/51f118c0ad/css/cloud/cloud-site.css"><link rel="search"
        type="application/opensearchdescription+xml"
        title="Google Cloud Platform"
        href="https://cloud.google.com/s/opensearch.xml"><script src="https://cloud.google.com/_static/51f118c0ad/js/jquery-bundle.js"></script><meta property="og:site_name" content="Google Cloud Platform"><meta property="og:type" content="website"><meta property="og:url" content="https://cloud.google.com/bigquery/docs/reference/standard-sql/migrating-from-legacy-sql"><meta property="og:locale" content="en"><script>
    var ___gcfg = ___gcfg || {};
    ___gcfg.lang = 'en';
  </script><title>Migrating from legacy SQL &nbsp;|&nbsp; BigQuery Documentation
      &nbsp;|&nbsp; Google Cloud Platform</title><meta property="og:title" content="Migrating from legacy SQL &nbsp;|&nbsp; BigQuery Documentation
      &nbsp;|&nbsp; Google Cloud Platform"><link href="https://cloud.google.com/cloud/css/local_css.css" rel="stylesheet" type="text/css" /></head><body class="devsite-doc-page
               
               
               
               devsite-header-no-lower-tabs"
        id="top_of_page"><div class="devsite-wrapper"><header class="devsite-top-section nocontent"><div class="devsite-top-logo-row-wrapper-wrapper"><div class="devsite-top-logo-row-wrapper"><div class="devsite-top-logo-row devsite-full-site-width"><button type="button" class="devsite-expand-section-nav devsite-header-icon-button
                                     button-flat material-icons gc-analytics-event"
                data-category="Site-Wide Custom Events" data-label="Hamburger menu"></button><div class="devsite-product-name-wrapper"><a href="https://cloud.google.com/" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo"><img src="https://cloud.google.com/_static/51f118c0ad/images/cloud/gcp-logo.svg"
       class="devsite-site-logo" alt="Google Cloud Platform"><span class="devsite-site-name devsite-product-name">Google Cloud Platform</span></a></div><div class="devsite-header-upper-tabs"><nav class="devsite-doc-set-nav devsite-nav devsite-overflow-tabs-scroll-wrapper"><ul class="devsite-doc-set-nav-tab-list devsite-overflow-tabs-scroll"><li class="devsite-doc-set-nav-tab-container"><a href="https://cloud.google.com/why-google/"
         class="
                devsite-doc-set-nav-tab gc-analytics-event"
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Why Google"
       >
        Why Google
      </a></li><li class="devsite-doc-set-nav-tab-container"><a href="https://cloud.google.com/products/"
         class="
                devsite-doc-set-nav-tab gc-analytics-event"
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Products"
       >
        Products
      </a></li><li class="devsite-doc-set-nav-tab-container"><a href="https://cloud.google.com/solutions/"
         class="
                devsite-doc-set-nav-tab gc-analytics-event"
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Solutions"
       >
        Solutions
      </a></li><li class="devsite-doc-set-nav-tab-container"><a href="https://cloud.google.com/launcher/"
         class="
                devsite-doc-set-nav-tab gc-analytics-event"
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Launcher"
       >
        Launcher
      </a></li><li class="devsite-doc-set-nav-tab-container"><a href="https://cloud.google.com/pricing/"
         class="
                devsite-doc-set-nav-tab gc-analytics-event"
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Pricing"
       >
        Pricing
      </a></li><li class="devsite-doc-set-nav-tab-container"><a href="https://cloud.google.com/customers/"
         class="
                devsite-doc-set-nav-tab gc-analytics-event"
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Customers"
       >
        Customers
      </a></li><li class="devsite-doc-set-nav-tab-container"><a href="https://cloud.google.com/docs/"
         class="devsite-doc-set-nav-active
                devsite-doc-set-nav-tab gc-analytics-event"
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Documentation"
       >
        Documentation
      </a></li><li class="devsite-doc-set-nav-tab-container"><a href="https://cloud.google.com/support/"
         class="
                devsite-doc-set-nav-tab gc-analytics-event"
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Support"
       >
        Support
      </a></li><li class="devsite-doc-set-nav-tab-container"><a href="https://cloud.google.com/partners/"
         class="
                devsite-doc-set-nav-tab gc-analytics-event"
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Partners"
       >
        Partners
      </a></li></ul></nav></div><form class="devsite-search-form" action="https://cloud.google.com/s/results/"
              method="GET" id="top-search"><div id="searchbox" class="devsite-searchbox"><input placeholder='Search'
                   type="text"
                   class="devsite-search-field devsite-search-query"
                   name="q"
                   value=""
                   autocomplete="off"><div class="devsite-search-image material-icons"></div></div><input type="hidden"
                 name="p"
                 id="search_project"
                 value="/bigquery/docs/"
                 data-project-name="BigQuery Documentation"
                 data-project-path="/bigquery/docs/"
                 data-query-match=""><input type="hidden" class="suggest-project" value="BigQuery Documentation" /></form><a class="devsite-header-link gc-analytics-event"
           href="//console.cloud.google.com/"
           data-category="Site-Wide Custom Events"
           data-label="Site header link"><div class="devsite-header-link-label">Console</div></a><button type="button" class="devsite-search-button devsite-header-icon-button button-flat
                                     material-icons"></button><a href="https://www.google.com/accounts/ServiceLogin?passive=true&continue=https%3A%2F%2Fcloud.google.com%2Fbigquery%2Fdocs%2Freference%2Fstandard-sql%2Fmigrating-from-legacy-sql&service=cloudconsole"
   class="devsite-user-signin devsite-top-button button gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Sign in button">
  
  Sign in
</a></div></div></div><div class="devsite-collapsible-section"><div class="devsite-header-background devsite-full-site-width"
      ><div class="devsite-product-id-row devsite-full-site-width"><div class="devsite-product-description-row"><ul class="devsite-breadcrumb-list"><li class="devsite-breadcrumb-item">
    
    
    
      Documentation
    
    
  </li></ul></div><div class="devsite-product-button-row
            cloud-free-trial-eligible"><button type="button" id="devsite-feedback-project"
          class="devsite-feedback-button devsite-top-button gc-analytics-event"
          data-category="Site-Wide Custom Events" data-label="Send Feedback Button"
          track-type="feedback" track-name="sendFeedbackLink" track-metadata-position="header">
  
  Send feedback
  </button><a
    
      href="https://console.cloud.google.com/freetrial"
    
    
      class="cloud-free-trial-button button-primary button"
    
    
      
      track-type="freeTrial"
      
      track-name="try"
      
      track-metadata-position="nav"
      
    >
    Try It Free
  </a><a
    
      href="https://cloud.google.com/contact/"
    
    
      class="cloud-contact-sales-button button"
    
    
      
      track-type="sales"
      
      track-name="contact"
      
      track-metadata-position="nav"
      
    >
    Contact Sales
  </a></div></div></div></div></header><script>
  if (window.jQuery) {
    $(document).ready(function() {
      if (window.devsite && window.devsite.search) {
        
        window.devsite.search.init('en')
      }
    });
  }
</script><div id="gc-wrapper"itemscope itemtype="http://schema.org/Article"><input class="google-tag-manager-id" type="hidden" value="GTM-5CVQBG"><script>
      var dataLayer = [{"freeTrialEligibleUser": "True", "language": {"requested": "en", "served": "en"}, "projectName": "BigQuery Documentation", "scriptsafe": null, "signedIn": "False", "internalUser": "False"}];
    </script>

      
        <div class="devsite-site-mask"></div>
        
  

<nav class="devsite-nav-responsive devsite-nav nocontent" tabindex="0">
  
  <div class="devsite-nav-responsive-tabs-panel">
    
      
        



<nav class="devsite-nav-responsive-tabs devsite-nav">
  <ul class="devsite-nav-list">
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <a 
           href="https://cloud.google.com/why-google/?nav=true"
         
         class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                "
         data-category="Site-Wide Custom Events" data-label="Responsive Tab: Why Google">
        Why Google
      </a>
      
    
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <a 
           href="https://cloud.google.com/products/?nav=true"
         
         class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                "
         data-category="Site-Wide Custom Events" data-label="Responsive Tab: Products">
        Products
      </a>
      
    
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <a 
           href="https://cloud.google.com/solutions/?nav=true"
         
         class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                "
         data-category="Site-Wide Custom Events" data-label="Responsive Tab: Solutions">
        Solutions
      </a>
      
    
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <a 
           href="https://cloud.google.com/launcher/"
         
         class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                "
         data-category="Site-Wide Custom Events" data-label="Responsive Tab: Launcher">
        Launcher
      </a>
      
    
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <a 
           href="https://cloud.google.com/pricing/?nav=true"
         
         class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                "
         data-category="Site-Wide Custom Events" data-label="Responsive Tab: Pricing">
        Pricing
      </a>
      
    
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <a 
           href="https://cloud.google.com/customers/?nav=true"
         
         class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                "
         data-category="Site-Wide Custom Events" data-label="Responsive Tab: Customers">
        Customers
      </a>
      
    
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <span class="devsite-nav-responsive-forward devsite-nav-responsive-tab devsite-nav-title
                   devsite-nav-active gc-analytics-event"
            data-category="Site-Wide Custom Events" data-label="Responsive Tab: Documentation"
            tabindex="0">
        Documentation
      </span>
    
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <a 
           href="https://cloud.google.com/support/?nav=true"
         
         class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                "
         data-category="Site-Wide Custom Events" data-label="Responsive Tab: Support">
        Support
      </a>
      
    
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <a 
           href="https://cloud.google.com/partners/?nav=true"
         
         class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                "
         data-category="Site-Wide Custom Events" data-label="Responsive Tab: Partners">
        Partners
      </a>
      
    
    </li>
  
  
  </ul>
</nav>

      
    
  </div>
  
  
  <div class="devsite-nav-responsive-sidebar-panel">
    
    <div class="devsite-nav-responsive-back" tabindex="0"></div>
    
    <nav class="devsite-nav-responsive-sidebar">
      <ul class="devsite-nav-list devsite-nav-expandable"><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Cloud BigQuery</span></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Product Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Documentation</a></li><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Quickstarts</span></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/quickstarts" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">All Quickstarts</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/quickstart-web-ui" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Using the Web UI</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/quickstart-command-line" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Using the Command-Line Tool</a></li><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">How-to Guides</span></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/how-to" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">All How-to Guides</a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Loading Data Into BigQuery</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/loading-data" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/preparing-data-for-loading" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Preparing Data for Loading</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/transforming-data" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Transforming Data</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/loading-data-cloud-storage" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Loading Data From Cloud Storage</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/loading-data-cloud-datastore" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Loading Data From Cloud Datastore</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/loading-data-post-request" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Loading Data with a POST Request</a></li><li class="devsite-nav-item devsite-nav-beta devsite-nav-has-status"><a href="https://cloud.google.com/bigquery/docs/loading-data-sql-dml" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click"><span class="devsite-nav-text">Loading Data with SQL DML</span><span class="devsite-nav-icon-wrapper"><span class="devsite-nav-icon material-icons" title="Beta"></span></span></a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/streaming-data-into-bigquery" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Streaming Data Into BigQuery</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/creating-partitioned-tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Creating Date-Partitioned Tables</a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Querying Data</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/querying-data" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/external-data-sources" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">External Data Sources</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/user-defined-functions" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">User-Defined Functions</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/table-decorators" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Table Decorators</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/audit-logs" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Audit Logs</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/sample-tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Sample Tables</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/data" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Dealing with Data</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/querying-partitioned-tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Querying Date-Partitioned Tables</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/querying-wildcard-tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Querying Data Using a Wildcard Table</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/saving-sharing-queries" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Saving and Sharing Queries</a></li></ul></li><li class="devsite-nav-item devsite-nav-beta devsite-nav-has-status"><a href="https://cloud.google.com/bigquery/docs/updating-data" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click"><span class="devsite-nav-text">Updating Data</span><span class="devsite-nav-icon-wrapper"><span class="devsite-nav-icon material-icons" title="Beta"></span></span></a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/exporting-data" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Exporting Data</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/labeling-datasets" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Labeling Datasets</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/monitoring" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">BigQuery Monitoring Using Stackdriver</a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">BigQuery API Basics</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/create-simple-app-api" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Create A Simple App With the API</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/authentication" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">BigQuery Authentication</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/managing_jobs_datasets_projects" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Managing Jobs, Datasets, and Projects</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Managing Tables</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/batch" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Batch Requests</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/api-performance" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">API Performance Tips</a></li></ul></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/bigquery-web-ui" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">BigQuery Web UI</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/bq-command-line-tool" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">bq Command-Line Tool</a></li><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">APIs &amp; Reference</span></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">All APIs &amp; References</a></li><li class="devsite-nav-item devsite-nav-beta devsite-nav-has-status"><a href="https://cloud.google.com/bigquery/docs/reference/libraries" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click"><span class="devsite-nav-text">Client Libraries</span><span class="devsite-nav-icon-wrapper"><span class="devsite-nav-icon material-icons" title="Beta"></span></span></a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">REST Reference</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="1">v2</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="1"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="2">Datasets</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="2"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/datasets" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/datasets/delete" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">delete</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/datasets/get" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">get</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/datasets/insert" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">insert</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/datasets/list" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">list</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/datasets/patch" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">patch</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/datasets/update" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">update</a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="2">Jobs</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="2"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/cancel" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">cancel</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/get" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">get</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/getQueryResults" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">getQueryResults</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/insert" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">insert</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/list" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">list</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/query" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">query</a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="2">Projects</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="2"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/projects" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/projects/list" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">list</a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="2">Tabledata</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="2"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tabledata" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tabledata/insertAll" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">insertAll</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tabledata/list" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">list</a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="2">Tables</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="2"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tables/delete" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">delete</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tables/get" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">get</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tables/insert" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">insert</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tables/list" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">list</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tables/patch" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">patch</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tables/update" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">update</a></li></ul></li></ul></li></ul></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/legacy-sql" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Query Reference (legacy SQL)</a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Query Reference (standard SQL)</span><a class="devsite-nav-toggle devsite-nav-toggle-expanded material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-expanded"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/enabling-standard-sql" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Enabling Standard SQL</a></li><li class="devsite-nav-item devsite-nav-active"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/migrating-from-legacy-sql" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Migrating from Legacy SQL</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/data-types" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Data Types</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/query-syntax" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Query Syntax</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Functions &amp; Operators</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/lexical" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Lexical Structure</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/arrays" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Working with Arrays</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/user-defined-functions" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">User-Defined Functions</a></li><li class="devsite-nav-item devsite-nav-beta devsite-nav-has-status"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/data-manipulation-language" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click"><span class="devsite-nav-text">Data Manipulation Language</span><span class="devsite-nav-icon-wrapper"><span class="devsite-nav-icon material-icons" title="Beta"></span></span></a></li><li class="devsite-nav-item devsite-nav-beta devsite-nav-has-status"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/dml-syntax" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click"><span class="devsite-nav-text">DML Syntax</span><span class="devsite-nav-icon-wrapper"><span class="devsite-nav-icon material-icons" title="Beta"></span></span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Concepts</span></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/concepts" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">All Concepts</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/what-is-bigquery" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">BigQuery Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/data-formats" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Data Formats</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/data-types" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Data Types</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/access-control" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Access Control</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/partitioned-tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Partitioned Tables</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/query-plan-explanation" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Query Plan Explanation</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/wildcard-tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Wildcard Tables</a></li><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Tutorials</span></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/tutorials" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">All Tutorials</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/visualize-data-studio" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Visualizing BigQuery Data Using Google Data Studio 360</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/visualize-datalab" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Visualizing BigQuery Data Using Google Cloud Datalab</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/solutions/mobile/mobile-firebase-analytics-big-query" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Importing Firebase Analytics Data into BigQuery</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/solutions/real-time/kubernetes-redis-bigquery" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Real-time data analysis with Kubernetes, Redis, and BigQuery</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/solutions/real-time/kubernetes-pubsub-bigquery" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Real-time data analysis with Kubernetes, Google Cloud Pub/Sub, and BigQuery</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/solutions/real-time/fluentd-bigquery" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Real-time logs analysis using Fluentd and BigQuery</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/solutions/time-series/bigquery-financial-forex" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Analyzing Financial Time Series using BigQuery</a></li><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Resources</span></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/resources" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">All Resources</a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Pricing and Quotas</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/pricing" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Pricing</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/quota-policy" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Quotas</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/cost-controls" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Cost Controls</a></li></ul></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/release-notes" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Release Notes</a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Support</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/support" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Support Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/troubleshooting-errors" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Troubleshooting Errors</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/launch-checklist" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Launch Checklist</a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Public Data Sets</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/gdelt-books" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">GDELT Books Corpus</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/github" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">GitHub Data</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/hacker-news" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Hacker News</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/irs-990" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">IRS 990 Data</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/baseball" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Major League Baseball</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/medicare" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Medicare</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/noaa-ghcn" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">NOAA GHCN Weather</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/noaa-gsod" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">NOAA GSOD Weather</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/nyc-311" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">NYC 311 Service Requests</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/nyc-citi-bike" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">NYC Citi Bike Trips</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/nyc-tlc-trips" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">NYC TLC Trips</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/nyc-tree-census" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">NYC Tree Census</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/nypd-mv-collisions" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">NYPD Motor Vehicle Collisions</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/openimages" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Open Images</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/stackoverflow" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Stack Overflow</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/usa-disease" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">USA Disease Data</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/usa-names" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">USA Names Data</a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">BigQuery Partners</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/partners" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/partners/simba-drivers" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Simba Drivers</a></li></ul></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/bigquery-connector-for-excel" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">BigQuery Connector for Excel</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/sla" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Service Level Agreement</a></li></ul>
    </nav>
  </div>
  
</nav>


        <div class="devsite-main-content clearfix">

        
        

        
  
  
    
    
      
  <nav class="devsite-section-nav devsite-nav nocontent">
    <ul class="devsite-nav-list devsite-nav-expandable"><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Cloud BigQuery</span></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Product Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Documentation</a></li><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Quickstarts</span></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/quickstarts" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">All Quickstarts</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/quickstart-web-ui" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Using the Web UI</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/quickstart-command-line" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Using the Command-Line Tool</a></li><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">How-to Guides</span></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/how-to" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">All How-to Guides</a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Loading Data Into BigQuery</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/loading-data" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/preparing-data-for-loading" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Preparing Data for Loading</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/transforming-data" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Transforming Data</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/loading-data-cloud-storage" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Loading Data From Cloud Storage</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/loading-data-cloud-datastore" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Loading Data From Cloud Datastore</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/loading-data-post-request" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Loading Data with a POST Request</a></li><li class="devsite-nav-item devsite-nav-beta devsite-nav-has-status"><a href="https://cloud.google.com/bigquery/docs/loading-data-sql-dml" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click"><span class="devsite-nav-text">Loading Data with SQL DML</span><span class="devsite-nav-icon-wrapper"><span class="devsite-nav-icon material-icons" title="Beta"></span></span></a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/streaming-data-into-bigquery" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Streaming Data Into BigQuery</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/creating-partitioned-tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Creating Date-Partitioned Tables</a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Querying Data</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/querying-data" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/external-data-sources" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">External Data Sources</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/user-defined-functions" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">User-Defined Functions</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/table-decorators" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Table Decorators</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/audit-logs" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Audit Logs</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/sample-tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Sample Tables</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/data" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Dealing with Data</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/querying-partitioned-tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Querying Date-Partitioned Tables</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/querying-wildcard-tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Querying Data Using a Wildcard Table</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/saving-sharing-queries" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Saving and Sharing Queries</a></li></ul></li><li class="devsite-nav-item devsite-nav-beta devsite-nav-has-status"><a href="https://cloud.google.com/bigquery/docs/updating-data" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click"><span class="devsite-nav-text">Updating Data</span><span class="devsite-nav-icon-wrapper"><span class="devsite-nav-icon material-icons" title="Beta"></span></span></a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/exporting-data" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Exporting Data</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/labeling-datasets" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Labeling Datasets</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/monitoring" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">BigQuery Monitoring Using Stackdriver</a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">BigQuery API Basics</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/create-simple-app-api" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Create A Simple App With the API</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/authentication" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">BigQuery Authentication</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/managing_jobs_datasets_projects" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Managing Jobs, Datasets, and Projects</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Managing Tables</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/batch" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Batch Requests</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/api-performance" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">API Performance Tips</a></li></ul></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/bigquery-web-ui" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">BigQuery Web UI</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/bq-command-line-tool" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">bq Command-Line Tool</a></li><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">APIs &amp; Reference</span></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">All APIs &amp; References</a></li><li class="devsite-nav-item devsite-nav-beta devsite-nav-has-status"><a href="https://cloud.google.com/bigquery/docs/reference/libraries" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click"><span class="devsite-nav-text">Client Libraries</span><span class="devsite-nav-icon-wrapper"><span class="devsite-nav-icon material-icons" title="Beta"></span></span></a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">REST Reference</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="1">v2</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="1"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="2">Datasets</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="2"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/datasets" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/datasets/delete" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">delete</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/datasets/get" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">get</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/datasets/insert" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">insert</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/datasets/list" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">list</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/datasets/patch" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">patch</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/datasets/update" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">update</a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="2">Jobs</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="2"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/cancel" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">cancel</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/get" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">get</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/getQueryResults" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">getQueryResults</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/insert" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">insert</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/list" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">list</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/query" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">query</a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="2">Projects</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="2"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/projects" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/projects/list" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">list</a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="2">Tabledata</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="2"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tabledata" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tabledata/insertAll" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">insertAll</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tabledata/list" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">list</a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="2">Tables</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="2"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tables/delete" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">delete</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tables/get" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">get</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tables/insert" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">insert</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tables/list" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">list</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tables/patch" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">patch</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tables/update" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">update</a></li></ul></li></ul></li></ul></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/legacy-sql" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Query Reference (legacy SQL)</a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Query Reference (standard SQL)</span><a class="devsite-nav-toggle devsite-nav-toggle-expanded material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-expanded"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/enabling-standard-sql" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Enabling Standard SQL</a></li><li class="devsite-nav-item devsite-nav-active"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/migrating-from-legacy-sql" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Migrating from Legacy SQL</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/data-types" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Data Types</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/query-syntax" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Query Syntax</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Functions &amp; Operators</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/lexical" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Lexical Structure</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/arrays" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Working with Arrays</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/user-defined-functions" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">User-Defined Functions</a></li><li class="devsite-nav-item devsite-nav-beta devsite-nav-has-status"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/data-manipulation-language" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click"><span class="devsite-nav-text">Data Manipulation Language</span><span class="devsite-nav-icon-wrapper"><span class="devsite-nav-icon material-icons" title="Beta"></span></span></a></li><li class="devsite-nav-item devsite-nav-beta devsite-nav-has-status"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/dml-syntax" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click"><span class="devsite-nav-text">DML Syntax</span><span class="devsite-nav-icon-wrapper"><span class="devsite-nav-icon material-icons" title="Beta"></span></span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Concepts</span></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/concepts" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">All Concepts</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/what-is-bigquery" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">BigQuery Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/data-formats" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Data Formats</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/data-types" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Data Types</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/access-control" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Access Control</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/partitioned-tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Partitioned Tables</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/query-plan-explanation" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Query Plan Explanation</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/wildcard-tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Wildcard Tables</a></li><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Tutorials</span></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/tutorials" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">All Tutorials</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/visualize-data-studio" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Visualizing BigQuery Data Using Google Data Studio 360</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/visualize-datalab" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Visualizing BigQuery Data Using Google Cloud Datalab</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/solutions/mobile/mobile-firebase-analytics-big-query" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Importing Firebase Analytics Data into BigQuery</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/solutions/real-time/kubernetes-redis-bigquery" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Real-time data analysis with Kubernetes, Redis, and BigQuery</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/solutions/real-time/kubernetes-pubsub-bigquery" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Real-time data analysis with Kubernetes, Google Cloud Pub/Sub, and BigQuery</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/solutions/real-time/fluentd-bigquery" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Real-time logs analysis using Fluentd and BigQuery</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/solutions/time-series/bigquery-financial-forex" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Analyzing Financial Time Series using BigQuery</a></li><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Resources</span></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/resources" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">All Resources</a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Pricing and Quotas</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/pricing" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Pricing</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/quota-policy" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Quotas</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/cost-controls" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Cost Controls</a></li></ul></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/release-notes" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Release Notes</a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Support</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/support" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Support Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/troubleshooting-errors" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Troubleshooting Errors</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/launch-checklist" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Launch Checklist</a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Public Data Sets</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/gdelt-books" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">GDELT Books Corpus</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/github" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">GitHub Data</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/hacker-news" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Hacker News</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/irs-990" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">IRS 990 Data</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/baseball" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Major League Baseball</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/medicare" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Medicare</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/noaa-ghcn" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">NOAA GHCN Weather</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/noaa-gsod" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">NOAA GSOD Weather</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/nyc-311" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">NYC 311 Service Requests</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/nyc-citi-bike" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">NYC Citi Bike Trips</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/nyc-tlc-trips" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">NYC TLC Trips</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/nyc-tree-census" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">NYC Tree Census</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/nypd-mv-collisions" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">NYPD Motor Vehicle Collisions</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/openimages" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Open Images</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/stackoverflow" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Stack Overflow</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/usa-disease" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">USA Disease Data</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/usa-names" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">USA Names Data</a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">BigQuery Partners</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/partners" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/partners/simba-drivers" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Simba Drivers</a></li></ul></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/bigquery-connector-for-excel" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">BigQuery Connector for Excel</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/sla" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Service Level Agreement</a></li></ul>
  </nav>

    

    
  <nav class="devsite-page-nav devsite-nav"></nav>


      <article class="devsite-article">
        <article class="devsite-article-inner">
  
          
  



  
  <nav class="devsite-breadcrumb-nav devsite-nav">
    


<ul class="devsite-breadcrumb-list">
  
  <li class="devsite-breadcrumb-item">
    
    
    <a href="https://cloud.google.com/bigquery/" class="devsite-breadcrumb-link gc-analytics-event"
       data-category="Site-Wide Custom Events" data-label="Breadcrumbs"
       data-value="1">
    
    
      BigQuery
    
    
    </a>
    
  </li>
  
  <li class="devsite-breadcrumb-item">
    
    
    <div class="devsite-breadcrumb-guillemet material-icons"></div>
    
    
    <a href="https://cloud.google.com/bigquery/docs/" class="devsite-breadcrumb-link gc-analytics-event"
       data-category="Site-Wide Custom Events" data-label="Breadcrumbs"
       data-value="2">
    
    
      Documentation
    
    
    </a>
    
  </li>
  
  <li class="devsite-breadcrumb-item">
    
    
    <div class="devsite-breadcrumb-guillemet material-icons"></div>
    
    
    <a href="https://cloud.google.com/docs/" class="devsite-breadcrumb-link gc-analytics-event"
       data-category="Site-Wide Custom Events" data-label="Breadcrumbs"
       data-value="3">
    
    
      Documentation
    
    
    </a>
    
  </li>
  
</ul>

  </nav>
  
  
  <h1 itemprop="name" class="devsite-page-title">
    Migrating from legacy SQL
  </h1>
  
  
  <nav class="devsite-page-nav-embedded devsite-nav"></nav>
  
  <div class="devsite-article-body clearfix
            "
       itemprop="articleBody">
    
    
<p>BigQuery supports two SQL dialects:
<a href="https://cloud.google.com/bigquery/sql-reference/index">standard SQL</a> and
<a href="https://cloud.google.com/bigquery/query-reference">legacy SQL</a>. This topic explains the differences
between the two dialects, including <a href="#syntax_differences">syntax</a>,
<a href="#function_comparison">functions</a>, and <a href="#semantic_differences">semantics</a>,
and gives examples of some of the
<a href="#standard_sql_highlights">highlights of standard SQL</a>.</p>
<h2 id="comparison_of_legacy_and_standard_sql">Comparison of legacy and standard SQL</h2>
<p>Previously, BigQuery executed queries using a non-standard SQL dialect known as
<a href="https://cloud.google.com/bigquery/query-reference">BigQuery SQL</a>.
With the launch of BigQuery 2.0, BigQuery released support for
<a href="https://cloud.google.com/bigquery/sql-reference/index">standard SQL</a>, and renamed BigQuery SQL to
legacy SQL. Standard SQL is the preferred SQL dialect for querying data stored
in BigQuery.</p>
<h3 id="do_i_have_to_migrate_to_standard_sql">Do I have to migrate to standard SQL?</h3>
<p>Migration from legacy SQL to standard SQL is recommended but not required. For
example, suppose that you execute many queries that use legacy SQL, but you want
to take advantage of a standard SQL feature for a new query. You can create new
queries using standard SQL that run alongside queries using legacy SQL.</p>
<h3 id="enabling_standard_sql">Enabling standard SQL</h3>
<p>You have a choice of whether to use legacy or standard SQL when you execute a
query through BigQuery. See
<a href="https://cloud.google.com/bigquery/sql-reference/enabling-standard-sql">enabling standard SQL</a> for steps
to enable standard SQL in the BigQuery UI, CLI, API, or whichever interface you
are using.</p>
<h3 id="advantages_of_standard_sql">Advantages of standard SQL</h3>
<p>Standard SQL is compliant with the SQL 2011 standard, and has extensions that
support querying nested and repeated data. It has several advantages over legacy
SQL, including:</p>
<ul>
<li>Composability using <a href="#composability_using_with_clauses"><code>WITH</code> clauses</a> and
  <a href="#composability_using_sql_functions">SQL functions</a></li>
<li><a href="#subqueries_in_more_places">Subqueries in the <code>SELECT</code> list and <code>WHERE</code> clause</a></li>
<li><a href="#correlated_subqueries">Correlated subqueries</a></li>
<li><a href="#arrays_and_structs"><code>ARRAY</code> and <code>STRUCT</code> data types</a></li>
<li><a href="https://cloud.google.com/bigquery/sql-reference/data-manipulation-language">Inserts, updates, and deletes</a></li>
<li><code>COUNT(DISTINCT &lt;expr&gt;)</code> is exact and scalable, providing the accuracy of
  <code>EXACT_COUNT_DISTINCT</code> without its limitations</li>
<li>Automatic predicate push-down through <code>JOIN</code>s</li>
<li>Complex <code>JOIN</code> predicates, including arbitrary expressions</li>
</ul>
<p>For examples that demonstrate some of these features, see
<a href="#standard_sql_highlights">Standard SQL highlights</a>.</p>
<h3 id="type_differences">Type differences</h3>
<p>Legacy SQL types have an equivalent in standard SQL and vice versa. In some
cases, the type has a different name. The following table lists each legacy SQL
data type and its standard SQL equivalent.</p>
<table>
<thead>
<tr>
<th>Legacy SQL</th>
<th>Standard SQL</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>BOOL</code></td>
<td><code>BOOL</code></td>
<td></td>
</tr>
<tr>
<td><code>INTEGER</code></td>
<td><code>INT64</code></td>
<td></td>
</tr>
<tr>
<td><code>FLOAT</code></td>
<td><code>FLOAT64</code></td>
<td></td>
</tr>
<tr>
<td><code>STRING</code></td>
<td><code>STRING</code></td>
<td></td>
</tr>
<tr>
<td><code>BYTES</code></td>
<td><code>BYTES</code></td>
<td></td>
</tr>
<tr>
<td><code>RECORD</code></td>
<td><code>STRUCT</code></td>
<td></td>
</tr>
<tr>
<td><code>REPEATED</code></td>
<td><code>ARRAY</code></td>
<td></td>
</tr>
<tr>
<td><code>TIMESTAMP</code></td>
<td><code>TIMESTAMP</code></td>
<td>Standard SQL has a <a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/data-types.html#timestamp-type">stricter <code>TIMESTAMP</code> range</a></td>
</tr>
<tr>
<td><code>DATE</code></td>
<td><code>DATE</code></td>
<td>Legacy SQL has limited support for <code>DATE</code></td>
</tr>
<tr>
<td><code>TIME</code></td>
<td><code>TIME</code></td>
<td>Legacy SQL has limited support for <code>TIME</code></td>
</tr>
<tr>
<td><code>DATETIME</code></td>
<td><code>DATETIME</code></td>
<td>Legacy SQL has limited support for <code>DATETIME</code></td>
</tr>
</tbody>
</table>
<p>For more information on the standard SQL type system, see the
<a href="https://cloud.google.com/bigquery/sql-reference/data-types.html">standard SQL data types reference</a>.
For more information on data types in BigQuery, see the
<a href="https://cloud.google.com/bigquery/data-types">BigQuery data types reference</a>.</p>
<h3 id="label_differences">Label differences</h3>
<p>Legacy SQL has the concept of "labels" for fields, which are:</p>
<ul>
<li><code>REQUIRED</code> - A value stored in this field cannot be <code>NULL</code></li>
<li><code>NULLABLE</code> - A value stored in this field can be <code>NULL</code></li>
<li><code>REPEATED</code> - A value of this field comprises any number of elements. Elements cannot be <code>NULL</code></li>
</ul>
<p>The following table describes the availability of these concepts in standard
SQL.</p>
<table>
<thead>
<tr>
<th>Legacy SQL label</th>
<th>Supported in standard SQL?</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>REQUIRED</code></td>
<td>No</td>
<td><a href="#converting_required_fields_to_nullable">Convert <code>REQUIRED</code> fields to <code>NULLABLE</code></a> to append to tables that include them</td>
</tr>
<tr>
<td><code>NULLABLE</code></td>
<td>Yes</td>
<td>All standard SQL types are <code>NULLABLE</code></td>
</tr>
<tr>
<td><code>REPEATED</code></td>
<td>Yes; equivalent to <code>ARRAY</code></td>
<td>None needed</td>
</tr>
</tbody>
</table>
<p>For more information on <code>REPEATED</code> field handling, see
<a href="#differences_in_repeated_field_handling">Differences in repeated field handling</a>.</p>
<h4 id="converting_required_fields_to_nullable">Converting <code>REQUIRED</code> fields to <code>NULLABLE</code></h4>
<p>The legacy SQL concept of <code>REQUIRED</code> is not present in standard SQL, and a
value of any type can be <code>NULL</code>. To append to a table that has <code>REQUIRED</code> fields
using standard SQL, you must first change those fields to be <code>NULLABLE</code> instead.
There are multiple ways to change <code>REQUIRED</code> fields to <code>NULLABLE</code>:</p>
<div class="ds-selector-tabs" data-ds-scope="code-sample"><section><h3>BigQuery UI</h3><p>Navigate to the table to which you want to append. Under the "Schema" tab,
click the arrow next to <code>REQUIRED</code>, then select "All REQUIRED to NULLABLE".</p></section><section><h3>BigQuery API</h3><p>Using the <code>jobs</code> API, pass the <code>ALLOW_FIELD_RELAXATION</code> option as part of
the <code>configuration.query.schemaUpdateOptions</code> list. See the
<a href="https://cloud.google.com/bigquery/docs/reference/v2/jobs#configuration.query.schemaUpdateOptions"><code>jobs</code> API reference</a>
for more details.</p></section></div><p>After changing all <code>REQUIRED</code> fields in your table to <code>NULLABLE</code>, you can now
append to it using standard SQL.</p>
<h4 id="repeated_fields"><code>REPEATED</code> fields</h4>
<p>The legacy SQL concept of <code>REPEATED</code> is equivalent to the <code>ARRAY</code> type in
standard SQL. For example, <code>REPEATED INTEGER</code> is equivalent to <code>ARRAY&lt;INT64&gt;</code> in
standard SQL.</p>
<p>Standard SQL supports <code>NULL</code> array elements, but raises an error if there is a
<code>NULL</code> array element in the query result. If there is a <code>NULL</code> array column in
the query result, standard SQL stores it as an empty array.</p>
<p>For more information on the standard SQL type system, see the
<a href="https://cloud.google.com/bigquery/sql-reference/data-types">standard SQL data types reference</a>. For
more information on data types in BigQuery, see the
<a href="https://cloud.google.com/bigquery/data-types">BigQuery data types reference</a>.</p>
<h2 id="syntax_differences">Syntax differences</h2>
<h3 id="escaping_reserved_keywords_and_invalid_identifiers">Escaping reserved keywords and invalid identifiers</h3>
<p>In legacy SQL, you escape reserved keywords and identifiers that contain
invalid characters such as a space <code></code> or hyphen <code>-</code> using square brackets <code>[]</code>.
In standard SQL, you escape such keywords and identifiers using backticks
<code>`</code>. For example:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT
  word,
  SUM(word_count) AS word_count
FROM
  `bigquery-public-data.samples.shakespeare`
WHERE word IN ('me', 'I', 'you')
GROUP BY word;
</code></pre>
<p>Legacy SQL allows reserved keywords in some places that standard SQL does not.
For example, the following query fails due to a <code>Syntax error</code> using standard
SQL:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT
  COUNT(*) AS rows
FROM
  `bigquery-public-data.samples.shakespeare`;
</code></pre>
<p>To fix the error, escape the alias <code>rows</code> using backticks:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT
  COUNT(*) AS `rows`
FROM
  `bigquery-public-data.samples.shakespeare`;
</code></pre>
<p>For a list of reserved keywords and what constitutes valid identifiers, see
<a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/lexical.html">Lexical Structure</a>.</p>
<h3 id="project-qualified_table_names">Project-qualified table names</h3>
<p>In legacy SQL, to query a table with a project-qualified name, you use a
semi-colon, <code>:</code>, as a separator. For example:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT
  word
FROM
  [bigquery-public-data:samples.shakespeare]
LIMIT 1;
</code></pre>
<p>In standard SQL, you use a period, <code>.</code>, instead. For example:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT
  word
FROM
  `bigquery-public-data.samples.shakespeare`
LIMIT 1;
</code></pre>
<p>If your project name includes a domain, such as <code>example.com:myproject</code>, you use
<code>example.com:myproject</code> as the project name, including the <code>:</code>.</p>
<h3 id="table_decorators_and_wildcard_functions">Table decorators and wildcard functions</h3>
<p>Standard SQL does not support the <code>TABLE_DATE_RANGE</code>, <code>TABLE_DATE_RANGE_STRICT</code>,
or <code>TABLE_QUERY</code> functions.</p>
<p>You can achieve the same semantics of <code>TABLE_DATE_RANGE</code> and <code>TABLE_QUERY</code> using
a filter on the <code>_TABLE_SUFFIX</code> pseudocolumn. For example, consider the
following legacy SQL query, which counts the number of rows across 2010 and 2011
in the National Oceanic and Atmospheric Administration GSOD (global summary of
the day) tables:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT COUNT(*)
FROM TABLE_QUERY([bigquery-public-data:noaa_gsod],
                 'table_id IN ("gsod2010", "gsod2011")');
</code></pre>
<p>An equivalent query using standard SQL is:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT COUNT(*)
FROM `bigquery-public-data.noaa_gsod.*`
WHERE _TABLE_SUFFIX IN ("gsod2010", "gsod2011");
</code></pre>
<p>For more information, including examples that use <code>TABLE_DATE_RANGE</code>, see
<a href="https://cloud.google.com/bigquery/docs/querying-wildcard-tables#migrating_legacy_sql_table_wildcard_functions">Migrating legacy SQL wildcard functions</a></p>
<h3 id="trailing_commas_in_the_select_list">Trailing commas in the <code>SELECT</code> list</h3>
<p>Unlike legacy SQL, standard SQL does not permit trailing commas prior to the
<code>FROM</code> clause. For example, the following query is invalid:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT
  word,
  corpus,  -- Error due to trailing comma
FROM
  `bigquery-public-data.samples.shakespeare`
LIMIT 1;
</code></pre>
<p>To correct the error, remove the comma after <code>corpus</code>:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT
  word,
  corpus
FROM
  `bigquery-public-data.samples.shakespeare`
LIMIT 1;
</code></pre>
<h3 id="comma_operator_with_tables">Comma operator with tables</h3>
<p>In legacy SQL, the comma operator <code>,</code> has the non-standard meaning of
<code>UNION ALL</code> when applied to tables. In standard SQL, the comma operator has the
standard meaning of <code>JOIN</code>. For example, consider the following legacy SQL
query:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT
  x,
  y
FROM
  (SELECT 1 AS x, "foo" AS y),
  (SELECT 2 AS x, "bar" AS y);
</code></pre>
<p>This is equivalent to the standard SQL query:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT
  x,
  y
FROM
  (SELECT 1 AS x, "foo" AS y UNION ALL
   SELECT 2 AS x, "bar" AS y);
</code></pre>
<p>Note also that in standard SQL, <code>UNION ALL</code> associates columns by position
rather than by name. The above query is equivalent to:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT
  x,
  y
FROM
  (SELECT 1 AS x, "foo" AS y UNION ALL
   SELECT 2, "bar");
</code></pre>
<p>A common usage of the comma operator in standard SQL is to <code>JOIN</code> with an array.
For example:</p>
<pre class="prettyprint notranslate" translate="no"><code>WITH T AS (
  SELECT 0 AS x, [1, 2, 3] AS arr UNION ALL
  SELECT 1, [4, 5])
SELECT
  x,
  y
FROM
  T,
  UNNEST(arr) AS y;
</code></pre>
<p>This returns the cross product of the table <code>T</code> with the elements of <code>arr</code>. You
can also express the query in standard SQL as:</p>
<pre class="prettyprint notranslate" translate="no"><code>WITH T AS (
  SELECT 0 AS x, [1, 2, 3] AS arr UNION ALL
  SELECT 1, [4, 5])
SELECT
  x,
  y
FROM
  T
JOIN
  UNNEST(arr) AS y;
</code></pre>
<p>In this query, <code>JOIN</code> has the same meaning as the <code>,</code> comma operator separating
<code>T</code> and <code>UNNEST(arr) AS y</code> in the example above it.</p>
<h3 id="logical_views">Logical views</h3>
<p>You cannot query a logical view defined with legacy SQL using standard SQL and
vice versa due to differences in syntax and semantics between the dialects.
Instead, you would need to create a new view that uses standard SQL--possibly
under a different name--to replace a view that uses legacy SQL.</p>
<p>As an example, suppose that view <code>V</code> is defined using legacy SQL as:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT *, UTC_USEC_TO_DAY(timestamp_col) AS day
FROM MyTable;
</code></pre>
<p>Suppose that view <code>W</code> is defined using legacy SQL as:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT user, action, day
FROM V;
</code></pre>
<p>Suppose that you execute the following legacy SQL query daily, but you want to
migrate it to use standard SQL instead:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT EXACT_COUNT_DISTINCT(user), action, day
FROM W
GROUP BY action, day;
</code></pre>
<p>One possible migration path is to create new views using different names. The
steps involved are:</p>
<p>Create a view named <code>V2</code> using standard SQL with the following contents:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELET *, EXTRACT(DAY FROM timestamp_col) AS day
FROM MyTable;
</code></pre>
<p>Create a view named <code>W2</code> using standard SQL with the following contents:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT user, action, day
FROM V2;
</code></pre>
<p>Change your query that executes daily to use standard SQL and refer to <code>W2</code>
instead:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT COUNT(DISTINCT user), action, day
FROM W2
GROUP BY action, day;
</code></pre>
<p>Another option is to delete views <code>V</code> and <code>W</code>, then recreate them using standard
SQL under the same names. With this option, you would need to migrate all of
your queries that reference <code>V</code> or <code>W</code> to use standard SQL at the same time,
however.</p>
<h2 id="function_comparison">Function comparison</h2>
<p>The following is a partial list of legacy SQL functions and their standard SQL
equivalents.</p>
<table>
<thead>
<tr>
<th>Legacy SQL</th>
<th>Standard SQL</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>INTEGER(x)</code></td>
<td><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#safe-casting"><code>SAFE_CAST(x AS INT64)</code></a></td>
<td></td>
</tr>
<tr>
<td><code>CAST(x AS INTEGER)</code></td>
<td><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#safe-casting"><code>SAFE_CAST(x AS INT64)</code></a></td>
<td></td>
</tr>
<tr>
<td><code>DATEDIFF(t1, t2)</code></td>
<td><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#timestamp_diff"><code>TIMESTAMP_DIFF(t1, t2, DAY)</code></a></td>
<td></td>
</tr>
<tr>
<td><code>NOW</code></td>
<td><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#current_timestamp"><code>CURRENT_TIMESTAMP</code></a></td>
<td></td>
</tr>
<tr>
<td><code>STRFTIME_UTC_USEC(t, fmt)</code></td>
<td><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#format_timestamp"><code>FORMAT_TIMESTAMP(fmt, t)</code></a></td>
<td></td>
</tr>
<tr>
<td><code>UTC_USEC_TO_DAY(t)</code></td>
<td><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#timestamp_trunc"><code>TIMESTAMP_TRUNC(t, DAY)</code></a></td>
<td></td>
</tr>
<tr>
<td><code>REGEXP_MATCH(s, pattern)</code></td>
<td><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#regexp_contains"><code>REGEXP_CONTAINS(s, pattern)</code></a></td>
<td></td>
</tr>
<tr>
<td><code>IS_NULL(x)</code></td>
<td><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#is-operators"><code>x IS NULL</code></a></td>
<td></td>
</tr>
<tr>
<td><code>LEFT(s, len)</code></td>
<td><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#substr"><code>SUBSTR(s, 0, len)</code></a></td>
<td></td>
</tr>
<tr>
<td><code>RIGHT(s, len)</code></td>
<td><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#substr"><code>SUBSTR(s, -len)</code></a></td>
<td></td>
</tr>
<tr>
<td><code>s CONTAINS "foo"</code></td>
<td><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#strpos"><code>STRPOS(s, "foo") &gt; 0</code></a> or <a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#comparison-operators"><code>s LIKE '%foo%'</code></a></td>
<td></td>
</tr>
<tr>
<td><code>x % y</code></td>
<td><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#mathematical-functions"><code>MOD(x, y)</code></a></td>
<td></td>
</tr>
<tr>
<td><code>NEST(x)</code></td>
<td><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#array_agg"><code>ARRAY_AGG(x)</code></a></td>
<td></td>
</tr>
<tr>
<td><code>ANY(x)</code></td>
<td><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#any_value"><code>ANY_VALUE(x)</code></a></td>
<td></td>
</tr>
<tr>
<td><code>GROUP_CONCAT_UNQUOTED(s, sep)</code></td>
<td><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#string_agg"><code>STRING_AGG(s, sep)</code></a></td>
<td></td>
</tr>
<tr>
<td><code>SOME(x)</code></td>
<td><code>IFNULL(</code><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#logical_or"><code>LOGICAL_OR(x)</code></a><code>, false)</code></td>
<td></td>
</tr>
<tr>
<td><code>EVERY(x)</code></td>
<td><code>IFNULL(</code><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#logical_and"><code>LOGICAL_AND(x)</code></a><code>, true)</code></td>
<td></td>
</tr>
<tr>
<td><code>COUNT(DISTINCT x)</code></td>
<td><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#approx_count_distinct"><code>APPROX_COUNT_DISTINCT(x)</code></a></td>
<td>see <a href="#count_function_comparison">notes below</a></td>
</tr>
<tr>
<td><code>EXACT_COUNT_DISTINCT(x)</code></td>
<td><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#using-distinct-with-aggregate-functions"><code>COUNT(DISTINCT x)</code></a></td>
<td>see <a href="#count_function_comparison">notes below</a></td>
</tr>
<tr>
<td><code>QUANTILES(x, buckets + 1)</code></td>
<td><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#approx_quantiles"><code>APPROX_QUANTILES(x, buckets)</code></a></td>
<td></td>
</tr>
<tr>
<td><code>TOP(x, num), COUNT(*)</code></td>
<td><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#approx_top_count"><code>APPROX_TOP_COUNT(x, num)</code></a></td>
<td></td>
</tr>
<tr>
<td><code>NTH(index, arr) WITHIN RECORD</code></td>
<td><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#safe_offset-and-safe_ordinal"><code>arr[SAFE_ORDINAL(index)]</code></a></td>
<td></td>
</tr>
<tr>
<td><code>COUNT(arr) WITHIN RECORD</code></td>
<td><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#array_length"><code>ARRAY_LENGTH(arr)</code></a></td>
<td></td>
</tr>
<tr>
<td><code>HOST(url)</code></td>
<td><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#nethost"><code>NET.HOST(url)</code></a></td>
<td>see <a href="#url_function_comparison">differences below</a></td>
</tr>
<tr>
<td><code>TLD(url)</code></td>
<td><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#netpublic_suffix"><code>NET.PUBLIC_SUFFIX(url)</code></a></td>
<td>see <a href="#url_function_comparison">differences below</a></td>
</tr>
<tr>
<td><code>DOMAIN(url)</code></td>
<td><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#netreg_domain"><code>NET.REG_DOMAIN(url)</code></a></td>
<td>see <a href="#url_function_comparison">differences below</a></td>
</tr>
<tr>
<td><code>PARSE_IP(addr_string)</code></td>
<td><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#netipv4_to_int64"><code>NET.IPV4_TO_INT64</code></a><code>(</code><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#netip_from_string"><code>NET.IP_FROM_STRING</code></a><code>(addr_string))</code></td>
<td></td>
</tr>
<tr>
<td><code>FORMAT_IP(addr_int64)</code></td>
<td><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#netip_to_string"><code>NET.IP_TO_STRING</code></a><code>(</code><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#netipv4_from_int64"><code>NET.IPV4_FROM_INT64</code></a><code>(addr_int64 &amp; 0xFFFFFFFF))</code></td>
<td></td>
</tr>
<tr>
<td><code>PARSE_PACKED_IP(addr_string)</code></td>
<td><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#netip_from_string"><code>NET.IP_FROM_STRING(addr_string)</code></a></td>
<td></td>
</tr>
<tr>
<td><code>FORMAT_PACKED_IP(addr_bytes)</code></td>
<td><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#netip_to_string"><code>NET.IP_TO_STRING(addr_bytes)</code></a></td>
<td></td>
</tr>
</tbody>
</table>
<p>For more information on standard SQL functions, see the
<a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators">Functions &amp; Operators</a> topic.</p>
<h3 id="count_function_comparison"><code>COUNT</code> function comparison</h3>
<p>Both legacy SQL and standard SQL contain a COUNT function. However, each
function behaves differently, depending on the SQL dialect you use.</p>
<p>In legacy SQL, <code>COUNT(DISTINCT x)</code> returns an approximate count. In standard
SQL, it returns an exact count. For an approximate count of distinct values
that runs faster and requires fewer resources, use
<a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#approx_count_distinct"><code>APPROX_COUNT_DISTINCT</code></a>.</p>
<h3 id="url_function_comparison">URL function comparison</h3>
<p>Both legacy SQL and standard SQL contain functions for parsing URLs. In legacy
SQL, these functions are <code>HOST(url)</code>, <code>TLD(url)</code>, and <code>DOMAIN(url)</code>. In standard
SQL, these functions are
<a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#nethost"><code>NET.HOST(url)</code></a>,
<a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#netpublic_suffix"><code>NET.PUBLIC_SUFFIX(url)</code></a>,
and <a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#netreg_domain"><code>NET.REG_DOMAIN(url)</code></a>.</p>
<p><details open>
  <summary><strong>Improvements over legacy SQL functions</strong></summary></p>
<ul>
<li>Standard SQL URL functions can parse URLs starting with "//".</li>
<li>When the input is not compliant with
  <a href="https://tools.ietf.org/html/rfc3986#appendix-A">RFC 3986</a> or is not a URL
  (for example, "mailto:?to=&amp;subject=&amp;body="), different rules are applied to
  parse the input. In particular, Standard SQL URL functions can parse
  non-standard inputs without "//", such as "www.google.com". For
  best results, it is recommended that you ensure that inputs are URLs and
  comply with RFC 3986.</li>
<li><code>NET.PUBLIC_SUFFIX</code> returns results without leading dots. For example, it
  returns "com" instead of ".com". This complies with the format in the
  <a href="https://publicsuffix.org/list/public_suffix_list.dat">public suffix list</a>.</li>
<li><code>NET.PUBLIC_SUFFIX</code> and <code>NET.REG_DOMAIN</code> support uppercase letters and
  internationalized domain names. <code>TLD</code> and <code>DOMAIN</code> do not support them (might
  return unexpected results).</li>
</ul>
<p></details></p>
<p><details>
  <summary><strong>Minor differences on edge cases</strong></summary></p>
<ul>
<li>If the input does not contain any suffix in the
  <a href="https://publicsuffix.org/list/public_suffix_list.dat">public suffix list</a>,
  <code>NET.PUBLIC_SUFFIX</code> and <code>NET.REG_DOMAIN</code> return NULL, while <code>TLD</code> and
  <code>DOMAIN</code> return non-NULL values as best effort guesses.</li>
<li>If the input contains only a public suffix without a preceding label (for
  example, "http://com"), <code>NET.PUBLIC_SUFFIX</code> returns the public suffix, while
  <code>TLD</code> returns an empty string. Similarly, <code>NET.REG_DOMAIN</code> returns NULL, while
  <code>DOMAIN</code> returns the public suffix.</li>
<li>For inputs with IPv6 hosts, <code>NET.HOST</code> does not remove brackets from the
  result, as specified by <a href="https://tools.ietf.org/html/rfc3986#appendix-A">RFC 3986</a>.</li>
<li>For inputs with IPv4 hosts, <code>NET.REG_DOMAIN</code> returns NULL, while <code>DOMAIN</code>
  returns the first 3 octets.</li>
</ul>
<p></details></p>
<p><details>
  <summary><strong>Examples</strong></summary></p>
<p>In the table below, <font color='gray'>gray text color</font> indicates results
that are the same between legacy and standard SQL.</p>
<table>
<thead>
<tr>
<th>URL (description)</th>
<th>HOST</th>
<th>NET.HOST</th>
<th>TLD</th>
<th>NET.PUBLIC _SUFFIX</th>
<th>DOMAIN</th>
<th>NET.REG_DOMAIN</th>
</tr>
</thead>
<tbody>
<tr>
<td>"//google.com" <br><small>(starting with "//")</small></td>
<td>NULL</td>
<td>"google.com"</td>
<td>NULL</td>
<td>"com"</td>
<td>NULL</td>
<td>"google.com"</td>
</tr>
<tr>
<td>"google.com" <br><small>(non-standard; no "//")</small></td>
<td>NULL</td>
<td>"google.com"</td>
<td>NULL</td>
<td>"com"</td>
<td>NULL</td>
<td>"google.com"</td>
</tr>
<tr>
<td>"http://user:pass@word@x.com" <br><small>(non-standard with multiple "@")</small></td>
<td>"word@x.com"</td>
<td>"x.com"</td>
<td>".com"</td>
<td>"com"</td>
<td>"word@x.com"</td>
<td>"x.com"</td>
</tr>
<tr>
<td>"http://foo.com:1:2" <br><small>(non-standard with multiple ":")</small></td>
<td>"foo.com:1"</td>
<td>"foo.com"</td>
<td>".com:1"</td>
<td>"com"</td>
<td><font color='gray'>"foo.com"</font></td>
<td><font color='gray'>"foo.com"</font></td>
</tr>
<tr>
<td>"http://x.Co.uk" <br><small>(upper case letters)</small></td>
<td><font color='gray'>"x.Co.uk"</font></td>
<td><font color='gray'>"x.Co.uk"</font></td>
<td>".uk"</td>
<td>"Co.uk"</td>
<td>"Co.uk"</td>
<td>"x.Co.uk"</td>
</tr>
<tr>
<td>"http://a.b" <br><small>(public suffix not found)</small></td>
<td><font color='gray'>"a.b"</font></td>
<td><font color='gray'>"a.b"</font></td>
<td>".b"</td>
<td>NULL</td>
<td>"a.b"</td>
<td>NULL</td>
</tr>
<tr>
<td>"http://com" <br><small>(host contains only a public suffix)</small></td>
<td><font color='gray'>"com"</font></td>
<td><font color='gray'>"com"</font></td>
<td>""</td>
<td>"com"</td>
<td>"com"</td>
<td>NULL</td>
</tr>
<tr>
<td>"http://[::1]" <br><small>(IPv6 host; no public suffix)</small></td>
<td>"::1"</td>
<td>"[::1]"</td>
<td>""</td>
<td>NULL</td>
<td>"::1"</td>
<td>NULL</td>
</tr>
<tr>
<td>"http://1.2.3.4" <br><small>(IPv4 host; no public suffix)</small></td>
<td><font color='gray'>"1.2.3.4"</font></td>
<td><font color='gray'>"1.2.3.4"</font></td>
<td>""</td>
<td>NULL</td>
<td>"1.2.3"</td>
<td>NULL</td>
</tr>
</tbody>
</table>
<p></details></p>
<h2 id="differences_in_repeated_field_handling">Differences in repeated field handling</h2>
<p>A <code>REPEATED</code> type in legacy SQL is equivalent to an <code>ARRAY</code> of that type in
standard SQL. The following section discusses some of the differences in
operations on repeated fields between legacy and standard SQL.</p>
<h3 id="selecting_nested_repeated_leaf_fields">Selecting nested repeated leaf fields</h3>
<p>Using legacy SQL, you can "dot" into a nested repeated field without needing to
consider where the repetition occurs. In standard SQL, attempting to "dot" into
a nested repeated field results in an error. For example:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT
  repository.url,
  payload.pages.page_name
FROM
  `bigquery-public-data.samples.github_nested`
LIMIT 5;
</code></pre>
<p>Attempting to execute this query returns:</p>
<pre class="prettyprint"><code>Cannot access field page_name on a value with type
ARRAY&lt;STRUCT&lt;action STRING, html_url STRING, page_name STRING, ...&gt;&gt;
</code></pre>

<p>To correct the error and return an array of <code>page_name</code>s in the result, use an
<code>ARRAY</code> subquery instead. For example:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT
  repository.url,
  ARRAY(SELECT page_name FROM UNNEST(payload.pages)) AS page_names
FROM
  `bigquery-public-data.samples.github_nested`
LIMIT 5;
</code></pre>
<p>For more information on arrays and <code>ARRAY</code> subqueries, see the
<a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/arrays.html">Working with Arrays</a> topic.</p>
<h3 id="filtering_repeated_fields">Filtering repeated fields</h3>
<p>Using legacy SQL, you can filter repeated fields directly using a <code>WHERE</code>
clause. In standard SQL, you can express similar logic with a <code>JOIN</code> comma
operator followed by a filter. For example, consider the following legacy SQL
query:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT
  payload.pages.title
FROM
  [bigquery-public-data:samples.github_nested]
WHERE payload.pages.page_name IN ('db_jobskill', 'Profession');
</code></pre>
<p>This query returns all <code>title</code>s of pages for which the <code>page_name</code> is either
<code>db_jobskill</code> or <code>Profession</code>. You can express a similar query in standard SQL
as:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT
  page.title
FROM
  `bigquery-public-data.samples.github_nested`,
  UNNEST(payload.pages) AS page
WHERE page.page_name IN ('db_jobskill', 'Profession');
</code></pre>
<p>One difference between the preceding legacy SQL and standard SQL queries is that
if you unset the "Flatten Results" option and execute the legacy SQL query,
<code>payload.pages.title</code> is <code>REPEATED</code> in the query result. To achieve the
same semantics in standard SQL and return an array for the <code>title</code> column, use
an <code>ARRAY</code> subquery instead:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT
  title
FROM (
  SELECT
    ARRAY(SELECT title FROM UNNEST(payload.pages)
          WHERE page_name IN ('db_jobskill', 'Profession')) AS title
  FROM
    `bigquery-public-data.samples.github_nested`)
WHERE ARRAY_LENGTH(title) &gt; 0;
</code></pre>
<p>This query creates an array of <code>title</code>s where the <code>page_name</code> is either
<code>'db_jobskill'</code> or <code>'Profession'</code>, then filters any rows where the array did not
match that condition using <code>ARRAY_LENGTH(title) &gt; 0</code>.</p>
<p>For more information on arrays, see the <a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/arrays.html">Working with Arrays</a>
topic.</p>
<h3 id="structure_of_selected_nested_leaf_fields">Structure of selected nested leaf fields</h3>
<p>Legacy SQL preserves the structure of nested leaf fields in the <code>SELECT</code> list
when the "Flatten Results" option is unset, whereas standard SQL does not. For
example, consider the following legacy SQL query:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT
  repository.url,
  repository.has_downloads
FROM
  [bigquery-public-data.samples.github_nested]
LIMIT 5;
</code></pre>
<p>This query returns <code>url</code> and <code>has_downloads</code> within a record named <code>repository</code>
when "Flatten Results" is unset. Now consider the following standard SQL query:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT
  repository.url,
  repository.has_downloads
FROM
  `bigquery-public-data.samples.github_nested`
LIMIT 5;
</code></pre>
<p>This query returns <code>url</code> and <code>has_downloads</code> as top-level columns; they are not
part of a <code>repository</code> record or struct. To return them as part of a struct, use
the <code>STRUCT</code> operator:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT
  STRUCT(
    repository.url,
    repository.has_downloads) AS repository
FROM
  `bigquery-public-data.samples.github_nested`
LIMIT 5;
</code></pre>
<h3 id="removing_repetition_with_flatten">Removing repetition with <code>FLATTEN</code></h3>
<p>Standard SQL does not have a <code>FLATTEN</code> function as in legacy SQL, but you can
achieve similar semantics using the <code>JOIN</code> (comma) operator. For example,
consider the following legacy SQL query:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT
  repository.url,
  payload.pages.page_name
FROM
  FLATTEN([bigquery-public-data:samples.github_nested], payload.pages.page_name)
LIMIT 5;
</code></pre>
<p>You can express a similar query in standard SQL as follows:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT
  repository.url,
  page.page_name
FROM
  `bigquery-public-data.samples.github_nested`,
  UNNEST(payload.pages) AS page
LIMIT 5;
</code></pre>
<p>Or, equivalently, use <code>JOIN</code> rather than the comma <code>,</code> operator:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT
  repository.url,
  page.page_name
FROM
  `bigquery-public-data.samples.github_nested`
JOIN
  UNNEST(payload.pages) AS page
LIMIT 5;
</code></pre>
<p>One important difference is that the legacy SQL query returns a row where
<code>payload.pages.page_name</code> is <code>NULL</code> if <code>payload.pages</code> is empty. The standard
SQL query, however, does not return a row if <code>payload.pages</code> is empty. To
achieve exactly the same semantics, use a <code>LEFT JOIN</code> or <code>LEFT OUTER JOIN</code>. For
example:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT
  repository.url,
  page.page_name
FROM
  `bigquery-public-data.samples.github_nested`
LEFT JOIN
  UNNEST(payload.pages) AS page
LIMIT 5;
</code></pre>
<p>For more information on arrays, see the
<a href="https://cloud.google.com/bigquery/sql-reference/arrays">Working with Arrays</a> topic. For more
information on <code>UNNEST</code>, see the
<a href="https://cloud.google.com/bigquery/sql-reference/query-syntax#unnest"><code>UNNEST</code></a> topic.</p>
<h3 id="filtering_rows_with_omit_record_if">Filtering rows with <code>OMIT RECORD IF</code></h3>
<p>The <code>OMIT IF</code> clause from legacy SQL allows you to filter rows based on a
condition that can apply to repeated fields. In standard SQL, you can model
an <code>OMIT IF</code> clause with an <code>EXISTS</code> clause, <code>IN</code> clause, or simple filter.
For example, consider the following legacy SQL query:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT
  repository.url,
FROM
  [bigquery-public-data:samples.github_nested]
OMIT RECORD IF
  EVERY(payload.pages.page_name != 'db_jobskill'
        AND payload.pages.page_name != 'Profession');
</code></pre>
<p>The analogous standard SQL query is:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT
  repository.url
FROM
  `bigquery-public-data.samples.github_nested`
WHERE EXISTS (
  SELECT 1 FROM UNNEST(payload.pages)
  WHERE page_name = 'db_jobskill'
    OR page_name = 'Profession');
</code></pre>
<p>Here the <code>EXISTS</code> clause evaluates to <code>true</code> if there is at least one element of
<code>payload.pages</code> where the page name is <code>'db_jobskill'</code> or <code>'Profession'</code>.</p>
<p>Alternatively, suppose that the legacy SQL query uses <code>IN</code>:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT
  repository.url,
FROM
  [bigquery-public-data:samples.github_nested]
OMIT RECORD IF NOT
  SOME(payload.pages.page_name IN ('db_jobskill', 'Profession'));
</code></pre>
<p>In standard SQL, you can express the query using an <code>EXISTS</code> clause with <code>IN</code>:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT
  repository.url
FROM
  `bigquery-public-data.samples.github_nested`
WHERE EXISTS (
  SELECT 1 FROM UNNEST(payload.pages)
  WHERE page_name IN ('db_jobskill', 'Profession'));
</code></pre>
<p>Consider the following legacy SQL query that filters records with 80 or fewer
pages:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT
  repository.url,
FROM
  [bigquery-public-data:samples.github_nested]
OMIT RECORD IF
  COUNT(payload.pages.page_name) &lt;= 80;
</code></pre>
<p>In this case, you can use a filter with <code>ARRAY_LENGTH</code> in standard SQL:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT
  repository.url
FROM
  `bigquery-public-data.samples.github_nested`
WHERE
  ARRAY_LENGTH(payload.pages) &gt; 80;
</code></pre>
<p>Note that the <code>ARRAY_LENGTH</code> function applies to the repeated <code>payload.pages</code>
field directly rather than the nested field <code>payload.pages.page_name</code> as in the
legacy SQL query.</p>
<p>For more information on arrays and <code>ARRAY</code> subqueries, see the
<a href="https://cloud.google.com/bigquery/sql-reference/arrays">Working with Arrays</a> topic.</p>
<h2 id="semantic_differences">Semantic differences</h2>
<p>The semantics of some operations differ between legacy and standard SQL.</p>
<h3 id="automatic_data_type_coercions">Automatic data type coercions</h3>
<p>Both legacy and standard SQL support coercions (automatic conversions) between
certain data types. For example, BigQuery coerces a value of type <code>INT64</code> to
<code>FLOAT64</code> if the query passes it to a function that requires <code>FLOAT64</code> as input.
Standard SQL does not support the following coercions that legacy SQL supports.
Instead, you must use an explicit <code>CAST</code>.</p>
<ul>
<li><code>INT64</code> literal to <code>TIMESTAMP</code>. Instead, use <code>TIMESTAMP_MICROS(micros_value)</code>.</li>
<li><code>STRING</code> literal to <code>INT64</code>, <code>FLOAT64</code>, or <code>BOOL</code>. Instead, use
  <code>CAST(str AS INT64)</code>, <code>CAST(str AS FLOAT64)</code>, or <code>CAST(str AS BOOL)</code>.</li>
<li><code>STRING</code> to <code>BYTES</code>. Instead, use <code>CAST(str AS BYTES)</code>.</li>
</ul>
<h3 id="runtime_errors">Runtime errors</h3>
<p>Some functions in legacy SQL return <code>NULL</code> for invalid input, potentially
masking problems in queries or in data. Standard SQL is generally more strict,
and raises an error if an input is invalid.</p>
<ul>
<li>For all mathematical functions and operators, legacy SQL does not check for
  overflows. Standard SQL adds overflow checks, and raises an error if a
  computation overflows. This includes the <code>+</code>, <code>-</code>, <code>*</code> operators, the <code>SUM</code>,
  <code>AVG</code>, and <code>STDDEV</code> aggregate functions, and others.</li>
<li>Standard SQL raises an error upon division by zero, whereas legacy SQL returns
  <code>NULL</code>. To return <code>NULL</code> for division by zero in standard SQL, use
  <a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#mathematical-functions"><code>SAFE_DIVIDE</code></a>.</li>
<li>Standard SQL raises an error for <code>CAST</code>s where the input format is invalid or
  out of range for the target type, whereas legacy SQL returns <code>NULL</code>. To avoid
  raising an error for an invalid cast in standard SQL, use
  <a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#safe-casting"><code>SAFE_CAST</code></a>.</li>
</ul>
<h3 id="nested_repeated_results">Nested repeated results</h3>
<p>Queries executed using standard SQL preserve any nesting and repetition of the
columns in the result, and the "Flatten Results" option has no effect. To
return top-level columns for nested fields, use the <code>.*</code> operator on struct
columns. For example:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT
  repository.*
FROM
  `bigquery-public-data.samples.github_nested`
LIMIT 5;
</code></pre>
<p>To return top-level columns for repeated nested fields (<code>ARRAY</code>s of <code>STRUCT</code>s),
use a <code>JOIN</code> to take the cross product of the table's rows and the elements of
the repeated nested field. For example:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT
  repository.url,
  page.*
FROM
  `bigquery-public-data.samples.github_nested`
JOIN
  UNNEST(payload.pages) AS page
LIMIT 5;
</code></pre>
<p>For more information on arrays and <code>ARRAY</code> subqueries, see the
<a href="https://cloud.google.com/bigquery/sql-reference/arrays">Working with Arrays</a> topic.</p>
<h2 id="differences_in_user-defined_javascript_functions">Differences in user-defined JavaScript functions</h2>
<p>The <a href="https://cloud.google.com/bigquery/sql-reference/user-defined-functions">User-Defined Functions</a>
topic documents how to use JavaScript user-defined functions with standard SQL.
This section explains some of the key differences between user-defined functions
in legacy and standard SQL.</p>
<h3 id="functions_in_the_query_text">Functions in the query text</h3>
<p>With standard SQL, you use <code>CREATE TEMPORARY FUNCTION</code> as part of the query body
rather than specifying user-defined functions separately. Consider the following
standard SQL query:</p>
<pre class="prettyprint notranslate" translate="no"><code>-- Computes the harmonic mean of the elements in 'arr'.
-- The harmonic mean of x_1, x_2, ..., x_n can be expressed as:
--   n / ((1 / x_1) + (1 / x_2) + ... + (1 / x_n))
CREATE TEMPORARY FUNCTION HarmonicMean(arr ARRAY&lt;FLOAT64&gt;)
  RETURNS FLOAT64 LANGUAGE js AS """
var sum_of_reciprocals = 0;
for (var i = 0; i &lt; arr.length; ++i) {
  sum_of_reciprocals += 1 / arr[i];
}
return arr.length / sum_of_reciprocals;
""";

WITH T AS (
  SELECT GENERATE_ARRAY(1.0, x * 4, x) AS arr
  FROM UNNEST([1, 2, 3, 4, 5]) AS x
)
SELECT arr, HarmonicMean(arr) AS h_mean
FROM T;
</code></pre>
<p>This query defines a JavaScript function named <code>HarmonicMean</code> and then applies
it to the array column <code>arr</code> from <code>T</code>.</p>
<p>For more information on user-defined functions, see the
<a href="https://cloud.google.com/bigquery/sql-reference/user-defined-functions">User-Defined Functions</a> topic.</p>
<h3 id="functions_operate_on_values_rather_than_rows">Functions operate on values rather than rows</h3>
<p>In legacy SQL, JavaScript functions operate on rows from a table. In standard
SQL, as in the example above, JavaScript functions operate on values. To pass a
row value to a JavaScript function using standard SQL, define a function that
takes a struct of the same row type as the table. For example:</p>
<pre class="prettyprint notranslate" translate="no"><code>-- Takes a struct of x, y, and z and returns a struct with a new field foo.
CREATE TEMPORARY FUNCTION AddField(s STRUCT&lt;x FLOAT64, y BOOL, z STRING&gt;)
  RETURNS STRUCT&lt;x FLOAT64, y BOOL, z STRING, foo STRING&gt; LANGUAGE js AS """
var new_struct = new Object();
new_struct.x = s.x;
new_struct.y = s.y;
new_struct.z = s.z;
if (s.y) {
  new_struct.foo = 'bar';
} else {
  new_struct.foo = 'baz';
}

return new_struct;
""";

WITH T AS (
  SELECT x, MOD(off, 2) = 0 AS y, CAST(x AS STRING) AS z
  FROM UNNEST([5.0, 4.0, 3.0, 2.0, 1.0]) AS x WITH OFFSET off
)
SELECT AddField(t).*
FROM T AS t;
</code></pre>
<p>This query defines a JavaScript function that takes a struct with the same row
type as <code>T</code> and creates a new struct with an additional field named <code>foo</code>. The
<code>SELECT</code> statement passes the row <code>t</code> as input to the function and uses <code>.*</code> to
return the fields of the resulting struct in the output.</p>
<h2 id="standard_sql_highlights">Standard SQL highlights</h2>
<p>This section discusses some of the highlights of standard SQL compared to
legacy SQL.</p>
<h3 id="composability_using_with_clauses">Composability using <code>WITH</code> clauses</h3>
<p>Some of the standard SQL examples on this page make use of a
<a href="https://cloud.google.com/bigquery/sql-reference/query-syntax#with-clause"><code>WITH</code> clause</a>, which enables
extraction or reuse of named subqueries. For example:</p>
<pre class="prettyprint notranslate" translate="no"><code>WITH T AS (
  SELECT x FROM UNNEST([1, 2, 3, 4]) AS x
)
SELECT x / (SELECT SUM(x) FROM T) AS weighted_x
FROM T;
</code></pre>
<p>This query defines a names subquery <code>T</code> that contains <code>x</code> values of 1, 2, 3,
and 4. It selects <code>x</code> values from <code>T</code> and divides them by the sum of all <code>x</code>
values in <code>T</code>. This query is equivalent to a query where the contents of <code>T</code>
are inline:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT
  x / (SELECT SUM(x)
       FROM (SELECT x FROM UNNEST([1, 2, 3, 4]) AS x)) AS weighted_x
FROM (SELECT x FROM UNNEST([1, 2, 3, 4]) AS x);
</code></pre>
<p>As another example, consider this query, which uses multiple names subqueries:</p>
<pre class="prettyprint notranslate" translate="no"><code>WITH T AS (
  SELECT x FROM UNNEST([1, 2, 3, 4]) AS x
),
TPlusOne AS (
  SELECT x + 1 AS y
  FROM T
),
TPlusOneTimesTwo AS (
  SELECT y * 2 AS z
  FROM TPlusOne
)
SELECT z
FROM TPlusOneTimesTwo;
</code></pre>
<p>This query defines a sequence of transformations of the original data, followed
by a <code>SELECT</code> statement over <code>TPlusOneTimesTwo</code>. This query is equivalent to the
following query, which inlines the computations:</p>
<pre class="prettyprint notranslate" translate="no"><code>SELECT (x + 1) * 2 AS z
FROM (SELECT x FROM UNNEST([1, 2, 3, 4]) AS x);
</code></pre>
<p>For more information, see the
<a href="https://cloud.google.com/bigquery/sql-reference/query-syntax#with-clause"><code>WITH</code> clause</a> topic in the
documentation.</p>
<h3 id="composability_using_sql_functions">Composability using SQL functions</h3>
<p>Standard SQL supports
<a href="https://cloud.google.com/bigquery/user-defined-functions#structure">user-defined SQL functions</a>.
You can use user-defined SQL functions to define common expressions and then
reference them from the query. For example:</p>
<pre class="prettyprint notranslate" translate="no"><code>-- Computes the harmonic mean of the elements in 'arr'.
-- The harmonic mean of x_1, x_2, ..., x_n can be expressed as:
--   n / ((1 / x_1) + (1 / x_2) + ... + (1 / x_n))
CREATE TEMPORARY FUNCTION HarmonicMean(arr ARRAY&lt;FLOAT64&gt;) AS
(
  ARRAY_LENGTH(arr) / (SELECT SUM(1 / x) FROM UNNEST(arr) AS x)
);

WITH T AS (
  SELECT GENERATE_ARRAY(1.0, x * 4, x) AS arr
  FROM UNNEST([1, 2, 3, 4, 5]) AS x
)
SELECT arr, HarmonicMean(arr) AS h_mean
FROM T;
</code></pre>
<p>This query defines a SQL function named <code>HarmonicMean</code> and then applies it to
the array column <code>arr</code> from <code>T</code>.</p>
<h3 id="subqueries_in_more_places">Subqueries in more places</h3>
<p>Standard SQL supports subqueries in the <code>SELECT</code> list, <code>WHERE</code> clause, and
anywhere else in the query that expects an expression. For example, consider the
following standard SQL query that computes the fraction of warm days in Seattle
in 2015:</p>
<pre class="prettyprint notranslate" translate="no"><code>WITH SeattleWeather AS (
  SELECT *
  FROM `bigquery-public-data.noaa_gsod.gsod2015`
  WHERE stn = '994014'
)
SELECT
  COUNTIF(max &gt;= 70) /
    (SELECT COUNT(*) FROM SeattleWeather) AS warm_days_fraction
FROM SeattleWeather;
</code></pre>
<p>The Seattle weather station has an ID of <code>'994014'</code>. The query computes the
number of warm days based on those where the temperature reached 70 degrees
Fahrenheit, or approximately 21 degrees Celsius, divided by the total number of
recorded days for that station in 2015.</p>
<h3 id="correlated_subqueries">Correlated subqueries</h3>
<p>In standard SQL, subqueries can reference correlated columns; that is, columns
that originate from the outer query. For example, consider the following
standard SQL query:</p>
<pre class="prettyprint notranslate" translate="no"><code>WITH WashingtonStations AS (
  SELECT weather.stn AS station_id, ANY_VALUE(station.name) AS name
  FROM `bigquery-public-data.noaa_gsod.stations` AS station
  INNER JOIN `bigquery-public-data.noaa_gsod.gsod2015` AS weather
  ON station.usaf = weather.stn
  WHERE station.state = 'WA' AND station.usaf != '999999'
  GROUP BY station_id
)
SELECT washington_stations.name,
  (SELECT COUNT(*)
   FROM `bigquery-public-data.noaa_gsod.gsod2015` AS weather
   WHERE washington_stations.station_id = weather.stn
   AND max &gt;= 70) AS warm_days
FROM WashingtonStations AS washington_stations
ORDER BY warm_days DESC;
</code></pre>
<p>This query computes the names of weather stations in Washington state and the
number of days in 2015 that the temperature reached 70 degrees Fahrenheit, or
approximately 21 degrees Celsius. Notice that there is a subquery in the
<code>SELECT</code> list, and that the subquery references <code>washington_stations.station_id</code>
from the outer scope, namely <code>FROM WashingtonStations AS washington_stations</code>.</p>
<h3 id="arrays_and_structs">Arrays and structs</h3>
<p><code>ARRAY</code> and <code>STRUCT</code> are powerful concepts in standard SQL. As an example that
uses both, consider the following query, which computes the top two articles
for each day in the HackerNews dataset:</p>
<pre class="prettyprint notranslate" translate="no"><code>WITH TitlesAndScores AS (
  SELECT
    ARRAY_AGG(STRUCT(title, score)) AS titles,
    EXTRACT(DATE FROM time_ts) AS date
  FROM `bigquery-public-data.hacker_news.stories`
  WHERE score IS NOT NULL AND title IS NOT NULL
  GROUP BY date)
SELECT date,
  ARRAY(SELECT AS STRUCT title, score
        FROM UNNEST(titles)
        ORDER BY score DESC
        LIMIT 2)
  AS top_articles
FROM TitlesAndScores
ORDER BY date DESC;
</code></pre>
<p>The <code>WITH</code> clause defines <code>TitlesAndScores</code>, which contains two columns. The
first is an array of structs, where one field is an article title and the second
is a score. The <code>ARRAY_AGG</code> expression returns an array of these structs for
each day.</p>
<p>The <code>SELECT</code> statement following the <code>WITH</code> clause uses an <code>ARRAY</code> subquery to
sort and return the top two articles within each array in accordance with the
<code>score</code>, then returns the results in descending order by date.</p>
<p>For more information on arrays and <code>ARRAY</code> subqueries, see the
<a href="https://cloud.google.com/bigquery/sql-reference/arrays">Working with Arrays</a> topic. See also the
references for <a href="https://cloud.google.com/bigquery/sql-reference/data-types#array-type">arrays</a> and
<a href="https://cloud.google.com/bigquery/sql-reference/data-types#struct-type">structs</a>.</p>

  
  </div>
  
    



  

  
        
  







        
<div class="devsite-content-footer nocontent">
  
  
  
    <p>Except as otherwise noted, the content of this page is licensed under the <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 License</a>, and code samples are licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a>. For details, see our <a href="https://cloud.google.com/site-policies">Site Policies</a>. Java is a registered trademark of Oracle and/or its affiliates.</p>
  

  
    
    <p class="devsite-content-footer-date" itemprop="datePublished"
       content="2017-01-12T22:00:57.638100">
      
      Last updated January 12, 2017.
    </p>
  

</div>

        </article>
      </article>
  

        </div>
      

<footer class="devsite-footer-linkboxes nocontent
               devsite-footer-linkboxes-all-backup"><nav class="devsite-full-site-width"><ul class="devsite-footer-linkboxes-list"><li class="devsite-footer-linkbox
                 devsite-footer-linkbox-backup"><h3 class="devsite-footer-linkbox-heading">Products</h3><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/products/compute/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Compute">
              
                Compute
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/products/storage/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Storage">
              
                Storage
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/products/networking/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Networking">
              
                Networking
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/products/big-data/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Big Data">
              
                Big Data
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/products/machine-learning/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Machine Learning">
              
                Machine Learning
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/products/#management" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Management Tools">
              
                Management Tools
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/products/tools/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Developer Tools">
              
                Developer Tools
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/products/#identity-security" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Identity and Security">
              
                Identity &amp; Security
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="//status.cloud.google.com" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer System Status">
              
                System Status
              
            </a></li></ul></li><li class="devsite-footer-linkbox
                 devsite-footer-linkbox-backup"><h3 class="devsite-footer-linkbox-heading">Learn More</h3><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/why-google/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Why Google">
              
                Why Google
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/pricing/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Pricing">
              
                Pricing
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/docs/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Documentation">
              
                Documentation
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/training/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Training">
              
                Training
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/solutions/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Solutions">
              
                Solutions
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/security/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Security &amp; Compliance">
              
                Security &amp; Compliance
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/partners/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Partners">
              
                Partners
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/customers/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Customers">
              
                Customers
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/support/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Support">
              
                Support
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="//www.google.com/about/careers/jobs#t=sq&q=j&li=20&l=false&jcoid=7c8c6665-81cf-4e11-8fc9-ec1d6a69120c&j=Google+Cloud+Platform&" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Careers">
              
                Careers
              
            </a></li></ul></li><li class="devsite-footer-linkbox
                 devsite-footer-linkbox-backup"><h3 class="devsite-footer-linkbox-heading">Engage</h3><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/free-trial/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Free Trial Sign Up">
              
                Free Trial Sign Up
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="//cloudplatform.googleblog.com" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Blog">
              
                Blog
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="//plus.google.com/+googlecloud" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Google+">
              
                Google+
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="//twitter.com/googlecloud" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Twitter">
              
                Twitter
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="//www.linkedin.com/company/3648281" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer LinkedIn">
              
                LinkedIn
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="http://stackoverflow.com/questions/tagged/google-cloud-platform" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Stack Overflow">
              
                Stack Overflow
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="//www.youtube.com/c/googlecloud" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer YouTube">
              
                YouTube
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="//www.gcppodcast.com" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Podcast">
              
                Podcast
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="//cloud.google.com/newsletter/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Newsletter Signup">
              
                Newsletter Signup
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="//cloud.google.com/usability" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer UX Research">
              
                UX Research
              
            </a></li></ul></li><li class="devsite-footer-linkbox
                 devsite-footer-linkbox-sites"><a href="https://developers.google.com/"
           class="gc-analytics-event devsite-footer-linkbox-logo-link"
           data-category="Site-Wide Custom Events" data-label="Footer Google Developers Link"><img class="devsite-footer-linkbox-logo"
               src="https://cloud.google.com/_static/51f118c0ad/images/redesign-14/logo-color-knockout.svg"></a><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="//developer.android.com/index.html" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Android Link">
              
                Android
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="//developer.chrome.com/home" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Chrome Link">
              
                Chrome
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="//firebase.google.com" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Firebase Link">
              
                Firebase
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="//cloud.google.com" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Cloud Link">
              
                Google Cloud Platform
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="//developers.google.com/products/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Products Link">
              
                All Products
              
            </a></li></ul></li></ul></nav></footer><footer class="devsite-utility-footer"><nav class="devsite-utility-footer-nav devsite-nav devsite-full-site-width"><span class="devsite-utility-footer-links"><a class="devsite-utility-footer-link gc-analytics-event"
         href="https://cloud.google.com/site-terms/"
         data-category="Site-Wide Custom Events"
         data-label="Footer terms link">Terms</a><a class="devsite-utility-footer-link gc-analytics-event"
         href="https://www.google.com/policies/privacy/"
         data-category="Site-Wide Custom Events"
         data-label="Footer privacy link">Privacy</a></span><form class="devsite-utility-footer-language" action="/i18n/setlang/" method="post"><input type="hidden" name="xsrf_token" value="t5Hx4Bv29XqZEBwLyse2YdXrpSDZXVQCJd7NXrAh7Zc6MTQ4NTA2NjcyMjI5Nzg3MA" /><input type="hidden" name="next" value="/bigquery/docs/reference/standard-sql/migrating-from-legacy-sql"><select class="devsite-utility-footer-language-select kd-select" name="language"><option value="en"
             selected="selected" >
          English
        </option><option value="es"
            >
          español
        </option><option value="pt-br"
            >
          Português Brasileiro
        </option><option value="ja"
            >
          日本語
        </option><option value="zh-tw"
            >
          繁體中文
        </option></select></form></nav></footer><div class="devsite-feedback-dialog devsite-dialog"><div class="devsite-dialog-contents"><h3>Send feedback about...</h3><div class="devsite-feedback-item"><a data-type="documentation" class="gc-analytics-event"
           data-category="Site-Wide Custom Events" data-label="Docs Feedback Image"
           track-type="feedback" track-name="feedbackDocIcon" track-metadata-position="header"><div class="devsite-feedback-item-icon-container"><div class="devsite-feedback-item-icon-white devsite-feedback-item-icon-docs
                        material-icons"></div></div></a><div class="devsite-feedback-item-name">
          
          This page
        </div><div class="devsite-feedback-item-description"><a data-type="documentation" tabindex="0" class="gc-analytics-event"
             data-category="Site-Wide Custom Events" data-label="Docs Feedback Text"
             track-type="feedback" track-name="feedbackDocText" track-metadata-position="header">
            
            Documentation feedback
          </a></div></div><div class="devsite-feedback-item"><a data-type="product" tabindex="0" class="gc-analytics-event"
           data-category="Site-Wide Custom Events" data-label="Product Feedback Image"
           track-type="feedback" track-name="feedbackProductIcon" track-metadata-position="header"
         ><img class="devsite-feedback-item-icon"
               src="https://cloud.google.com/_static/51f118c0ad/images/feedback/google_56px.svg"></a><div class="devsite-feedback-item-name">
        BigQuery Documentation
        </div><div class="devsite-feedback-item-description"><a data-type="product" tabindex="0" class="gc-analytics-event"
             data-category="Site-Wide Custom Events" data-label="Product Feedback Text"
             track-type="feedback" track-name="feedbackProductText" track-metadata-position="header"
           >
            
            Product feedback
          </a></div></div></div><div class="devsite-dialog-buttons"><button type="button" class="devsite-feedback-cancel button-white gc-analytics-event"
              data-category="Site-Wide Custom Events" data-label="Cancel Feedback Button"
              track-type="feedback" track-name="cancelFeedbackButton"
              track-metadata-position="header">
        
        Cancel
      </button></div></div><script>
  $(document).ready(function() {
    new devsite.feedback.Widget({
        'product_id': '81912',
        'bucket': 'docs',
        'context': '',
        'version': 'devsite-20170119-r04-rc00.default'
      },
      document.querySelectorAll('.devsite-feedback-button'),
      'en',
      document.querySelector('.devsite-site-mask'),
      document.querySelector('.devsite-feedback-dialog'),
      document.querySelector('.devsite-feedback-cancel'),
      document.querySelectorAll('.devsite-feedback-item a:not([href])')
    );
  });
  </script></div><script async defer src="//www.gstatic.com/feedback/api.js"></script><script src="https://cloud.google.com/_static/51f118c0ad/js/jquery_ui-bundle.js"></script><script src="https://cloud.google.com/_static2/51f118c0ad/jsi18n/"></script><script src="https://cloud.google.com/_static/51f118c0ad/js/script_foot_closure.js"></script><script src="https://cloud.google.com/_static/51f118c0ad/js/script_foot.js"></script><script>
        (function($) {
          
          devsite.devsite.Init($, {'FULL_SITE_SEARCH_ENABLED': 1, 'ENABLE_BLOCKED_VIDEO_PLACEHOLDER': 0, 'VERSION_HASH': '51f118c0ad', 'SITE_NAME': 'cloud', 'HISTORY_ENABLED': 1, 'SUBPATH': '', 'ENABLE_BLOCKED_LINK_TOOLTIP': 0, 'ALLOWED_HOSTS': ['.android.com', '.api.ai', '.appspot.com', '.devsitetest.how', '.gonglchuangl.net', '.google.cn', '.google.com', '.googleplex.com', '.nest.com', '.tensorflow.org'], 'BLOCK_RSS_FEEDS': 0, 'SCRIPTSAFE_DOMAIN': 'cloud-dot-google-developers.appspot.com'},
                               '[]','en',
                               true, '',
                               {"dbf0e738b8ca34a787d59b20daa90e83": true, "782f0ac910272faf7315ed00833f4d6b": false, "5d17cf7d98343d37cdc5bede08b7b28e": true, "098dafe57affddc137df300142652cfd": false, "cb025a64a50094835616312f4774a53d": true, "e243c7e32cf8217137654928e1480ad1": true, "51470233c56fc1fde50f00b73c52b216": false, "039e5d84b87fd75807ffb37b7f1bbf2c": false, "6decc2350b46d7e6433a3c4ae1ab018f": true, "752953480de00a336d911a46966cc16d": false, "700def1a83e356c06c0925afb05de4b0": false, "6749dcb526ce9bde6993550c7d928d24": true}, '/bigquery/docs/',
                               'https://cloud.google.com/');
        })(jQuery);

        
        devsite.localInit = function() {
          
        };

        var eventfn = function() {
          if ('None') {
            devsite.analytics.trackAnalyticsEvent(
              'Request Latency',
              'Profile',
              'None',
              231.040000916);
          };
        }
        // This only works since this will get called before the load event fires.
        
        window.addEventListener("load", eventfn, false);
      </script><script>
      $('.devsite-utility-footer-language-select').each(function() {
        $(this).change(function(){$('.devsite-utility-footer-language').submit();});
      });
      </script><script async defer src="//survey.g.doubleclick.net/async_survey?site=hxfe3p7slppnael7muhpvcvkdq"></script></div><span id="devsite-request-elapsed" data-request-elapsed="231.580018997"></span></body></html>
