




<!DOCTYPE html><html lang="en"
      class="chekov"><head><script>var a=window.devsite||{};window.devsite=a;a.readyCallbacks=[];window.devsite.readyCallbacks=a.readyCallbacks;a.ready=function(b){a.readyCallbacks.push(b)};window.devsite.ready=a.ready;
</script><meta charset="utf-8"><meta name="xsrf_token" content="sZH_qTYGA0u8EuD4uziXt0SNBu8IBwM4YOdOqrOQmcs6MTQ4NTA2NjcyNDk1NjIyMA" /><link rel="canonical" href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators"><link rel="alternate" href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators" hreflang="en"><link rel="alternate" href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators" hreflang="x-default"><link rel="shortcut icon" href="https://cloud.google.com/_static/51f118c0ad/images/cloud/icons/favicons/favicon.ico"><link rel="apple-touch-icon" href="https://cloud.google.com/_static/51f118c0ad/images/cloud/icons/favicons/apple-icon.png"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet"
      href="//fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700|Material+Icons"><link rel="stylesheet"
      href="https://cloud.google.com/_static/51f118c0ad/css/devsite-cloud-white.css"><link rel="stylesheet" href="https://cloud.google.com/_static/51f118c0ad/css/cloud/cloud-site.css"><link rel="search"
        type="application/opensearchdescription+xml"
        title="Google Cloud Platform"
        href="https://cloud.google.com/s/opensearch.xml"><script src="https://cloud.google.com/_static/51f118c0ad/js/jquery-bundle.js"></script><meta property="og:site_name" content="Google Cloud Platform"><meta property="og:type" content="website"><meta property="og:url" content="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators"><meta property="og:locale" content="en"><script>
    var ___gcfg = ___gcfg || {};
    ___gcfg.lang = 'en';
  </script><title>Functions &amp; Operators &nbsp;|&nbsp; BigQuery Documentation
      &nbsp;|&nbsp; Google Cloud Platform</title><meta property="og:title" content="Functions &amp; Operators &nbsp;|&nbsp; BigQuery Documentation
      &nbsp;|&nbsp; Google Cloud Platform"><link href="https://cloud.google.com/cloud/css/local_css.css" rel="stylesheet" type="text/css" /></head><body class="devsite-doc-page
               
               
               
               devsite-header-no-lower-tabs"
        id="top_of_page"><div class="devsite-wrapper"><header class="devsite-top-section nocontent"><div class="devsite-top-logo-row-wrapper-wrapper"><div class="devsite-top-logo-row-wrapper"><div class="devsite-top-logo-row devsite-full-site-width"><button type="button" class="devsite-expand-section-nav devsite-header-icon-button
                                     button-flat material-icons gc-analytics-event"
                data-category="Site-Wide Custom Events" data-label="Hamburger menu"></button><div class="devsite-product-name-wrapper"><a href="https://cloud.google.com/" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo"><img src="https://cloud.google.com/_static/51f118c0ad/images/cloud/gcp-logo.svg"
       class="devsite-site-logo" alt="Google Cloud Platform"><span class="devsite-site-name devsite-product-name">Google Cloud Platform</span></a></div><div class="devsite-header-upper-tabs"><nav class="devsite-doc-set-nav devsite-nav devsite-overflow-tabs-scroll-wrapper"><ul class="devsite-doc-set-nav-tab-list devsite-overflow-tabs-scroll"><li class="devsite-doc-set-nav-tab-container"><a href="https://cloud.google.com/why-google/"
         class="
                devsite-doc-set-nav-tab gc-analytics-event"
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Why Google"
       >
        Why Google
      </a></li><li class="devsite-doc-set-nav-tab-container"><a href="https://cloud.google.com/products/"
         class="
                devsite-doc-set-nav-tab gc-analytics-event"
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Products"
       >
        Products
      </a></li><li class="devsite-doc-set-nav-tab-container"><a href="https://cloud.google.com/solutions/"
         class="
                devsite-doc-set-nav-tab gc-analytics-event"
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Solutions"
       >
        Solutions
      </a></li><li class="devsite-doc-set-nav-tab-container"><a href="https://cloud.google.com/launcher/"
         class="
                devsite-doc-set-nav-tab gc-analytics-event"
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Launcher"
       >
        Launcher
      </a></li><li class="devsite-doc-set-nav-tab-container"><a href="https://cloud.google.com/pricing/"
         class="
                devsite-doc-set-nav-tab gc-analytics-event"
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Pricing"
       >
        Pricing
      </a></li><li class="devsite-doc-set-nav-tab-container"><a href="https://cloud.google.com/customers/"
         class="
                devsite-doc-set-nav-tab gc-analytics-event"
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Customers"
       >
        Customers
      </a></li><li class="devsite-doc-set-nav-tab-container"><a href="https://cloud.google.com/docs/"
         class="devsite-doc-set-nav-active
                devsite-doc-set-nav-tab gc-analytics-event"
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Documentation"
       >
        Documentation
      </a></li><li class="devsite-doc-set-nav-tab-container"><a href="https://cloud.google.com/support/"
         class="
                devsite-doc-set-nav-tab gc-analytics-event"
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Support"
       >
        Support
      </a></li><li class="devsite-doc-set-nav-tab-container"><a href="https://cloud.google.com/partners/"
         class="
                devsite-doc-set-nav-tab gc-analytics-event"
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Partners"
       >
        Partners
      </a></li></ul></nav></div><form class="devsite-search-form" action="https://cloud.google.com/s/results/"
              method="GET" id="top-search"><div id="searchbox" class="devsite-searchbox"><input placeholder='Search'
                   type="text"
                   class="devsite-search-field devsite-search-query"
                   name="q"
                   value=""
                   autocomplete="off"><div class="devsite-search-image material-icons"></div></div><input type="hidden"
                 name="p"
                 id="search_project"
                 value="/bigquery/docs/"
                 data-project-name="BigQuery Documentation"
                 data-project-path="/bigquery/docs/"
                 data-query-match=""><input type="hidden" class="suggest-project" value="BigQuery Documentation" /></form><a class="devsite-header-link gc-analytics-event"
           href="//console.cloud.google.com/"
           data-category="Site-Wide Custom Events"
           data-label="Site header link"><div class="devsite-header-link-label">Console</div></a><button type="button" class="devsite-search-button devsite-header-icon-button button-flat
                                     material-icons"></button><a href="https://www.google.com/accounts/ServiceLogin?passive=true&continue=https%3A%2F%2Fcloud.google.com%2Fbigquery%2Fdocs%2Freference%2Fstandard-sql%2Ffunctions-and-operators&service=cloudconsole"
   class="devsite-user-signin devsite-top-button button gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Sign in button">
  
  Sign in
</a></div></div></div><div class="devsite-collapsible-section"><div class="devsite-header-background devsite-full-site-width"
      ><div class="devsite-product-id-row devsite-full-site-width"><div class="devsite-product-description-row"><ul class="devsite-breadcrumb-list"><li class="devsite-breadcrumb-item">
    
    
    
      Documentation
    
    
  </li></ul></div><div class="devsite-product-button-row
            cloud-free-trial-eligible"><button type="button" id="devsite-feedback-project"
          class="devsite-feedback-button devsite-top-button gc-analytics-event"
          data-category="Site-Wide Custom Events" data-label="Send Feedback Button"
          track-type="feedback" track-name="sendFeedbackLink" track-metadata-position="header">
  
  Send feedback
  </button><a
    
      href="https://console.cloud.google.com/freetrial"
    
    
      class="cloud-free-trial-button button-primary button"
    
    
      
      track-type="freeTrial"
      
      track-name="try"
      
      track-metadata-position="nav"
      
    >
    Try It Free
  </a><a
    
      href="https://cloud.google.com/contact/"
    
    
      class="cloud-contact-sales-button button"
    
    
      
      track-type="sales"
      
      track-name="contact"
      
      track-metadata-position="nav"
      
    >
    Contact Sales
  </a></div></div></div></div></header><script>
  if (window.jQuery) {
    $(document).ready(function() {
      if (window.devsite && window.devsite.search) {
        
        window.devsite.search.init('en')
      }
    });
  }
</script><div id="gc-wrapper"itemscope itemtype="http://schema.org/Article"><input class="google-tag-manager-id" type="hidden" value="GTM-5CVQBG"><script>
      var dataLayer = [{"freeTrialEligibleUser": "True", "language": {"requested": "en", "served": "en"}, "projectName": "BigQuery Documentation", "scriptsafe": null, "signedIn": "False", "internalUser": "False"}];
    </script>

      
        <div class="devsite-site-mask"></div>
        
  

<nav class="devsite-nav-responsive devsite-nav nocontent" tabindex="0">
  
  <div class="devsite-nav-responsive-tabs-panel">
    
      
        



<nav class="devsite-nav-responsive-tabs devsite-nav">
  <ul class="devsite-nav-list">
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <a 
           href="https://cloud.google.com/why-google/?nav=true"
         
         class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                "
         data-category="Site-Wide Custom Events" data-label="Responsive Tab: Why Google">
        Why Google
      </a>
      
    
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <a 
           href="https://cloud.google.com/products/?nav=true"
         
         class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                "
         data-category="Site-Wide Custom Events" data-label="Responsive Tab: Products">
        Products
      </a>
      
    
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <a 
           href="https://cloud.google.com/solutions/?nav=true"
         
         class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                "
         data-category="Site-Wide Custom Events" data-label="Responsive Tab: Solutions">
        Solutions
      </a>
      
    
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <a 
           href="https://cloud.google.com/launcher/"
         
         class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                "
         data-category="Site-Wide Custom Events" data-label="Responsive Tab: Launcher">
        Launcher
      </a>
      
    
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <a 
           href="https://cloud.google.com/pricing/?nav=true"
         
         class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                "
         data-category="Site-Wide Custom Events" data-label="Responsive Tab: Pricing">
        Pricing
      </a>
      
    
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <a 
           href="https://cloud.google.com/customers/?nav=true"
         
         class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                "
         data-category="Site-Wide Custom Events" data-label="Responsive Tab: Customers">
        Customers
      </a>
      
    
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <span class="devsite-nav-responsive-forward devsite-nav-responsive-tab devsite-nav-title
                   devsite-nav-active gc-analytics-event"
            data-category="Site-Wide Custom Events" data-label="Responsive Tab: Documentation"
            tabindex="0">
        Documentation
      </span>
    
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <a 
           href="https://cloud.google.com/support/?nav=true"
         
         class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                "
         data-category="Site-Wide Custom Events" data-label="Responsive Tab: Support">
        Support
      </a>
      
    
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <a 
           href="https://cloud.google.com/partners/?nav=true"
         
         class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                "
         data-category="Site-Wide Custom Events" data-label="Responsive Tab: Partners">
        Partners
      </a>
      
    
    </li>
  
  
  </ul>
</nav>

      
    
  </div>
  
  
  <div class="devsite-nav-responsive-sidebar-panel">
    
    <div class="devsite-nav-responsive-back" tabindex="0"></div>
    
    <nav class="devsite-nav-responsive-sidebar">
      <ul class="devsite-nav-list devsite-nav-expandable"><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Cloud BigQuery</span></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Product Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Documentation</a></li><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Quickstarts</span></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/quickstarts" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">All Quickstarts</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/quickstart-web-ui" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Using the Web UI</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/quickstart-command-line" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Using the Command-Line Tool</a></li><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">How-to Guides</span></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/how-to" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">All How-to Guides</a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Loading Data Into BigQuery</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/loading-data" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/preparing-data-for-loading" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Preparing Data for Loading</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/transforming-data" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Transforming Data</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/loading-data-cloud-storage" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Loading Data From Cloud Storage</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/loading-data-cloud-datastore" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Loading Data From Cloud Datastore</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/loading-data-post-request" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Loading Data with a POST Request</a></li><li class="devsite-nav-item devsite-nav-beta devsite-nav-has-status"><a href="https://cloud.google.com/bigquery/docs/loading-data-sql-dml" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click"><span class="devsite-nav-text">Loading Data with SQL DML</span><span class="devsite-nav-icon-wrapper"><span class="devsite-nav-icon material-icons" title="Beta"></span></span></a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/streaming-data-into-bigquery" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Streaming Data Into BigQuery</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/creating-partitioned-tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Creating Date-Partitioned Tables</a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Querying Data</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/querying-data" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/external-data-sources" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">External Data Sources</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/user-defined-functions" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">User-Defined Functions</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/table-decorators" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Table Decorators</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/audit-logs" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Audit Logs</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/sample-tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Sample Tables</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/data" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Dealing with Data</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/querying-partitioned-tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Querying Date-Partitioned Tables</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/querying-wildcard-tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Querying Data Using a Wildcard Table</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/saving-sharing-queries" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Saving and Sharing Queries</a></li></ul></li><li class="devsite-nav-item devsite-nav-beta devsite-nav-has-status"><a href="https://cloud.google.com/bigquery/docs/updating-data" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click"><span class="devsite-nav-text">Updating Data</span><span class="devsite-nav-icon-wrapper"><span class="devsite-nav-icon material-icons" title="Beta"></span></span></a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/exporting-data" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Exporting Data</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/labeling-datasets" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Labeling Datasets</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/monitoring" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">BigQuery Monitoring Using Stackdriver</a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">BigQuery API Basics</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/create-simple-app-api" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Create A Simple App With the API</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/authentication" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">BigQuery Authentication</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/managing_jobs_datasets_projects" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Managing Jobs, Datasets, and Projects</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Managing Tables</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/batch" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Batch Requests</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/api-performance" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">API Performance Tips</a></li></ul></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/bigquery-web-ui" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">BigQuery Web UI</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/bq-command-line-tool" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">bq Command-Line Tool</a></li><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">APIs &amp; Reference</span></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">All APIs &amp; References</a></li><li class="devsite-nav-item devsite-nav-beta devsite-nav-has-status"><a href="https://cloud.google.com/bigquery/docs/reference/libraries" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click"><span class="devsite-nav-text">Client Libraries</span><span class="devsite-nav-icon-wrapper"><span class="devsite-nav-icon material-icons" title="Beta"></span></span></a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">REST Reference</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="1">v2</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="1"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="2">Datasets</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="2"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/datasets" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/datasets/delete" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">delete</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/datasets/get" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">get</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/datasets/insert" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">insert</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/datasets/list" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">list</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/datasets/patch" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">patch</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/datasets/update" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">update</a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="2">Jobs</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="2"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/cancel" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">cancel</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/get" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">get</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/getQueryResults" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">getQueryResults</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/insert" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">insert</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/list" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">list</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/query" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">query</a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="2">Projects</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="2"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/projects" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/projects/list" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">list</a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="2">Tabledata</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="2"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tabledata" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tabledata/insertAll" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">insertAll</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tabledata/list" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">list</a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="2">Tables</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="2"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tables/delete" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">delete</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tables/get" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">get</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tables/insert" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">insert</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tables/list" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">list</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tables/patch" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">patch</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tables/update" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">update</a></li></ul></li></ul></li></ul></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/legacy-sql" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Query Reference (legacy SQL)</a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Query Reference (standard SQL)</span><a class="devsite-nav-toggle devsite-nav-toggle-expanded material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-expanded"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/enabling-standard-sql" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Enabling Standard SQL</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/migrating-from-legacy-sql" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Migrating from Legacy SQL</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/data-types" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Data Types</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/query-syntax" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Query Syntax</a></li><li class="devsite-nav-item devsite-nav-active"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Functions &amp; Operators</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/lexical" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Lexical Structure</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/arrays" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Working with Arrays</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/user-defined-functions" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">User-Defined Functions</a></li><li class="devsite-nav-item devsite-nav-beta devsite-nav-has-status"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/data-manipulation-language" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click"><span class="devsite-nav-text">Data Manipulation Language</span><span class="devsite-nav-icon-wrapper"><span class="devsite-nav-icon material-icons" title="Beta"></span></span></a></li><li class="devsite-nav-item devsite-nav-beta devsite-nav-has-status"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/dml-syntax" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click"><span class="devsite-nav-text">DML Syntax</span><span class="devsite-nav-icon-wrapper"><span class="devsite-nav-icon material-icons" title="Beta"></span></span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Concepts</span></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/concepts" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">All Concepts</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/what-is-bigquery" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">BigQuery Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/data-formats" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Data Formats</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/data-types" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Data Types</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/access-control" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Access Control</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/partitioned-tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Partitioned Tables</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/query-plan-explanation" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Query Plan Explanation</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/wildcard-tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Wildcard Tables</a></li><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Tutorials</span></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/tutorials" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">All Tutorials</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/visualize-data-studio" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Visualizing BigQuery Data Using Google Data Studio 360</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/visualize-datalab" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Visualizing BigQuery Data Using Google Cloud Datalab</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/solutions/mobile/mobile-firebase-analytics-big-query" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Importing Firebase Analytics Data into BigQuery</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/solutions/real-time/kubernetes-redis-bigquery" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Real-time data analysis with Kubernetes, Redis, and BigQuery</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/solutions/real-time/kubernetes-pubsub-bigquery" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Real-time data analysis with Kubernetes, Google Cloud Pub/Sub, and BigQuery</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/solutions/real-time/fluentd-bigquery" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Real-time logs analysis using Fluentd and BigQuery</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/solutions/time-series/bigquery-financial-forex" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Analyzing Financial Time Series using BigQuery</a></li><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Resources</span></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/resources" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">All Resources</a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Pricing and Quotas</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/pricing" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Pricing</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/quota-policy" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Quotas</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/cost-controls" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Cost Controls</a></li></ul></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/release-notes" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Release Notes</a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Support</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/support" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Support Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/troubleshooting-errors" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Troubleshooting Errors</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/launch-checklist" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Launch Checklist</a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Public Data Sets</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/gdelt-books" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">GDELT Books Corpus</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/github" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">GitHub Data</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/hacker-news" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Hacker News</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/irs-990" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">IRS 990 Data</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/baseball" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Major League Baseball</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/medicare" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Medicare</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/noaa-ghcn" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">NOAA GHCN Weather</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/noaa-gsod" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">NOAA GSOD Weather</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/nyc-311" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">NYC 311 Service Requests</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/nyc-citi-bike" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">NYC Citi Bike Trips</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/nyc-tlc-trips" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">NYC TLC Trips</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/nyc-tree-census" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">NYC Tree Census</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/nypd-mv-collisions" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">NYPD Motor Vehicle Collisions</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/openimages" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Open Images</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/stackoverflow" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Stack Overflow</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/usa-disease" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">USA Disease Data</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/usa-names" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">USA Names Data</a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">BigQuery Partners</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/partners" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/partners/simba-drivers" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Simba Drivers</a></li></ul></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/bigquery-connector-for-excel" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">BigQuery Connector for Excel</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/sla" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Service Level Agreement</a></li></ul>
    </nav>
  </div>
  
</nav>


        <div class="devsite-main-content clearfix">

        
        

        
  
  
    
    
      
  <nav class="devsite-section-nav devsite-nav nocontent">
    <ul class="devsite-nav-list devsite-nav-expandable"><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Cloud BigQuery</span></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Product Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Documentation</a></li><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Quickstarts</span></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/quickstarts" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">All Quickstarts</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/quickstart-web-ui" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Using the Web UI</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/quickstart-command-line" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Using the Command-Line Tool</a></li><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">How-to Guides</span></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/how-to" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">All How-to Guides</a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Loading Data Into BigQuery</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/loading-data" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/preparing-data-for-loading" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Preparing Data for Loading</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/transforming-data" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Transforming Data</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/loading-data-cloud-storage" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Loading Data From Cloud Storage</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/loading-data-cloud-datastore" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Loading Data From Cloud Datastore</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/loading-data-post-request" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Loading Data with a POST Request</a></li><li class="devsite-nav-item devsite-nav-beta devsite-nav-has-status"><a href="https://cloud.google.com/bigquery/docs/loading-data-sql-dml" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click"><span class="devsite-nav-text">Loading Data with SQL DML</span><span class="devsite-nav-icon-wrapper"><span class="devsite-nav-icon material-icons" title="Beta"></span></span></a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/streaming-data-into-bigquery" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Streaming Data Into BigQuery</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/creating-partitioned-tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Creating Date-Partitioned Tables</a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Querying Data</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/querying-data" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/external-data-sources" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">External Data Sources</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/user-defined-functions" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">User-Defined Functions</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/table-decorators" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Table Decorators</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/audit-logs" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Audit Logs</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/sample-tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Sample Tables</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/data" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Dealing with Data</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/querying-partitioned-tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Querying Date-Partitioned Tables</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/querying-wildcard-tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Querying Data Using a Wildcard Table</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/saving-sharing-queries" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Saving and Sharing Queries</a></li></ul></li><li class="devsite-nav-item devsite-nav-beta devsite-nav-has-status"><a href="https://cloud.google.com/bigquery/docs/updating-data" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click"><span class="devsite-nav-text">Updating Data</span><span class="devsite-nav-icon-wrapper"><span class="devsite-nav-icon material-icons" title="Beta"></span></span></a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/exporting-data" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Exporting Data</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/labeling-datasets" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Labeling Datasets</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/monitoring" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">BigQuery Monitoring Using Stackdriver</a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">BigQuery API Basics</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/create-simple-app-api" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Create A Simple App With the API</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/authentication" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">BigQuery Authentication</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/managing_jobs_datasets_projects" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Managing Jobs, Datasets, and Projects</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Managing Tables</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/batch" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Batch Requests</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/api-performance" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">API Performance Tips</a></li></ul></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/bigquery-web-ui" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">BigQuery Web UI</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/bq-command-line-tool" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">bq Command-Line Tool</a></li><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">APIs &amp; Reference</span></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">All APIs &amp; References</a></li><li class="devsite-nav-item devsite-nav-beta devsite-nav-has-status"><a href="https://cloud.google.com/bigquery/docs/reference/libraries" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click"><span class="devsite-nav-text">Client Libraries</span><span class="devsite-nav-icon-wrapper"><span class="devsite-nav-icon material-icons" title="Beta"></span></span></a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">REST Reference</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="1">v2</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="1"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="2">Datasets</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="2"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/datasets" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/datasets/delete" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">delete</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/datasets/get" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">get</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/datasets/insert" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">insert</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/datasets/list" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">list</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/datasets/patch" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">patch</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/datasets/update" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">update</a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="2">Jobs</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="2"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/cancel" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">cancel</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/get" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">get</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/getQueryResults" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">getQueryResults</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/insert" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">insert</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/list" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">list</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/query" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">query</a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="2">Projects</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="2"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/projects" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/projects/list" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">list</a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="2">Tabledata</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="2"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tabledata" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tabledata/insertAll" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">insertAll</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tabledata/list" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">list</a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="2">Tables</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="2"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tables/delete" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">delete</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tables/get" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">get</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tables/insert" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">insert</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tables/list" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">list</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tables/patch" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">patch</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tables/update" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="3" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">update</a></li></ul></li></ul></li></ul></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/legacy-sql" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Query Reference (legacy SQL)</a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Query Reference (standard SQL)</span><a class="devsite-nav-toggle devsite-nav-toggle-expanded material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-expanded"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/enabling-standard-sql" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Enabling Standard SQL</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/migrating-from-legacy-sql" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Migrating from Legacy SQL</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/data-types" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Data Types</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/query-syntax" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Query Syntax</a></li><li class="devsite-nav-item devsite-nav-active"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Functions &amp; Operators</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/lexical" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Lexical Structure</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/arrays" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Working with Arrays</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/user-defined-functions" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">User-Defined Functions</a></li><li class="devsite-nav-item devsite-nav-beta devsite-nav-has-status"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/data-manipulation-language" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click"><span class="devsite-nav-text">Data Manipulation Language</span><span class="devsite-nav-icon-wrapper"><span class="devsite-nav-icon material-icons" title="Beta"></span></span></a></li><li class="devsite-nav-item devsite-nav-beta devsite-nav-has-status"><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/dml-syntax" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click"><span class="devsite-nav-text">DML Syntax</span><span class="devsite-nav-icon-wrapper"><span class="devsite-nav-icon material-icons" title="Beta"></span></span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Concepts</span></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/concepts" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">All Concepts</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/what-is-bigquery" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">BigQuery Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/data-formats" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Data Formats</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/data-types" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Data Types</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/access-control" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Access Control</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/partitioned-tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Partitioned Tables</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/query-plan-explanation" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Query Plan Explanation</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/wildcard-tables" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Wildcard Tables</a></li><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Tutorials</span></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/tutorials" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">All Tutorials</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/visualize-data-studio" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Visualizing BigQuery Data Using Google Data Studio 360</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/visualize-datalab" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Visualizing BigQuery Data Using Google Cloud Datalab</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/solutions/mobile/mobile-firebase-analytics-big-query" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Importing Firebase Analytics Data into BigQuery</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/solutions/real-time/kubernetes-redis-bigquery" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Real-time data analysis with Kubernetes, Redis, and BigQuery</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/solutions/real-time/kubernetes-pubsub-bigquery" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Real-time data analysis with Kubernetes, Google Cloud Pub/Sub, and BigQuery</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/solutions/real-time/fluentd-bigquery" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Real-time logs analysis using Fluentd and BigQuery</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/solutions/time-series/bigquery-financial-forex" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Analyzing Financial Time Series using BigQuery</a></li><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Resources</span></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/resources" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">All Resources</a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Pricing and Quotas</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/pricing" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Pricing</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/quota-policy" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Quotas</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/cost-controls" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Cost Controls</a></li></ul></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/release-notes" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Release Notes</a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Support</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/support" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Support Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/troubleshooting-errors" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Troubleshooting Errors</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/launch-checklist" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Launch Checklist</a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">Public Data Sets</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/gdelt-books" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">GDELT Books Corpus</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/github" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">GitHub Data</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/hacker-news" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Hacker News</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/irs-990" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">IRS 990 Data</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/baseball" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Major League Baseball</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/medicare" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Medicare</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/noaa-ghcn" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">NOAA GHCN Weather</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/noaa-gsod" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">NOAA GSOD Weather</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/nyc-311" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">NYC 311 Service Requests</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/nyc-citi-bike" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">NYC Citi Bike Trips</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/nyc-tlc-trips" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">NYC TLC Trips</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/nyc-tree-census" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">NYC Tree Census</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/nypd-mv-collisions" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">NYPD Motor Vehicle Collisions</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/openimages" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Open Images</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/stackoverflow" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Stack Overflow</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/usa-disease" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">USA Disease Data</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/public-data/usa-names" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">USA Names Data</a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" track-type="leftNav" track-name="expandNavSectionNoLink" track-metadata-position="0">BigQuery Partners</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/partners" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Overview</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/partners/simba-drivers" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="1" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Simba Drivers</a></li></ul></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/docs/bigquery-connector-for-excel" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">BigQuery Connector for Excel</a></li><li class="devsite-nav-item"><a href="https://cloud.google.com/bigquery/sla" class="devsite-nav-title gc-analytics-event" track-type="leftNav" track-name="titleLink" track-metadata-position="0" data-category="Site-Wide Custom Events" data-label="Left nav" data-action="click">Service Level Agreement</a></li></ul>
  </nav>

    

    
  <nav class="devsite-page-nav devsite-nav"></nav>


      <article class="devsite-article">
        <article class="devsite-article-inner">
  
          
  



  
  <nav class="devsite-breadcrumb-nav devsite-nav">
    


<ul class="devsite-breadcrumb-list">
  
  <li class="devsite-breadcrumb-item">
    
    
    <a href="https://cloud.google.com/bigquery/" class="devsite-breadcrumb-link gc-analytics-event"
       data-category="Site-Wide Custom Events" data-label="Breadcrumbs"
       data-value="1">
    
    
      BigQuery
    
    
    </a>
    
  </li>
  
  <li class="devsite-breadcrumb-item">
    
    
    <div class="devsite-breadcrumb-guillemet material-icons"></div>
    
    
    <a href="https://cloud.google.com/bigquery/docs/" class="devsite-breadcrumb-link gc-analytics-event"
       data-category="Site-Wide Custom Events" data-label="Breadcrumbs"
       data-value="2">
    
    
      Documentation
    
    
    </a>
    
  </li>
  
  <li class="devsite-breadcrumb-item">
    
    
    <div class="devsite-breadcrumb-guillemet material-icons"></div>
    
    
    <a href="https://cloud.google.com/docs/" class="devsite-breadcrumb-link gc-analytics-event"
       data-category="Site-Wide Custom Events" data-label="Breadcrumbs"
       data-value="3">
    
    
      Documentation
    
    
    </a>
    
  </li>
  
</ul>

  </nav>
  
  
  <h1 itemprop="name" class="devsite-page-title">
    Functions &amp; Operators
  </h1>
  
  
  <nav class="devsite-page-nav-embedded devsite-nav"></nav>
  
  <div class="devsite-article-body clearfix
            "
       itemprop="articleBody">
    
    
<div class="toc">
<ul>
<li><a href="#function-call-syntax">Function call syntax</a></li>
<li><a href="#conversion-rules">Conversion rules</a><ul>
<li><a href="#casting">Casting</a><ul>
<li><a href="#safe-casting">Safe casting</a></li>
<li><a href="#casting-hex-strings-to-integers">Casting hex strings to integers</a></li>
<li><a href="#casting-date-types">Casting date types</a></li>
<li><a href="#casting-timestamp-types">Casting timestamp types</a></li>
<li><a href="#casting-between-date-and-timestamp-types">Casting between date and timestamp types</a></li>
</ul>
</li>
<li><a href="#coercion">Coercion</a><ul>
<li><a href="#literal-coercion">Literal coercion</a></li>
<li><a href="#parameter-coercion">Parameter coercion</a></li>
</ul>
</li>
<li><a href="#additional-conversion-functions">Additional conversion functions</a></li>
</ul>
</li>
<li><a href="#aggregate-functions">Aggregate functions</a><ul>
<li><a href="#any_value">ANY_VALUE</a></li>
<li><a href="#approx_count_distinct">APPROX_COUNT_DISTINCT</a></li>
<li><a href="#approx_quantiles">APPROX_QUANTILES</a></li>
<li><a href="#approx_top_count">APPROX_TOP_COUNT</a></li>
<li><a href="#array_agg">ARRAY_AGG</a></li>
<li><a href="#array_concat_agg">ARRAY_CONCAT_AGG</a></li>
<li><a href="#avg">AVG</a></li>
<li><a href="#bit_and">BIT_AND</a></li>
<li><a href="#bit_or">BIT_OR</a></li>
<li><a href="#bit_xor">BIT_XOR</a></li>
<li><a href="#countexpression">COUNT(expression)</a></li>
<li><a href="#count">COUNT(*)</a></li>
<li><a href="#countif">COUNTIF</a></li>
<li><a href="#logical_and">LOGICAL_AND</a></li>
<li><a href="#logical_or">LOGICAL_OR</a></li>
<li><a href="#max">MAX</a></li>
<li><a href="#min">MIN</a></li>
<li><a href="#string_agg">STRING_AGG</a></li>
<li><a href="#sum">SUM</a></li>
<li><a href="#using-distinct-with-aggregate-functions">Using DISTINCT with aggregate functions</a></li>
<li><a href="#using-order-by-with-aggregate-functions">Using ORDER BY with aggregate functions</a></li>
<li><a href="#using-limit-with-aggregate-functions">Using LIMIT with aggregate functions</a></li>
<li><a href="#order-of-operations-for-aggregate-modifiers">Order of operations for aggregate modifiers</a></li>
</ul>
</li>
<li><a href="#statistical-aggregate-functions">Statistical Aggregate Functions</a><ul>
<li><a href="#corr">CORR</a></li>
<li><a href="#covar_pop">COVAR_POP</a></li>
<li><a href="#covar_samp">COVAR_SAMP</a></li>
<li><a href="#stddev_samp">STDDEV_SAMP</a></li>
<li><a href="#stddev">STDDEV</a></li>
<li><a href="#stddev_pop">STDDEV_POP</a></li>
<li><a href="#var_samp">VAR_SAMP</a></li>
<li><a href="#variancex">VARIANCE(X)</a></li>
<li><a href="#var_pop">VAR_POP</a></li>
</ul>
</li>
<li><a href="#analytic-functions">Analytic Functions</a><ul>
<li><a href="#analytic-function-syntax">Analytic Function Syntax</a><ul>
<li><a href="#over-clause">OVER Clause</a><ul>
<li><a href="#partition-by-clause">PARTITION BY Clause</a></li>
<li><a href="#order-by-clause">ORDER BY Clause</a></li>
<li><a href="#window-frame-clause">Window Frame Clause</a><ul>
<li><a href="#rows">ROWS</a></li>
<li><a href="#range">RANGE</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#window-clause">WINDOW Clause</a><ul>
<li><a href="#named-windows">Named Windows</a></li>
</ul>
</li>
<li><a href="#supported-functions">Supported Functions</a><ul>
<li><a href="#numbering-functions">Numbering Functions</a></li>
<li><a href="#navigation-functions">Navigation Functions</a><ul>
<li><a href="#first_value">FIRST_VALUE</a></li>
<li><a href="#last_value">LAST_VALUE</a></li>
</ul>
</li>
<li><a href="#nth_value">NTH_VALUE</a><ul>
<li><a href="#lead">LEAD</a></li>
<li><a href="#lag">LAG</a></li>
</ul>
</li>
<li><a href="#aggregate-analytic-functions">Aggregate Analytic Functions</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#bit-functions">Bit Functions</a><ul>
<li><a href="#bit_count">BIT_COUNT</a></li>
</ul>
</li>
<li><a href="#mathematical-functions">Mathematical functions</a><ul>
<li><a href="#special-cases-for-ieee_dividex-y">Special cases for IEEE_DIVIDE(X, Y)</a></li>
<li><a href="#special-cases-for-powx-y-and-powerx-y">Special cases for POW(X, Y) and POWER(X, Y)</a></li>
<li><a href="#special-cases-for-logx-y">Special cases for LOG(X, Y)</a></li>
<li><a href="#rounding-functions">Rounding functions</a></li>
<li><a href="#trigonometric-and-hyperbolic-functions">Trigonometric and hyperbolic functions</a><ul>
<li><a href="#special-cases-for-atan2">Special cases for ATAN2()</a></li>
<li><a href="#special-cases-for-trigonometric-and-hyperbolic-rounding-functions">Special cases for trigonometric and hyperbolic rounding functions</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#hash-functions">Hash functions</a><ul>
<li><a href="#farm_fingerprint">FARM_FINGERPRINT</a></li>
<li><a href="#md5">MD5</a></li>
<li><a href="#sha1">SHA1</a></li>
<li><a href="#sha256">SHA256</a></li>
<li><a href="#sha512">SHA512</a></li>
</ul>
</li>
<li><a href="#string-functions">String functions</a><ul>
<li><a href="#byte_length">BYTE_LENGTH</a></li>
<li><a href="#char_length">CHAR_LENGTH</a></li>
<li><a href="#character_length">CHARACTER_LENGTH</a></li>
<li><a href="#code_points_to_bytes">CODE_POINTS_TO_BYTES</a></li>
<li><a href="#code_points_to_string">CODE_POINTS_TO_STRING</a></li>
<li><a href="#concat">CONCAT</a></li>
<li><a href="#ends_with">ENDS_WITH</a></li>
<li><a href="#from_base64">FROM_BASE64</a></li>
<li><a href="#length">LENGTH</a></li>
<li><a href="#lpad">LPAD</a></li>
<li><a href="#lower">LOWER</a></li>
<li><a href="#ltrim">LTRIM</a></li>
<li><a href="#regexp_contains">REGEXP_CONTAINS</a></li>
<li><a href="#regexp_extract">REGEXP_EXTRACT</a></li>
<li><a href="#regexp_extract_all">REGEXP_EXTRACT_ALL</a></li>
<li><a href="#regexp_replace">REGEXP_REPLACE</a></li>
<li><a href="#replace">REPLACE</a></li>
<li><a href="#repeat">REPEAT</a></li>
<li><a href="#rpad">RPAD</a></li>
<li><a href="#rtrim">RTRIM</a></li>
<li><a href="#safe_convert_bytes_to_string">SAFE_CONVERT_BYTES_TO_STRING</a></li>
<li><a href="#split">SPLIT</a></li>
<li><a href="#starts_with">STARTS_WITH</a></li>
<li><a href="#strpos">STRPOS</a></li>
<li><a href="#substr">SUBSTR</a></li>
<li><a href="#to_base64">TO_BASE64</a></li>
<li><a href="#to_code_points">TO_CODE_POINTS</a></li>
<li><a href="#trim">TRIM</a></li>
<li><a href="#upper">UPPER</a></li>
<li><a href="#string-format">String FORMAT()</a><ul>
<li><a href="#syntax">Syntax</a></li>
<li><a href="#supported-format-specifiers">Supported format specifiers</a><ul>
<li><a href="#flags">Flags</a></li>
<li><a href="#width">Width</a></li>
<li><a href="#precision">Precision</a></li>
</ul>
</li>
<li><a href="#t-and-t-behavior">%t and %T behavior</a></li>
<li><a href="#error-conditions">Error conditions</a></li>
<li><a href="#wzxhzdk452nullwzxhzdk453-argument-handling"><code>NULL</code> argument handling</a></li>
<li><a href="#additional-semantic-rules">Additional semantic rules</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#json-functions">JSON functions</a></li>
<li><a href="#array-functions">Array functions</a><ul>
<li><a href="#array_concat">ARRAY_CONCAT</a></li>
<li><a href="#array_length">ARRAY_LENGTH</a></li>
<li><a href="#array_to_string">ARRAY_TO_STRING</a></li>
<li><a href="#generate_array">GENERATE_ARRAY</a></li>
<li><a href="#generate_date_array">GENERATE_DATE_ARRAY</a></li>
<li><a href="#offset-and-ordinal">OFFSET and ORDINAL</a></li>
<li><a href="#safe_offset-and-safe_ordinal">SAFE_OFFSET and SAFE_ORDINAL</a></li>
</ul>
</li>
<li><a href="#date-functions">DATE functions</a><ul>
<li><a href="#current_date">CURRENT_DATE</a></li>
<li><a href="#extract">EXTRACT</a></li>
<li><a href="#date-year-month-day">DATE (year, month, day)</a></li>
<li><a href="#date-timestamp">DATE (timestamp)</a></li>
<li><a href="#date_add">DATE_ADD</a></li>
<li><a href="#date_sub">DATE_SUB</a></li>
<li><a href="#date_diff">DATE_DIFF</a></li>
<li><a href="#date_trunc">DATE_TRUNC</a></li>
<li><a href="#date_from_unix_date">DATE_FROM_UNIX_DATE</a></li>
<li><a href="#format_date">FORMAT_DATE</a></li>
<li><a href="#parse_date">PARSE_DATE</a></li>
<li><a href="#unix_date">UNIX_DATE</a></li>
<li><a href="#supported-format-elements-for-date">Supported Format Elements for DATE</a></li>
</ul>
</li>
<li><a href="#datetime-functions">DATETIME functions</a><ul>
<li><a href="#current_datetime">CURRENT_DATETIME</a></li>
<li><a href="#datetime-year-month-hour-minute-second">DATETIME (year, month, hour, minute, second)</a></li>
<li><a href="#datetime-date-time">DATETIME (date, time)</a></li>
<li><a href="#datetime-timestamp-timezone">DATETIME (timestamp, timezone)</a></li>
<li><a href="#datetime_add">DATETIME_ADD</a></li>
<li><a href="#datetime_sub">DATETIME_SUB</a></li>
<li><a href="#datetime_diff">DATETIME_DIFF</a></li>
<li><a href="#datetime_trunc">DATETIME_TRUNC</a></li>
<li><a href="#format_datetime">FORMAT_DATETIME</a></li>
<li><a href="#parse_datetime">PARSE_DATETIME</a></li>
<li><a href="#supported-format-elements-for-datetime">Supported format elements for DATETIME</a></li>
</ul>
</li>
<li><a href="#time-functions">TIME functions</a><ul>
<li><a href="#current_time">CURRENT_TIME</a></li>
<li><a href="#time-hour-minute-second">TIME (hour, minute, second)</a></li>
<li><a href="#time-timestamp">TIME (timestamp)</a></li>
<li><a href="#time_add">TIME_ADD</a></li>
<li><a href="#time_sub">TIME_SUB</a></li>
<li><a href="#time_diff">TIME_DIFF</a></li>
<li><a href="#time_trunc">TIME_TRUNC</a></li>
<li><a href="#supported-format-elements-for-time">Supported format elements for TIME</a></li>
</ul>
</li>
<li><a href="#timestamp-functions">TIMESTAMP functions</a><ul>
<li><a href="#current_timestamp">CURRENT_TIMESTAMP</a></li>
<li><a href="#extract_1">EXTRACT</a></li>
<li><a href="#string">STRING</a></li>
<li><a href="#timestamp-string">TIMESTAMP (string)</a></li>
<li><a href="#timestamp-date">TIMESTAMP (date)</a></li>
<li><a href="#timestamp_add">TIMESTAMP_ADD</a></li>
<li><a href="#timestamp_sub">TIMESTAMP_SUB</a></li>
<li><a href="#timestamp_diff">TIMESTAMP_DIFF</a></li>
<li><a href="#timestamp_trunc">TIMESTAMP_TRUNC</a></li>
<li><a href="#format_timestamp">FORMAT_TIMESTAMP</a></li>
<li><a href="#parse_timestamp">PARSE_TIMESTAMP</a></li>
<li><a href="#timestamp_seconds-int64">TIMESTAMP_SECONDS (INT64)</a></li>
<li><a href="#timestamp_millis">TIMESTAMP_MILLIS</a></li>
<li><a href="#timestamp_micros">TIMESTAMP_MICROS</a></li>
<li><a href="#unix_seconds">UNIX_SECONDS</a></li>
<li><a href="#unix_millis">UNIX_MILLIS</a></li>
<li><a href="#unix_micros">UNIX_MICROS</a></li>
<li><a href="#supported-format-elements-for-timestamp">Supported format elements for TIMESTAMP</a></li>
<li><a href="#timezone-definitions">Timezone definitions</a></li>
</ul>
</li>
<li><a href="#security-functions">Security functions</a><ul>
<li><a href="#session_user">SESSION_USER</a></li>
</ul>
</li>
<li><a href="#net-functions">NET functions</a><ul>
<li><a href="#netip_from_string">NET.IP_FROM_STRING</a></li>
<li><a href="#netsafe_ip_from_string">NET.SAFE_IP_FROM_STRING</a></li>
<li><a href="#netip_to_string">NET.IP_TO_STRING</a></li>
<li><a href="#netip_trunc">NET.IP_TRUNC</a></li>
<li><a href="#netipv4_from_int64">NET.IPV4_FROM_INT64</a></li>
<li><a href="#netipv4_to_int64">NET.IPV4_TO_INT64</a></li>
<li><a href="#nethost">NET.HOST</a></li>
<li><a href="#netpublic_suffix">NET.PUBLIC_SUFFIX</a></li>
<li><a href="#netreg_domain">NET.REG_DOMAIN</a></li>
</ul>
</li>
<li><a href="#operators">Operators</a><ul>
<li><a href="#element-access-operators">Element access operators</a></li>
<li><a href="#arithmetic-operators">Arithmetic operators</a></li>
<li><a href="#bitwise-operators">Bitwise operators</a></li>
<li><a href="#logical-operators">Logical operators</a></li>
<li><a href="#comparison-operators">Comparison operators</a></li>
<li><a href="#in-operators">IN operators</a></li>
<li><a href="#is-operators">IS operators</a></li>
</ul>
</li>
<li><a href="#conditional-expressions">Conditional expressions</a></li>
<li><a href="#expression-subqueries">Expression subqueries</a></li>
</ul>
</div>

<p>This page explains BigQuery expressions, including functions and
operators.</p>

<h2 id="function-call-syntax">Function call syntax</h2>

<p>Functions have a function name, can accept zero or more arguments and use
function call syntax:</p>

<pre class="codehilite"><code>function_name( [arg1][, ...] )</code></pre>

<p>Notation:</p>

<ul>
<li>A comma followed by an ellipsis within square brackets "[, ... ]" indicates
  that the preceding item can repeat in a comma-separated list.</li>
</ul>

<p>The following rules apply to all functions unless explicitly indicated otherwise
in the function description:</p>

<ul>
<li>For functions that accept numeric types, if one operand is a floating point
operand and the other operand is another numeric type, both operands are
converted to FLOAT64 before the function is
evaluated.</li>
<li>If an operand is <code>NULL</code>, the result is <code>NULL</code>, with
the exception of the <a href="#is-operators">IS operators</a>.</li>
<li>For functions that are time zone
sensitive (as indicated in the function description), the default time zone,
UTC, is used if a time zone is not specified.</li>
</ul>

<h2 id="conversion-rules">Conversion rules</h2>

<p>"Conversion" includes, but is not limited to, casting and coercion.</p>

<ul>
<li>Casting is explicit conversion and uses the <code>CAST()</code> function.</li>
<li>Coercion is implicit conversion, which BigQuery performs
  automatically under the conditions described below.</li>
<li>There is a third group of conversion
functions that have their own function
  names, such as <code>UNIX_DATE()</code>.</li>
</ul>

<p>The table below summarizes all possible <code>CAST</code> and coercion possibilities for
BigQuery data types. "Coercion To" applies to all <em>expressions</em> of a
given data type (e.g. a column)
, but literals
and parameters can also be coerced. See <a href="#literal-coercion">Literal Coercion</a> and
<a href="#parameter-coercion">Parameter Coercion</a> for details.</p>

<table>
<thead>
<tr>
<th>From Type</th>
<th>CAST to</th>
<th>Coercion To</th>
</tr>
</thead>
<tbody>
<tr>
<td>INT64</td>
<td><span>BOOL</span><br /><span>FLOAT64</span><br /><span>INT64</span><br /><span>STRING</span><br /></td>
<td><span>FLOAT64</span><br /></td>
</tr>
<tr>
<td>FLOAT64</td>
<td><span>FLOAT64</span><br /><span>INT64</span><br /><span>STRING</span><br /></td>
<td>&nbsp;</td>
</tr>
<tr>
<td>BOOL</td>
<td><span>BOOL</span><br /><span>INT64</span><br /><span>STRING</span><br /></td>
<td>&nbsp;</td>
</tr>
<tr>
<td>STRING</td>
<td><span>BOOL</span><br /><span>BYTES</span><br /><span>DATE</span><br /><span>DATETIME</span><br /><span>FLOAT64</span><br /><span>INT64</span><br /><span>STRING</span><br /><span>TIME</span><br /><span>TIMESTAMP</span><br /></td>
<td>&nbsp;</td>
</tr>
<tr>
<td>BYTES</td>
<td><span>BYTES</span><br /><span>STRING</span><br /></td>
<td>&nbsp;</td>
</tr>
<tr>
<td>DATE</td>
<td><span>DATE</span><br /><span>STRING</span><br /><span>TIMESTAMP</span><br /></td>
<td>&nbsp;</td>
</tr>
<tr>
<td>DATETIME</td>
<td>
STRING
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>TIME</td>
<td>
STRING
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td><span>DATE</span><br /><span>STRING</span><br /></td>
<td>&nbsp;</td>
</tr>
<tr>
<td>ARRAY</td>
<td>ARRAY</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>STRUCT</td>
<td>STRUCT</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>

<h3 id="casting">Casting</h3>

<p>Syntax:</p>

<pre class="codehilite"><code>CAST(expr AS typename)</code></pre>

<p>Cast syntax is used in a query to indicate that the result type of an
expression should be converted to some other type.</p>

<p>Example:</p>

<pre class="codehilite"><code class="language-sql">CAST(x=1 AS STRING)</code></pre>

<p>This results in <code>"true"</code> if <code>x</code> is <code>1</code>, <code>"false"</code> for any other non-<code>NULL</code>
value, and <code>NULL</code> if <code>x</code> is <code>NULL</code>.</p>

<p>Casts between supported types that do not successfully map from the original
value to the target domain produce runtime errors. For example, casting
BYTES to STRING where the
byte sequence is not valid UTF-8 results in a runtime error.</p>

<p>When casting an expression <code>x</code> of the following types, these rules apply:</p>

<table>
<tr>
<th>From</th>
<th>To</th>
<th>Rule(s) when casting <code>x</code></th>
</tr>
<tr>
<td>INT64</td>
<td>FLOAT64</td>
<td>Returns a close but potentially not exact
FLOAT64
value.</td>
</tr>
<tr>
<td>INT64</td>
<td>BOOL</td>
<td>Returns <code>FALSE</code> if <code>x</code> is <code>0</code>, <code>TRUE</code> otherwise.</td>
</tr>
<tr>
<td>FLOAT64</td>
<td>INT64</td>
<td>Returns the closest INT64 value.<br />
Halfway cases such as 1.5 or -0.5 round away from zero.</td>
</tr>
<tr>
<td>FLOAT64</td>
<td>STRING</td>
<td>Returns an approximate string representation.<br />
</td>
</tr>
<tr>
<td>BOOL</td>
<td>INT64</td>
<td>Returns <code>1</code> if <code>x</code> is <code>TRUE</code>, <code>0</code> otherwise.</td>
</tr>
<tr>
<td>BOOL</td>
<td>STRING</td>
<td>Returns <code>"true"</code> if <code>x</code> is <code>TRUE</code>, <code>"false"</code> otherwise.</td>
</tr>
<tr>
<td>STRING</td>
<td>FLOAT64</td>
<td>Returns <code>x</code> as a
FLOAT64
value, interpreting it as having the same form as a valid
FLOAT64
literal.<br />
Also supports casts from <code>"inf"</code>, <code>"+inf"</code>, <code>"-inf"</code>, and <code>"nan"</code>.<br />
Conversions are case-insensitive.
</td>
</tr>
<tr>
<td>STRING</td>
<td>BOOL</td>
<td>Returns <code>TRUE</code> if <code>x</code> is <code>"true"</code> and
<code>FALSE</code> if <code>x</code> is <code>"false"</code><br />
All other values of <code>x</code> are invalid and throw an error instead of
casting to BOOL.<br />
STRINGs are case-insensitive when converting to BOOL.</td>
</tr>
<tr>
<td>STRING</td>
<td>BYTES</td>
<td>STRINGs are cast to BYTES using UTF-8 encoding. For example, the STRING "&copy;",
when cast to BYTES, would become a 2-byte sequence with the hex values C2 and
A9.</td>
</tr>
<tr>
<td>BYTES</td>
<td>STRING</td>
<td>Returns <code>x</code> interpreted as a UTF-8 STRING.<br />
For example, the BYTES literal
<code>b'\xc2\xa9'</code>, when cast to STRING, is interpreted as UTF-8 and
becomes the unicode character "&copy;".<br />
An error occurs if <code>x</code> is not valid UTF-8.</td>
</tr>
<tr>
</tr><tr>
<td>ARRAY</td>
<td>ARRAY</td>
<td>Must be the exact same ARRAY type.</td>
</tr>
<tr>
<td>STRUCT</td>
<td>STRUCT</td>
<td>Allowed if the following conditions are met:<br />
<ol>
<li>The two STRUCTs have the same number of fields.</li>
<li>The original STRUCT field types can be explicitly cast to the corresponding
target STRUCT field types (as defined by field order, not field name).</li>
</ol>
</td>
</tr>
</table>

<h4 id="safe-casting">Safe casting</h4>

<p>When using <code>CAST</code>, a query can fail if BigQuery is unable to perform
the cast. For example, the following query generates an error:</p>

<pre class="codehilite"><code>SELECT CAST(&quot;apple&quot; AS INT64) AS not_a_number;</code></pre>

<p>If you want to protect your queries from these types of errors, you can use
<code>SAFE_CAST</code>. <code>SAFE_CAST</code> is identical to <code>CAST</code>, except it returns NULL instead
of raising an error.</p>

<pre class="codehilite"><code>SELECT SAFE_CAST(&quot;apple&quot; AS INT64) AS not_a_number;

+--------------+
| not_a_number |
+--------------+
| NULL         |
+--------------+</code></pre>

<p>If you are casting from bytes to strings, you can also use the
function, <code>SAFE_CONVERT_BYTES_TO_STRING</code>. Any invalid UTF-8 characters are
replaced with the unicode replacement character, <code>U+FFFD</code>. See
<a href="#safe_convert_bytes_to_string">SAFE_CONVERT_BYTES_TO_STRING</a> for more
information.</p>

<h4 id="casting-hex-strings-to-integers">Casting hex strings to integers</h4>

<p>If you are working with hex strings (<code>0x123</code>), you can cast those strings as
integers:</p>

<pre class="codehilite"><code>SELECT '0x123' as hex_value, CAST('0x123' as INT64) as hex_to_int;

+-----------+------------+
| hex_value | hex_to_int |
+-----------+------------+
| 0x123     | 291        |
+-----------+------------+

SELECT '0x123' as hex_value, CAST('-0x123' as INT64) as hex_to_int;

+-----------+------------+
| hex_value | hex_to_int |
+-----------+------------+
| 0x123     | -291       |
+-----------+------------+</code></pre>

<h4 id="casting-date-types">Casting date types</h4>

<p>BigQuery supports casting date types to/from strings as follows:</p>

<pre class="codehilite"><code>CAST(date_expression AS STRING)
CAST(string_expression AS DATE)</code></pre>

<p>Casting from a date type to a string is independent of time zone and is of the
form <code>YYYY-MM-DD</code>.  When casting from string to date, the string must conform to
the supported date literal format, and is independent of time zone. If the string
expression is invalid or represents a date that is outside of the supported
min/max range, then an error is produced.</p>

<h4 id="casting-timestamp-types">Casting timestamp types</h4>

<p>BigQuery supports casting timestamp types to/from strings as follows:</p>

<pre class="codehilite"><code>CAST(timestamp_expression AS STRING)
CAST(string_expression AS TIMESTAMP)</code></pre>

<p>When casting from timestamp types to string, the timestamp is interpreted using
the default time zone, UTC. The number of subsecond digits
produced depends on the number of trailing zeroes in the subsecond part: the
CAST function will truncate zero, three, or six digits.</p>

<p>When casting from string to a timestamp, <code>string_expression</code> must conform to
the supported timestamp literal formats, or else a runtime error
occurs.  The <code>string_expression</code> may itself contain a <code>time_zone</code>&mdash;see
<a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/data-types#time-zones">time zones</a>.
If there is a time zone in the <code>string_expression</code>, that time zone is used for
conversion, otherwise the default time zone, UTC, is used.
If the string has fewer than six digits, then it is implicitly widened.</p>

<p>An error is produced if the <code>string_expression</code> is invalid, has more than six
subsecond digits (i.e. precision greater than microseconds), or represents a
time outside of the supported timestamp range.</p>

<h4 id="casting-between-date-and-timestamp-types">Casting between date and timestamp types</h4>

<p>BigQuery supports casting between date and timestamp types as follows:</p>

<pre class="codehilite"><code>CAST(date_expression AS TIMESTAMP)
CAST(timestamp_expression AS DATE)</code></pre>

<p>Casting from a date to a timestamp interprets <code>date_expression</code> as of midnight
(start of the day) in the default time zone, UTC. Casting
from a timestamp to date effectively truncates the timestamp as of the default
time zone.</p>

<h3 id="coercion">Coercion</h3>

<p>BigQuery coerces the result type of an expression to another type if
needed to match function signatures.  For example, if function func() is defined
to take a single argument of type INT64  and an
 expression is used as an argument that has a result type of
FLOAT64, then the result of the expression will be
coerced to INT64 type before func() is computed.</p>

<h4 id="literal-coercion">Literal coercion</h4>

<p>BigQuery supports the following literal coercions:</p>

<table>
<thead>
<tr>
<th>Input Data Type</th>
<th>Result Data Type</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>STRING literal</td>
<td><span> DATE</span><br /><span> TIMESTAMP</span><br /></td>
<td>
</td>
</tr>
</tbody>
</table>

<p>Literal coercion is needed when the actual literal type is different from the
type expected by the function in question. For
example, if function <code>func()</code> takes a DATE argument, then the expression
<code>func("2014-09-27")</code> is valid because the STRING literal <code>"2014-09-27"</code>
is coerced to DATE.</p>

<p>Literal conversion is evaluated at analysis time, and gives an error if the
input literal cannot be converted successfully to the target type.</p>

<p><strong>Note:</strong> String literals do not coerce to numeric types.</p>

<h4 id="parameter-coercion">Parameter coercion</h4>

<p>BigQuery supports the following parameter coercions:</p>

<table>
<thead>
<tr>
<th>Input Data Type</th>
<th>Result Data Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>STRING parameter</td>
<td></td>
</tr>
</tbody>
</table>

<p>If the parameter value cannot be coerced successfully to the target type, an
error is provided.</p>

<p><a id="additional_date_and_timestamp_conversion_functions"></a></p>

<h3 id="additional-conversion-functions">Additional conversion functions</h3>

<p>BigQuery provides the following additional conversion functions:</p>

<ul>
<li><a href="#date-functions">DATE functions</a></li>
<li><a href="#datetime-functions">DATETIME functions</a></li>
<li><a href="#time-functions">TIME functions</a></li>
<li><a href="#timestamp-functions">TIMESTAMP functions</a></li>
</ul>

<h2 id="aggregate-functions">Aggregate functions</h2>

<p>An <em>aggregate function</em> is a function that performs a calculation on a set of
values. COUNT, MIN and MAX are examples of aggregate functions.</p>

<pre class="codehilite"><code>SELECT COUNT(*) as total_count, COUNT(fruit) as non_null_count,
       MIN(fruit) as min, MAX(fruit) as max
FROM UNNEST([NULL, &quot;apple&quot;, &quot;pear&quot;, &quot;orange&quot;]) as fruit;</code></pre>

<pre class="codehilite"><code>+-------------+----------------+-------+------+
| total_count | non_null_count | min   | max  |
+-------------+----------------+-------+------+
| 4           | 3              | apple | pear |
+-------------+----------------+-------+------+</code></pre>

<p>The following sections describe the aggregate functions that BigQuery
supports.</p>

<h3 id="any_value">ANY_VALUE</h3>

<pre class="codehilite"><code>ANY_VALUE(expression)</code></pre>

<p><strong>Description</strong></p>

<p>Returns any value from the input or <code>NULL</code> if there are zero input rows.
 The value
returned is non-deterministic, which means you might receive a different result
each time you use this function.</p>

<p><strong>Supported Argument Types</strong></p>

<p>Any</p>

<p><strong>Returned Data Types</strong></p>

<p>Matches the input data type.</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>SELECT ANY_VALUE(fruit) as example
FROM UNNEST([&quot;apple&quot;, &quot;banana&quot;, &quot;pear&quot;]) as fruit;

+---------+
| example |
+---------+
| apple   |
+---------+</code></pre>

<h3 id="approx_count_distinct">APPROX_COUNT_DISTINCT</h3>

<pre class="codehilite"><code>APPROX_COUNT_DISTINCT(expression)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the approximate result for <code>COUNT(DISTINCT expression)</code>. The value
returned is a statistical estimate&mdash;not necessarily the actual value.</p>

<p>This function is less accurate than <code>COUNT(DISTINCT expression)</code>, but performs
better on huge input.</p>

<p><strong>Supported Argument Types</strong></p>

<p>All data types <strong>except</strong>:</p>

<ul>
<li>ARRAY</li>
<li>STRUCT</li>
<li>FLOAT64</li>
</ul>

<p><strong>Returned Data Types</strong></p>

<p>INT64</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>SELECT APPROX_COUNT_DISTINCT(x) as approx_distinct
FROM UNNEST([0, 1, 1, 2, 3, 5]) as x;

+-----------------+
| approx_distinct |
+-----------------+
| 5               |
+-----------------+</code></pre>

<h3 id="approx_quantiles">APPROX_QUANTILES</h3>

<pre class="codehilite"><code>APPROX_QUANTILES(expression, number)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the approximate boundaries for a group of <code>expression</code> values, where
<code>number</code> represents the number of quantiles to create. This function returns
an array of <code>number</code> + 1 elements, where the first element is the approximate
minimum and the last element is the approximate maximum.</p>

<p><strong>Supported Argument Types</strong></p>

<p><code>expression</code> can be any supported data type <strong>except</strong>:</p>

<ul>
<li>ARRAY</li>
<li>STRUCT</li>
</ul>

<p><code>number</code> must be INT64.</p>

<p><strong>Returned Data Types</strong></p>

<p>An ARRAY of the type specified by the <code>expression</code>
parameter.</p>

<p>This function ignores <code>NULL</code> expressions. Returns <code>NULL</code> if there are zero input
rows or <code>expression</code> evaluates to NULL for all rows.</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>SELECT APPROX_QUANTILES(x, 2) as approx_quantiles
FROM UNNEST([NULL, NULL, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]) as x;

+------------------+
| approx_quantiles |
+------------------+
| [1, 5, 10]       |
+------------------+</code></pre>

<h3 id="approx_top_count">APPROX_TOP_COUNT</h3>

<pre class="codehilite"><code>APPROX_TOP_COUNT(expression, number)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the approximate top elements of <code>expression</code>. The <code>number</code> parameter
specifies the number of elements returned.</p>

<p><strong>Supported Argument Types</strong></p>

<p><code>expression</code> can be of any data type that the <code>GROUP BY</code> clause supports.</p>

<p><code>number</code> must be INT64.</p>

<p><strong>Returned Data Types</strong></p>

<p>An ARRAY of type STRUCT.
The STRUCT contains two fields. The first field
contains an <code>input</code> value. The second field contains an
INT64 specifying the number of times the <code>input</code>
was returned.</p>

<p>Returns <code>NULL</code> if there are zero input rows.</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>SELECT APPROX_TOP_COUNT(x, 2) as approx_top_count
FROM UNNEST([&quot;apple&quot;, &quot;apple&quot;, &quot;pear&quot;, &quot;pear&quot;, &quot;pear&quot;, &quot;banana&quot;]) as x;

+-------------------------+
| approx_top_count        |
+-------------------------+
| [{pear, 3}, {apple, 2}] |
+-------------------------+</code></pre>

<p><strong>NULL handling</strong></p>

<p>APPROX_TOP_COUNT does not ignore NULLs in the input. For example:</p>

<pre class="codehilite"><code>SELECT APPROX_TOP_COUNT(x, 2) as approx_top_count
FROM UNNEST([NULL, &quot;pear&quot;, &quot;pear&quot;, &quot;pear&quot;, &quot;apple&quot;, NULL]) as x;

+------------------------+
| approx_top_count       |
+------------------------+
| [{pear, 3}, {NULL, 2}] |
+------------------------+</code></pre>

<h3 id="array_agg">ARRAY_AGG</h3>

<pre class="codehilite"><code>ARRAY_AGG(expression)</code></pre>

<p><strong>Description</strong></p>

<p>Returns an ARRAY of all <code>expression</code> values,
including <code>NULL</code>s and <code>NaN</code>s. The order of the elements in the output array is
non-deterministic, which means you might receive a different result each time
you use this function.</p>

<p><strong>Supported Argument Types</strong></p>

<p>All data types except ARRAY.</p>

<p><strong>Returned Data Types</strong></p>

<p>ARRAY</p>

<p>If there are zero input rows, this function returns <code>NULL</code>.</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>SELECT ARRAY_AGG(x*2) as array_agg
FROM UNNEST([1, 2, 3, 4, 5]) as x;

+------------------+
| array_agg        |
+------------------+
| [2, 4, 6, 8, 10] |
+------------------+</code></pre>

<h3 id="array_concat_agg">ARRAY_CONCAT_AGG</h3>

<pre class="codehilite"><code>ARRAY_CONCAT_AGG(expression)</code></pre>

<p><strong>Description</strong></p>

<p>Concatenates elements from <code>expression</code> of type
ARRAY, returning a single
ARRAY as a result. The order of the elements in the
output array is non-deterministic, which means you might receive a different
result each time you use this function.</p>

<p><strong>Supported Argument Types</strong></p>

<p>ARRAY</p>

<p><strong>Returned Data Types</strong></p>

<p>ARRAY</p>

<p>This function ignores <code>NULL</code> expressions. Returns <code>NULL</code> if there are zero input
rows or <code>expression</code> evaluates to NULL for all rows.</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>SELECT ARRAY_CONCAT_AGG(x) AS array_concat_agg
FROM (SELECT [1,2] x
      UNION ALL
      SELECT [3,4] x);

+-------------------+
| array_concat_agg  |
+-------------------+
| [1, 2, 3, 4]      |
+-------------------+</code></pre>

<h3 id="avg">AVG</h3>

<pre class="codehilite"><code>AVG(expression)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the average of non-<code>NULL</code> input values, or <code>NaN</code> if the input contains a
<code>NaN</code>.</p>

<p><strong>Supported Argument Types</strong></p>

<p>Any numeric input type, such as  INT64. Note that, for
floating point input types, the return result is non-deterministic, which
means you might receive a different result each time you use this function.</p>

<p><strong>Returned Data Types</strong></p>

<p>FLOAT64</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>SELECT AVG(x) as avg
FROM UNNEST([0, 2, NULL, 4, 4, 5]) as x;

+-----+
| avg |
+-----+
| 3   |
+-----+</code></pre>

<h3 id="bit_and">BIT_AND</h3>

<pre class="codehilite"><code>BIT_AND(expression)</code></pre>

<p><strong>Description</strong></p>

<p>Performs a bitwise AND operation on <code>expression</code> and returns the result.</p>

<p><strong>Supported Argument Types</strong></p>

<p>INT64</p>

<p><strong>Returned Data Types</strong></p>

<p>INT64</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>SELECT BIT_AND(x) as bit_and FROM UNNEST([0xF001, 0x00A1]) as x;

+---------+
| bit_and |
+---------+
| 1       |
+---------+</code></pre>

<h3 id="bit_or">BIT_OR</h3>

<pre class="codehilite"><code>BIT_OR(expression)</code></pre>

<p><strong>Description</strong></p>

<p>Performs a bitwise OR operation on <code>expression</code> and returns the result.</p>

<p><strong>Supported Argument Types</strong></p>

<p>INT64</p>

<p><strong>Returned Data Types</strong></p>

<p>INT64</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>SELECT BIT_OR(x) as bit_or FROM UNNEST([0xF001, 0x00A1]) as x;

+--------+
| bit_or |
+--------+
| 61601  |
+--------+</code></pre>

<h3 id="bit_xor">BIT_XOR</h3>

<pre class="codehilite"><code>BIT_XOR(expression)</code></pre>

<p><strong>Description</strong></p>

<p>Performs a bitwise XOR operation on <code>expression</code> and returns the result.</p>

<p><strong>Supported Argument Types</strong></p>

<p>INT64</p>

<p><strong>Returned Data Types</strong></p>

<p>INT64</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>SELECT BIT_XOR(x) as bit_xor FROM UNNEST([0xF001, 0x00A1]) as x;

+---------+
| bit_xor |
+---------+
| 61600   |
+---------+</code></pre>

<h3 id="countexpression">COUNT(expression)</h3>

<pre class="codehilite"><code>COUNT(expression)</code></pre>

<p><strong>Description</strong></p>

<p>Returns 0 if there are zero input rows or <code>expression</code> evaluates to <code>NULL</code> for
all rows.</p>

<p><strong>Supported Argument Types</strong></p>

<p>Any data type</p>

<p><strong>Return Data Types</strong></p>

<p>INT64</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>SELECT COUNT(x) as count
FROM UNNEST([1, 2, NULL, 4, 5]) as x;

+-------+
| count |
+-------+
| 4     |
+-------+</code></pre>

<h3 id="count">COUNT(*)</h3>

<pre class="codehilite"><code>COUNT(*)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the number of rows in the input.</p>

<p><strong>Supported Argument Types</strong></p>

<p>Not applicable</p>

<p><strong>Return Data Types</strong></p>

<p>INT64</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>SELECT COUNT(*) as count
FROM UNNEST([1, 2, NULL, 4, 5]) as x;

+-------+
| count |
+-------+
| 5     |
+-------+</code></pre>

<h3 id="countif">COUNTIF</h3>

<pre class="codehilite"><code>COUNTIF(expression)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the count of <code>TRUE</code> values for <code>expression</code>.
Returns <code>0</code> if there are zero input rows or <code>expression</code> evaluates to <code>FALSE</code>
for all rows.</p>

<p><strong>Supported Argument Types</strong></p>

<p>BOOL</p>

<p><strong>Return Data Types</strong></p>

<p>INT64</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>SELECT COUNTIF(x&lt;0) num_negative, COUNTIF(x&gt;0) num_positive
FROM UNNEST([5, -2, 3, 6, -10, NULL, -7, 4, 0]) as x;

+--------------+--------------+
| num_negative | num_positive |
+--------------+--------------+
| 3            | 4            |
+--------------+--------------+</code></pre>

<h3 id="logical_and">LOGICAL_AND</h3>

<pre class="codehilite"><code>LOGICAL_AND(expression)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the logical AND of all non-<code>NULL</code> expressions. Returns <code>NULL</code> if there
are zero input rows or <code>expression</code> evaluates to <code>NULL</code> for all rows.</p>

<p><strong>Supported Argument Types</strong></p>

<p>BOOL</p>

<p><strong>Return Data Types</strong></p>

<p>BOOL</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>SELECT LOGICAL_AND(x) as logical_and FROM UNNEST([true, false, true]) as x;

+-------------+
| logical_and |
+-------------+
| false       |
+-------------+</code></pre>

<h3 id="logical_or">LOGICAL_OR</h3>

<pre class="codehilite"><code>LOGICAL_OR(expression)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the logical OR of all non-<code>NULL</code> expressions. Returns <code>NULL</code> if there
are zero input rows or <code>expression</code> evaluates to <code>NULL</code> for all rows.</p>

<p><strong>Supported Argument Types</strong></p>

<p>BOOL</p>

<p><strong>Return Data Types</strong></p>

<p>BOOL</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>SELECT LOGICAL_OR(x) as logical_or FROM UNNEST([true, false, true]) as x;

+------------+
| logical_or |
+------------+
| true       |
+------------+</code></pre>

<h3 id="max">MAX</h3>

<pre class="codehilite"><code>MAX(expression)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the maximum value of non-<code>NULL</code> expressions. Returns <code>NULL</code> if there
are zero input rows or <code>expression</code> evaluates to <code>NULL</code> for all rows.
Returns <code>NaN</code> if the input contains a <code>NaN</code>.</p>

<p><strong>Supported Argument Types</strong></p>

<p>Any data type except:
STRUCT
ARRAY</p>

<p><strong>Return Data Types</strong></p>

<p>Same as the data type used as the input values.</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>SELECT MAX(x) as max
FROM UNNEST([8, NULL, 37, 6, NULL, 55]) as x;

+-----+
| max |
+-----+
| 55  |
+-----+</code></pre>

<h3 id="min">MIN</h3>

<pre class="codehilite"><code>MIN(expression)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the minimum value of non-<code>NULL</code> expressions. Returns <code>NULL</code> if there
are zero input rows or <code>expression</code> evaluates to <code>NULL</code> for all rows.
Returns <code>NaN</code> if the input contains a <code>NaN</code>.</p>

<p><strong>Supported Argument Types</strong></p>

<p>Any data type except:
STRUCT
ARRAY</p>

<p><strong>Return Data Types</strong></p>

<p>Same as the data type used as the input values.</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>SELECT MIN(x) as min
FROM UNNEST([8, NULL, 37, 6, NULL, 55]) as x;

+-----+
| min |
+-----+
| 6   |
+-----+</code></pre>

<h3 id="string_agg">STRING_AGG</h3>

<pre class="codehilite"><code>STRING_AGG(expression)
STRING_AGG(expression, delimiter)</code></pre>

<p><strong>Description</strong></p>

<p>Returns a value (either STRING or
BYTES) obtained by concatenating non-null values.</p>

<p>If a <code>delimiter</code> is specified, concatenated values are separated by that
delimiter; otherwise, a comma is used as a delimiter.</p>

<p><strong>Supported Argument Types</strong></p>

<p>STRING
BYTES</p>

<p><strong>Return Data Types</strong></p>

<p>STRING
BYTES</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>SELECT STRING_AGG(fruit) AS string_agg
FROM UNNEST([&quot;apple&quot;, &quot;pear&quot;, &quot;banana&quot;]) as fruit;

+-------------------+
| string_agg        |
+-------------------+
| apple,pear,banana |
+-------------------+

SELECT STRING_AGG(fruit, &quot;|&quot;) AS string_agg
FROM UNNEST([&quot;apple&quot;, &quot;pear&quot;, &quot;banana&quot;]) as fruit;

+-------------------+
| string_agg        |
+-------------------+
| apple|pear|banana |
+-------------------+</code></pre>

<h3 id="sum">SUM</h3>

<pre class="codehilite"><code>SUM(expression)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the sum of non-null values.</p>

<p>If the expression is a floating point value, the sum is non-deterministic, which
means you might receive a different result each time you use this function.</p>

<p><strong>Supported Argument Types</strong></p>

<p>Any supported numeric data types.</p>

<p><strong>Return Data Types</strong></p>

<p>Returns INT64 if the input is an integer.</p>

<p>Returns FLOAT64 if the input is a floating point
value.</p>

<p>Returns <code>NULL</code> if the input contains only <code>NULL</code>s.</p>

<p>Returns <code>Inf</code> if the input contains <code>Inf</code>.</p>

<p>Returns <code>-Inf</code> if the input contains <code>-Inf</code>.</p>

<p>Returns <code>NaN</code> if the input contains a <code>NaN</code>.</p>

<p>Returns <code>NaN</code> if the input contains a combination of <code>Inf</code> and <code>-Inf</code>.</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>SELECT SUM(x) as sum
FROM UNNEST([1,2,3,4,5]) as x;

+-----+
| sum |
+-----+
| 15  |
+-----+</code></pre>

<h3 id="using-distinct-with-aggregate-functions">Using DISTINCT with aggregate functions</h3>

<p>BigQuery supports <code>DISTINCT</code> with all aggregate functions.</p>

<h3 id="using-order-by-with-aggregate-functions">Using ORDER BY with aggregate functions</h3>

<p>BigQuery supports <code>ORDER BY</code> in the following functions:</p>

<ul>
<li><a href="#array_agg">ARRAY_AGG</a></li>
<li><a href="#string_agg">STRING_AGG</a></li>
<li><a href="#array_concat_agg">ARRAY_CONCAT_AGG</a></li>
</ul>

<p>When using <code>ORDER BY</code>, NULLs are the minimum possible value.</p>

<p>NOTE: If you use <code>ORDER BY</code> in <code>ARRAY_CONCAT_AGG</code>, the ordering is applied to
the input rows, not the array elements inside.</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT ARRAY_AGG(x*2 ORDER BY x) as array_agg
FROM UNNEST([1, 2, 3, 4, 5]) as x;

+------------------+
| array_agg        |
+------------------+
| [2, 4, 6, 8, 10] |
+------------------+</code></pre>

<h3 id="using-limit-with-aggregate-functions">Using LIMIT with aggregate functions</h3>

<p>BigQuery supports <code>LIMIT</code> in the following functions:</p>

<ul>
<li><a href="#array_agg">ARRAY_AGG</a></li>
<li><a href="#string_agg">STRING_AGG</a></li>
<li><a href="#array_concat_agg">ARRAY_CONCAT_AGG</a></li>
</ul>

<p>If an aggregate function ignores NULLs, such as <code>STRING_AGG</code>, <code>LIMIT</code> is applied
after NULLs are removed.</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT ARRAY_AGG(x*2 LIMIT 2) as array_agg
FROM UNNEST([1, 2, 3, 4, 5]) as x;

+------------------+
| array_agg        |
+------------------+
| [2, 4]           |
+------------------+</code></pre>

<p>For <code>ARRAY_CONCAT_AGG</code>, the <code>LIMIT</code> modifier is applied to the input arrays, not
the elements within the arrays. An empty array counts as <code>1</code>. A NULL array
is not counted.</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>SELECT ARRAY_CONCAT_AGG(x LIMIT 2) AS array_concat_agg FROM (
  SELECT [1, 2, 3] x
  UNION ALL SELECT NULL
  UNION ALL SELECT [4, 5, 6]
  UNION ALL SELECT [7, 8]
);

+--------------------+
| array_concat_agg   |
+--------------------+
| [1, 2, 3, 4, 5, 6] |
+--------------------+

SELECT ARRAY_CONCAT_AGG(x LIMIT 2) AS array_concat_agg FROM (
  SELECT [1, 2, 3] x
  UNION ALL SELECT []
  UNION ALL SELECT [4, 5, 6]
  UNION ALL SELECT [7, 8]
);

+------------------+
| array_concat_agg |
+------------------+
| [1, 2, 3]        |
+------------------+</code></pre>

<h3 id="order-of-operations-for-aggregate-modifiers">Order of operations for aggregate modifiers</h3>

<p>If you create a statement that contains more than one aggregate modifier, they
are applied in the following order:</p>

<ol>
<li>DISTINCT</li>
<li>ORDER BY</li>
<li>LIMIT</li>
</ol>

<h2 id="statistical-aggregate-functions">Statistical Aggregate Functions</h2>

<p>BigQuery supports the following statistical aggregate functions.</p>

<h3 id="corr">CORR</h3>

<pre class="codehilite"><code>CORR(X1, X2)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the <a href="https://en.wikipedia.org/wiki/Pearson_product-moment_correlation_coefficient">Pearson coefficient</a>
of correlation of a set of number pairs. For each number pair, the first number
is the dependent variable and the second number is the independent variable.
The return result is between <code>-1</code> and <code>1</code>. A result of <code>0</code> indicates no
correlation.</p>

<p>This function ignores any input pairs that contain one or more NULL values. If
there are fewer than two input pairs without NULL values, this function returns
NULL.</p>

<p><strong>Supported Input Types</strong></p>

<p>FLOAT64</p>

<p><strong>Return Data Type</strong></p>

<p>FLOAT64</p>

<h3 id="covar_pop">COVAR_POP</h3>

<pre class="codehilite"><code>COVAR_POP(X1, X2)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the population <a href="https://en.wikipedia.org/wiki/Covariance">covariance</a> of
a set of number pairs. The first number is the dependent variable; the second
number is the independent variable. The return result is between <code>-Inf</code> and
<code>+Inf</code>.</p>

<p>This function ignores any input pairs that contain one or more NULL values. If
there is no input pair without NULL values, this function returns NULL. If there
is exactly one input pair without NULL values, this function returns 0.</p>

<p><strong>Supported Input Types</strong></p>

<p>FLOAT64</p>

<p><strong>Return Data Type</strong></p>

<p>FLOAT64</p>

<h3 id="covar_samp">COVAR_SAMP</h3>

<pre class="codehilite"><code>COVAR_SAMP(X1, X2)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the sample <a href="https://en.wikipedia.org/wiki/Covariance">covariance</a> of a
set of number pairs. The first number is the dependent variable; the second
number is the independent variable. The return result is between <code>-Inf</code> and
<code>+Inf</code>.</p>

<p>This function ignores any input pairs that contain one or more NULL values. If
there are fewer than two input pairs without NULL values, this function returns
NULL.</p>

<p><strong>Supported Input Types</strong></p>

<p>FLOAT64</p>

<p><strong>Return Data Type</strong></p>

<p>FLOAT64</p>

<h3 id="stddev_samp">STDDEV_SAMP</h3>

<pre class="codehilite"><code>STDDEV_SAMP(X)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the sample (biased) standard deviation of the values. The return result
is between <code>0</code> and <code>+Inf</code>.</p>

<p>This function ignores any NULL inputs. If there are fewer than two non-NULL
inputs, this function returns NULL.</p>

<p><strong>Supported Input Types</strong></p>

<p>FLOAT64</p>

<p><strong>Return Data Type</strong></p>

<p>FLOAT64</p>

<h3 id="stddev">STDDEV</h3>

<pre class="codehilite"><code>STDDEV(X)</code></pre>

<p><strong>Description</strong></p>

<p>An alias of <a href="#stddev_samp">STDDEV_SAMP</a>.</p>

<h3 id="stddev_pop">STDDEV_POP</h3>

<pre class="codehilite"><code>STDDEV_POP(X)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the population (biased) standard deviation of the values. The return
result is between <code>0</code> and <code>+Inf</code>.</p>

<p>This function ignores any NULL inputs. If all inputs are ignored, this function
returns NULL.</p>

<p>If this function receives a single non-NULL input, it returns <code>0</code>.</p>

<p><strong>Supported Input Types</strong></p>

<p>FLOAT64</p>

<p><strong>Return Data Type</strong></p>

<p>FLOAT64</p>

<h3 id="var_samp">VAR_SAMP</h3>

<pre class="codehilite"><code>VAR_SAMP(X)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the sample (unbiased) variance of the values. The return result is
between <code>0</code> and <code>+Inf</code>.</p>

<p>This function ignores any NULL inputs. If there are fewer than two non-NULL
inputs, this function returns NULL.</p>

<p><strong>Supported Input Types</strong></p>

<p>FLOAT64</p>

<p><strong>Return Data Type</strong></p>

<p>FLOAT64</p>

<h3 id="variancex">VARIANCE(X)</h3>

<pre class="codehilite"><code>VARIANCE(X)</code></pre>

<p><strong>Description</strong></p>

<p>An alias of <a href="#var_samp">VAR_SAMP</a>.</p>

<h3 id="var_pop">VAR_POP</h3>

<pre class="codehilite"><code>VAR_POP(X)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the population (biased) variance of the values. The return result is
between <code>0</code> and <code>+Inf</code>.</p>

<p>This function ignores any NULL inputs. If all inputs are ignored, this function
returns NULL.</p>

<p>If this function receives a single non-NULL input, it returns <code>0</code>.</p>

<p><strong>Supported Input Types</strong></p>

<p>FLOAT64</p>

<p><strong>Return Data Type</strong></p>

<p>FLOAT64</p>

<h2 id="analytic-functions">Analytic Functions</h2>

<p>In databases, an <em>analytic function</em> is a function that computes aggregate
values over a group of rows. Unlike
<a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#aggregate-functions">aggregate functions</a>,
which return a single aggregate value for a group of rows, analytic functions
return a single value for each row by computing the function over a group
of input rows.</p>

<p>Analytic functions are a powerful mechanism for succinctly representing complex
analytic operations, and they enable efficient evaluations that otherwise would
involve expensive self-<code>JOIN</code>s or computation outside the SQL query.</p>

<p>Analytic functions are also called "(analytic) window functions" in the SQL
standard and some commercial databases. This is because an analytic function is
evaluated over a group of rows, referred to as a <code>window</code> or <code>window frame</code>.
In some other databases, they may be referred to as
Online Analytical Processing (OLAP) functions.</p>

<p>Simplified syntax:</p>

<pre class="codehilite"><code>analytic_function_name ( [ argument_list ] )
  OVER (
    [ PARTITION BY partition_expression_list ]
    [ ORDER BY expression [{ ASC | DESC }] [, ...] ]
    [ window_frame_clause ]
  )</code></pre>

<p>Compared to a normal <a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#functions">BigQuery function</a>,
an analytic function requires an <code>OVER</code> clause, which defines the <code>window frame</code>
that the analytic function is evaluated over. The <code>OVER</code> clause contains the
following three optional clauses. BigQuery evaluates
the sub-clauses of an <code>OVER</code> clause in the order in which they are written.</p>

<ul>
<li>A <code>PARTITION BY</code> clause divides the input rows into partitions, similar to
    <code>GROUP BY</code> but without actually combining rows with the same key.</li>
<li>An <code>ORDER BY</code> clause specifies the ordering within each partition.</li>
<li>A <code>window_frame_clause</code> defines the <code>window frame</code> within the current
    partition.</li>
</ul>

<p>The <code>OVER</code> clause can also be empty (<code>OVER()</code>) in which case the <code>window frame</code>
includes all input rows.</p>

<p>Analytic functions are evaluated after aggregation (GROUP BY and non-analytic
aggregate functions).</p>

<p>Example: Consider a company who wants to create a leaderboard for each
department that shows a "seniority ranking" for each employee, i.e. showing
which employees have been there the longest. The table <code>Employees</code> contains
columns <code>Name</code>, <code>StartDate</code>, and <code>Department</code>.</p>

<p>The following query calculates the rank of each employee within their
department:</p>

<pre class="codehilite"><code>SELECT firstname, department, startdate,
  RANK() OVER ( PARTITION BY department ORDER BY startdate ) AS rank
FROM Employees;</code></pre>

<p>The conceptual computing process is illustrated in Figure 1.</p>

<p><img alt="Markdown image" src="https://cloud.google.com/bigquery/docs/reference/standard-sql/images/analytic-function-illustration.png" title="Figure 1: Analytic Function Illustration" />
<strong>Figure 1: Analytic Function Illustration</strong></p>

<p>BigQuery evaluates the sub-clauses of an <code>OVER</code> clause in the order in
which they appear:</p>

<ol>
<li><code>PARTITION BY</code>: The table is first split into 3 partitions by <code>department</code>.</li>
<li><code>ORDER BY</code>: The employee rows in each partition are ordered by <code>startdate</code>.</li>
<li>Framing: None. The window frame clause is disallowed for RANK(), as it is
  for all <a href="#numbering-functions">numbering functions</a>.</li>
<li><code>RANK()</code>: The seniority ranking is computed for each row over the
  <code>window frame</code>.</li>
</ol>

<p><a name="syntax"></a></p>

<h3 id="analytic-function-syntax">Analytic Function Syntax</h3>

<pre class="codehilite"><code>analytic_function_name ( [ argument_list ] )
  OVER { window_name | ( [ window_specification ] ) }

window_specification:
  [ window_name ]
  [ PARTITION BY partition_expression_list ]
  [ ORDER BY expression [{ ASC | DESC }] [, ...] ]
  [ window_frame_clause ]

window_frame_clause:
{ ROWS | RANGE }
{
  { UNBOUNDED PRECEDING | numeric_expression PRECEDING | CURRENT ROW }
  |
  { BETWEEN window_frame_boundary_start AND window_frame_boundary_end }
}

window_frame_boundary_start:
{ UNBOUNDED PRECEDING | numeric_expression { PRECEDING | FOLLOWING } | CURRENT ROW }

window_frame_boundary_end:
{ UNBOUNDED FOLLOWING | numeric_expression { PRECEDING | FOLLOWING } | CURRENT ROW }</code></pre>

<p>Analytic functions can appear as a scalar expression or a scalar expression
operand in only two places in the query:</p>

<ul>
<li><strong>The <code>SELECT</code> list</strong>. If the analytic function appears in the SELECT list,
its <code>argument_list</code> cannot refer to aliases introduced in the same SELECT list.</li>
<li><strong>The <code>ORDER BY</code> clause</strong>. If the analytic function appears in the ORDER BY clause
of the query, its <code>argument_list</code> can refer to SELECT list aliases.</li>
</ul>

<p>Additionally, an analytic function cannot refer to another analytic function in
its <code>argument_list</code> or its <code>OVER</code> clause, even if indirectly through an
alias.</p>

<p>Invalid:</p>

<pre class="codehilite"><code>SELECT ROW_NUMBER() OVER () AS alias1
FROM Singers
ORDER BY ROW_NUMBER() OVER(PARTITION BY alias1)</code></pre>

<p>In the query above, the analytic function <code>alias1</code> resolves to an analytic
function: <code>ROW_NUMBER() OVER()</code>.</p>

<h4 id="over-clause">OVER Clause</h4>

<p>Syntax:</p>

<pre class="codehilite"><code>OVER { window_name | ( [ window_specification ] ) }

window_specification:
  [ window_name ]
  [ PARTITION BY partition_expression_list ]
  [ ORDER BY sort_specification_list ]
  [ window_frame_clause ]</code></pre>

<p>The <code>OVER</code> clause has three possible components:</p>

<ul>
<li><code>PARTITION BY</code> clause</li>
<li><code>ORDER BY</code> clause</li>
<li>A <code>window_frame_clause</code> or a <code>window_name</code>, which refers to a
  <code>window_specification</code> defined in a <code>WINDOW</code> clause.</li>
</ul>

<p>If the <code>OVER</code> clause is empty, <code>OVER()</code>, the analytic function is computed over
a single partition which contains all input rows, meaning that it will produce
the same result for each output row.</p>

<h5 id="partition-by-clause">PARTITION BY Clause</h5>

<p>Syntax:</p>

<pre class="codehilite"><code>PARTITION BY expression [, ... ]</code></pre>

<p>The <code>PARTITION BY</code> clause breaks up the input rows into separate partitions,
over which the analytic function is independently evaluated. Multiple
<code>expressions</code> are allowed in the <code>PARTITION BY</code> clause.</p>

<p><code>expression</code> must also have a resulting data type that supports partitioning.
This means the <code>expression</code> <strong>cannot</strong> be any of the following data types:</p>

<ul>
<li>Floating point</li>
<li>Struct</li>
<li>Array</li>
</ul>

<p>This list is almost identical to the list of data types that <code>GROUP BY</code> does not
support, with the additional exclusion of floating point types (see "Groupable"
in the Data Type Properties table at the top of
<a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/data-types">BigQuery Data Types</a>).</p>

<p>If no <code>PARTITION BY</code> clause is present, BigQuery treats the entire
input as a single partition.</p>

<h5 id="order-by-clause">ORDER BY Clause</h5>

<p>Syntax:</p>

<pre class="codehilite"><code>ORDER BY expression [ ASC | DESC ] [, ... ]</code></pre>

<p>The <code>ORDER BY</code> clause defines an ordering within each partition. If no
<code>ORDER BY</code> clause is present, row ordering within a partition is
non-deterministic. Some analytic functions require <code>ORDER BY</code>; this is noted in
the section for each family of analytic functions. Even if an <code>ORDER BY</code> clause
is present, some functions are not sensitive to ordering within a <code>window frame</code>
(e.g. <code>COUNT</code>).</p>

<p>The <code>ORDER BY</code> clause within an <code>OVER</code> clause is consistent with the normal
<a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/query-syntax#order_by_clause"><code>ORDER BY</code> clause</a>
in that:</p>

<ul>
<li>There can be multiple <code>expressions</code>.</li>
<li><code>expression</code> must have a type that supports ordering.</li>
<li>An optional <code>ASC</code>/<code>DESC</code> specification is allowed for each <code>expression</code>.</li>
<li>NULL values order as the minimum possible value (first for <code>ASC</code>,
  last for <code>DESC</code>)</li>
</ul>

<p>Data type support is identical to the normal
<a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/query-syntax#order_by_clause"><code>ORDER BY</code> clause</a>
in that the following types do <strong>not</strong> support ordering:</p>

<ul>
<li>Array</li>
<li>Struct</li>
</ul>

<p>If the <code>OVER</code> clause contains an <code>ORDER BY</code> clause but no <code>window_frame_clause</code>,
then the <code>ORDER BY</code> implicitly defines <code>window_frame_clause</code> as:</p>

<pre class="codehilite"><code>RANGE BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW</code></pre>

<p>If neither <code>window_frame_clause</code> nor the <code>ORDER BY</code> clause is present,
the <code>window frame</code> defaults to the entire partition.</p>

<h5 id="window-frame-clause">Window Frame Clause</h5>

<p>Syntax:</p>

<pre class="codehilite"><code>{ ROWS | RANGE }
{
  { UNBOUNDED PRECEDING | numeric_expression PRECEDING | CURRENT ROW }
  |
  { BETWEEN window_frame_boundary_start AND window_frame_boundary_end }
}

window_frame_boundary_start:
{ UNBOUNDED PRECEDING | numeric_expression { PRECEDING | FOLLOWING } | CURRENT ROW }

window_frame_boundary_end:
{ UNBOUNDED FOLLOWING | numeric_expression { PRECEDING | FOLLOWING } | CURRENT ROW }</code></pre>

<p><code>window_frame_clause</code> defines the <code>window frame</code>, around the current row within
a partition, over which the analytic function is evaluated.
<code>window_frame_clause</code> allows both physical window frames (defined by <code>ROWS</code>) and
logical window frames (defined by <code>RANGE</code>). If the <code>OVER</code> clause contains an
<code>ORDER BY</code> clause but no <code>window_frame_clause</code>, then the <code>ORDER BY</code> implicitly
defines <code>window_frame_clause</code> as:</p>

<pre class="codehilite"><code>RANGE BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW</code></pre>

<p>If neither <code>window_frame_clause</code> nor the <code>ORDER BY</code> clause is present,
the <code>window frame</code> defaults to the entire partition.</p>

<p>The <code>numeric_expression</code> can only be a constant or a query parameter, both
of which must have a non-negative value. Otherwise, BigQuery
provides an error.</p>

<p>Examples of window frame clauses:</p>

<pre class="codehilite"><code>ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING</code></pre>

<ul>
<li>Includes the entire partition.</li>
<li>Example use: Compute a grand total over the partition.</li>
</ul>

<pre class="codehilite"><code>ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW</code></pre>

<ul>
<li>Includes all the rows in the partition before or including the current row.</li>
<li>Example use: Compute a cumulative sum.</li>
</ul>

<pre class="codehilite"><code>ROWS BETWEEN 2 PRECEDING AND 2 FOLLOWING</code></pre>

<ul>
<li>Includes all rows between two before and two after the current row.</li>
<li>Example use: Compute a moving average.</li>
</ul>

<p>If <code>window_frame_spec</code> uses the <code>BETWEEN</code> clause:</p>

<ul>
<li><code>window_frame_boundary_start</code> must specify a boundary that begins no later
than that of the <code>window_frame_boundary_end</code>. This has the following
consequences:<ol>
<li>If <code>window_frame_boundary_start</code> contains <code>CURRENT ROW</code>,
   <code>window_frame_boundary_end</code> cannot contain <code>PRECEDING</code>.</li>
<li>If <code>window_frame_boundary_start</code> contains <code>FOLLOWING</code>,
   <code>window_frame_boundary_end</code> cannot contain <code>CURRENT ROW</code> or <code>PRECEDING</code>.</li>
</ol>
</li>
<li><code>window_frame_boundary_start</code> has no default value.</li>
</ul>

<p>Otherwise, the specified window_frame_spec boundary represents the start of the window frame and the end of the window frame boundary defaults to 'CURRENT ROW'. Thus,</p>

<pre class="codehilite"><code>ROWS 10 PRECEDING</code></pre>

<p>is equivalent to</p>

<pre class="codehilite"><code>ROWS BETWEEN 10 PRECEDING AND CURRENT ROW</code></pre>

<h6 id="rows">ROWS</h6>

<p><code>ROWS</code>-based window frames compute the <code>window frame</code> based on physical offsets
from the current row. For example, the window frame below defines a window frame
of size five (at most) around the current row.</p>

<pre class="codehilite"><code>ROWS BETWEEN 2 PRECEDING and 2 FOLLOWING</code></pre>

<p>The <code>numeric_expression</code> in <code>window_frame_clause</code> is interpreted as a number of
rows from the current row, and must be a constant, non-negative integer. It may
also be a query parameter.</p>

<p>If the <code>window frame</code> for a given row extends beyond the beginning or end of the
partition, then the <code>window frame</code> will only include rows from within that
partition.</p>

<p>Example: Consider the following table with columns <code>z</code>, <code>x</code>, and <code>y</code>.</p>

<table>
<thead>
<tr>
<th>z</th>
<th>x</th>
<th>y</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>5</td>
<td>AA</td>
</tr>
<tr>
<td>2</td>
<td>2</td>
<td>AA</td>
</tr>
<tr>
<td>3</td>
<td>11</td>
<td>AB</td>
</tr>
<tr>
<td>4</td>
<td>2</td>
<td>AA</td>
</tr>
<tr>
<td>5</td>
<td>8</td>
<td>AC</td>
</tr>
<tr>
<td>6</td>
<td>10</td>
<td>AB</td>
</tr>
<tr>
<td>7</td>
<td>1</td>
<td>AB</td>
</tr>
</tbody>
</table>

<p>Consider the following analytic function:</p>

<pre class="codehilite"><code>SUM(x) OVER (PARTITION BY y ORDER BY z ROWS BETWEEN 1 PRECEDING AND 1
FOLLOWING)</code></pre>

<p>The <code>PARTITION BY</code> clause splits the table into 3 partitions based on their <code>y</code>
value, and the <code>ORDER BY</code> orders the rows within each partition by their <code>z</code>
value.</p>

<p>Partition 1 of 3:</p>

<table>
<thead>
<tr>
<th>z</th>
<th>x</th>
<th>y</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>5</td>
<td>AA</td>
</tr>
<tr>
<td>2</td>
<td>2</td>
<td>AA</td>
</tr>
<tr>
<td>4</td>
<td>2</td>
<td>AA</td>
</tr>
</tbody>
</table>

<p>Partition 2 of 3:</p>

<table>
<thead>
<tr>
<th>z</th>
<th>x</th>
<th>y</th>
</tr>
</thead>
<tbody>
<tr>
<td>3</td>
<td>11</td>
<td>AB</td>
</tr>
<tr>
<td>6</td>
<td>10</td>
<td>AB</td>
</tr>
<tr>
<td>7</td>
<td>1</td>
<td>AB</td>
</tr>
</tbody>
</table>

<p>Partition 3 of 3:</p>

<table>
<thead>
<tr>
<th>z</th>
<th>x</th>
<th>y</th>
</tr>
</thead>
<tbody>
<tr>
<td>5</td>
<td>8</td>
<td>AC</td>
</tr>
</tbody>
</table>

<p>In the tables below, <strong>bold</strong> indicates the row currently being evaluated, and
<font color="#D8CEF6">colored</font> cells indicates all the rows in the <code>window
frame</code> for that row.</p>

<ul>
<li>For the first row in the y = AA partition, the <code>window frame</code> includes only 2
rows since there is no preceding row, even though the <code>window_frame_spec</code>
indicates a window size of 3. The result of the analytic function is 7 for the
first row.</li>
</ul>

<table>
<thead>
<tr>
<th>z</th>
<th>x</th>
<th>y</th>
</tr>
</thead>
<tbody>
<tr>
<td bgcolor="#D8CEF6"><b>1</b></td>
<td bgcolor="#D8CEF6"><b>5</b></td>
<td bgcolor="#D8CEF6"><b>AA</b></td>
</tr>
<tr>
<td bgcolor="#D8CEF6">2</td>
<td bgcolor="#D8CEF6">2</td>
<td bgcolor="#D8CEF6">AA</td>
</tr>
<tr>
<td>4</td>
<td>2</td>
<td>AA</td>
</tr>
</tbody>
</table>

<ul>
<li>For the second row in the partition, the <code>window frame</code> includes all 3 rows.
The result of the analytic function is 9 for the second row.</li>
</ul>

<table>
<thead>
<tr>
<th>z</th>
<th>x</th>
<th>y</th>
</tr>
</thead>
<tbody>
<tr>
<td bgcolor="#D8CEF6">1</td>
<td bgcolor="#D8CEF6">5</td>
<td bgcolor="#D8CEF6">AA</td>
</tr>
<tr>
<td bgcolor="#D8CEF6"><b>2</b></td>
<td bgcolor="#D8CEF6"><b>2</b></td>
<td bgcolor="#D8CEF6"><b>AA</b></td>
</tr>
<tr>
<td bgcolor="#D8CEF6">4</td>
<td bgcolor="#D8CEF6">2</td>
<td bgcolor="#D8CEF6">AA</td>
</tr>
</tbody>
</table>

<ul>
<li>For the last row in the partition, the <code>window frame</code> includes only 2 rows
since there is no following row.  The result of the analytic function is 4 for
the third row.</li>
</ul>

<table>
<thead>
<tr>
<th>z</th>
<th>x</th>
<th>y</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>5</td>
<td>AA</td>
</tr>
<tr>
<td bgcolor="#D8CEF6">2</td>
<td bgcolor="#D8CEF6">2</td>
<td bgcolor="#D8CEF6">AA</td>
</tr>
<tr>
<td bgcolor="#D8CEF6"><b>4</b></td>
<td bgcolor="#D8CEF6"><b>2</b></td>
<td bgcolor="#D8CEF6"><b>AA</b></td>
</tr>
</tbody>
</table>

<h6 id="range">RANGE</h6>

<p><code>RANGE</code>-based window frames compute the <code>window frame</code> based on a logical range
of rows around the current row based on the current row's <code>ORDER BY</code> key value.
The provided range value is added or subtracted to the current row's key value
to define a starting or ending range boundary for the <code>window frame</code>.</p>

<p>The <code>ORDER BY</code> clause must be specified unless the window is:</p>

<pre class="codehilite"><code>RANGE BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING.</code></pre>

<p><code>numeric_expression</code> in the <code>window_frame_clause</code> is interpreted as an offset
from the current row's value of the <code>ORDER BY</code> key. <code>numeric_expression</code> must
have numeric type. DATE and TIMESTAMP are not currently supported. In addition,
the <code>numeric_expression</code> must be a constant, non-negative integer or a
parameter.</p>

<p>In a <code>RANGE</code>-based window frame, there can be at most one <code>expression</code> in the
<code>ORDER BY</code> clause, and <code>expression</code> must have a numeric type.</p>

<p>Example of a <code>RANGE</code>-based window frame where there is a single partition:</p>

<pre class="codehilite"><code>SELECT x, COUNT(*) OVER ( ORDER BY x
  RANGE BETWEEN 2 PRECEDING AND 2 FOLLOWING ) AS count_x
FROM T;</code></pre>

<p>In the tables below, <strong>bold</strong> indicates the row currently being evaluated, and
<font color="#D8CEF6">colored</font> cells indicates all the rows in the
<code>window frame</code> for that row.</p>

<ul>
<li>For row 1, <code>x</code> = 5 and therefore <code>COUNT(*)</code> will only include rows where
  3 &lt;=<code>x</code> &lt;= 7</li>
</ul>

<table>
<thead>
<tr>
<th>x</th>
<th>count_x</th>
</tr>
</thead>
<tbody>
<tr>
<td bgcolor="#D8CEF6"><b>5</b></td>
<td bgcolor="#D8CEF6"><b>1</b></td>
</tr>
<tr>
<td>2</td>
<td></td>
</tr>
<tr>
<td>11</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td></td>
</tr>
<tr>
<td>8</td>
<td></td>
</tr>
<tr>
<td>10</td>
<td></td>
</tr>
<tr>
<td>1</td>
<td></td>
</tr>
</tbody>
</table>

<ul>
<li>For row 2, <code>x</code> = 2 and therefore <code>COUNT(*)</code> will only include rows where
  0 &lt;= <code>x</code> &lt;= 4</li>
</ul>

<table>
<thead>
<tr>
<th>x</th>
<th>count_x</th>
</tr>
</thead>
<tbody>
<tr>
<td>5</td>
<td>1</td>
</tr>
<tr>
<td bgcolor="#D8CEF6"><b>2</b></td>
<td bgcolor="#D8CEF6"><b>3</b></td>
</tr>
<tr>
<td>11</td>
<td></td>
</tr>
<tr>
<td bgcolor="#D8CEF6">2</td>
<td></td>
</tr>
<tr>
<td>8</td>
<td></td>
</tr>
<tr>
<td>10</td>
<td></td>
</tr>
<tr>
<td bgcolor="#D8CEF6">1</td>
<td></td>
</tr>
</tbody>
</table>

<ul>
<li>For row 3, <code>x</code> = 11 and therefore <code>COUNT(*)</code> will only include rows where
  9 &lt;= <code>x</code> &lt;= 13</li>
</ul>

<table>
<thead>
<tr>
<th>x</th>
<th>count_x</th>
</tr>
</thead>
<tbody>
<tr>
<td>5</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>3</td>
</tr>
<tr>
<td bgcolor="#D8CEF6"><b>11</b></td>
<td bgcolor="#D8CEF6"><b>2</b></td>
</tr>
<tr>
<td>2</td>
<td></td>
</tr>
<tr>
<td>8</td>
<td></td>
</tr>
<tr>
<td bgcolor="#D8CEF6">10</td>
<td></td>
</tr>
<tr>
<td>1</td>
<td></td>
</tr>
</tbody>
</table>

<h3 id="window-clause">WINDOW Clause</h3>

<p>Syntax:</p>

<pre class="codehilite"><code>WINDOW window_definition [, ...]
window_definition: window_name AS ( window_specification )</code></pre>

<p>A <code>WINDOW</code> clause defines a list of named windows whose <code>window_name</code> can be
referenced in analytic functions in the <code>SELECT</code> list. This is useful when you
want to use the same <code>window_frame_clause</code> for multiple analytic functions.</p>

<p>The <code>WINDOW</code> clause can appear only at the end of a <code>SELECT</code> clause, as shown
in <a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/query-syntax#sql-syntax">Query Syntax</a>.</p>

<h4 id="named-windows">Named Windows</h4>

<p>Once you define a <code>WINDOW</code> clause, you can use the named windows in analytic
functions, but only in the <code>SELECT</code> list; you cannot use named windows in the
<code>ORDER BY</code> clause. Named windows can appear either by themselves or embedded
within an <code>OVER</code> clause. Named windows can refer to <code>SELECT</code> list aliases.</p>

<p>Examples:</p>

<pre class="codehilite"><code>SELECT SUM(x) OVER window_name FROM ...</code></pre>

<pre class="codehilite"><code>SELECT SUM(x) OVER (
  window_name
  PARTITION BY...
  ORDER BY...
  window_frame_clause)
FROM ...</code></pre>

<p>When embedded within an <code>OVER</code> clause, the <code>window_specification</code> associated
with <code>window_name</code> must be compatible with the <code>PARTITION BY</code>, <code>ORDER BY</code>, and
<code>window_frame_clause</code> that are in the same <code>OVER</code> clause.</p>

<p>The following rules apply to named windows:</p>

<ul>
<li>You can refer to named windows only in the <code>SELECT</code> list; you cannot refer to
them in an <code>ORDER BY</code> clause, an outer query, or any subquery.</li>
<li>A window W1 (named or unnamed) may reference a named window NW2, with the
following rules:<ol>
<li>If W1 is a named window, then the referenced named window NW2 must precede
   W1 in the same <code>WINDOW</code> clause.</li>
<li>W1 cannot contain a <code>PARTITION BY</code> clause</li>
<li>It cannot be true that both W1 and NW2 contain an <code>ORDER BY</code> clause</li>
<li>NW2 cannot contain a <code>window_frame_clause</code>.</li>
</ol>
</li>
<li>If a (named or unnamed) window W1 references a named window NW2, then the
resulting window specification is defined using:<ol>
<li>The <code>PARTITION BY</code> from NW2, if there is one.</li>
<li>The <code>ORDER BY</code> from W1 or NW2, if either is specified; it is not possible
for them to both have an <code>ORDER BY</code> clause.</li>
<li>The <code>window_frame_clause</code> from W1, if there is one.</li>
</ol>
</li>
</ul>

<h3 id="supported-functions">Supported Functions</h3>

<h4 id="numbering-functions">Numbering Functions</h4>

<p>Numbering functions assign integer values to each row based on their position
within the specified window.</p>

<p><code>OVER</code> clause requirements:</p>

<ul>
<li><code>PARTITION BY</code>: Optional.</li>
<li><code>ORDER BY</code>: Required, except for <code>ROW_NUMBER()</code>.</li>
<li><code>window_frame_clause</code>: Disallowed.</li>
</ul>

<p>If two rows are tied in the ordering, they are peers. The concept of peers is
relevant for the functions <code>RANK()</code>, <code>DENSE_RANK()</code>, and <code>CUME_DIST</code>.</p>

<table>
<thead>
<tr>
<th>Syntax</th>
<th>Result Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>RANK()</code></td>
<td>INT64</td>
<td>Returns the ordinal (1-based) rank of each row within the ordered partition.
All peer rows receive the same rank value. The next row or set of peer rows
receives a rank value which increments by the number of peers with the previous
rank value, instead of a rank value which always increments by 1. See example of
<code>RANK()</code> below this table.</td>
</tr>
<tr>
<td><code>DENSE_RANK()</code></td>
<td>INT64</td>
<td>Returns the ordinal (1-based) rank of each row within the window partition.
All peer rows receive the same rank value, and the subsequent rank value is
incremented by one.</td>
</tr>
<tr>
<td><code>PERCENT_RANK()</code></td>
<td>FLOAT64</td>
<td>Return the percentile rank of a row defined as (RK-1)/(NR-1), where RK is
the <code>RANK</code> of the row and NR is the number of rows in the partition.
Returns 0 if NR=1.</td>
</tr>
<tr>
<td><code>CUME_DIST()</code></td>
<td>FLOAT64</td>
<td>Return the relative rank of a row defined as NP/NR. NP is defined to be the
number of rows that either precede or are peers with the current row. NR is the
number of rows in the partition.</td>
</tr>
<tr>
<td><code>NTILE(constant_integer_expression)</code></td>
<td>INT64</td>
<td>This function divides the rows into <code>constant_integer_expression</code>
buckets based on row ordering and returns the 1-based bucket number that is
assigned to each row. The number of rows in the buckets can differ by at most 1.
The remainder values (the remainder of number of rows divided by buckets) are
distributed one for each bucket, starting with bucket 1. If
<code>constant_integer_expression</code> evaluates to NULL, 0 or negative, an
error is provided.</td>
</tr>
<tr>
<td><code>ROW_NUMBER()</code></td>
<td>INT64</td>
<td>Does not require the <code>ORDER BY</code> clause. Returns the sequential
row ordinal (1-based) of each row for each ordered partition. If the
<code>ORDER BY</code> clause is unspecified then the result is
non-deterministic.</td>
</tr>
</tbody>
</table>

<p>Example of <code>RANK()</code>, <code>DENSE_RANK()</code>, and <code>ROW_NUMBER()</code>:</p>

<pre class="codehilite"><code>SELECT x,
  RANK() OVER (ORDER BY x ASC) AS rank,
  DENSE_RANK() OVER (ORDER BY x ASC) AS dense_rank,
  ROW_NUMBER() OVER (PARTITION BY x ORDER BY y) AS row_num
FROM ...</code></pre>

<table>
<thead>
<tr>
<th>x</th>
<th>rank</th>
<th>dense_rank</th>
<th>row_num</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>2</td>
<td>2</td>
<td>2</td>
</tr>
<tr>
<td>2</td>
<td>2</td>
<td>2</td>
<td>3</td>
</tr>
<tr>
<td>5</td>
<td>4</td>
<td>3</td>
<td>4</td>
</tr>
<tr>
<td>8</td>
<td>5</td>
<td>4</td>
<td>5</td>
</tr>
<tr>
<td>10</td>
<td>6</td>
<td>5</td>
<td>6</td>
</tr>
<tr>
<td>10</td>
<td>6</td>
<td>5</td>
<td>7</td>
</tr>
</tbody>
</table>

<ul>
<li><code>RANK():</code>For x=5, <code>rank</code> returns 4, since <code>RANK()</code> increments by the number
of peers in the previous window ordering group.</li>
<li><code>DENSE_RANK()</code>: For x=5, <code>dense_rank</code> returns 3, since <code>DENSE_RANK()</code> always
increments by 1, never skipping a value.</li>
<li><code>ROW_NUMBER():</code>For x=5, <code>row_num</code> returns 4.</li>
</ul>

<h4 id="navigation-functions">Navigation Functions</h4>

<p>Navigation functions generally compute some <code>value_expression</code> over a different
row in the window frame from the current row. The <code>OVER</code> clause syntax varies
across navigation functions.</p>

<p><code>OVER</code> clause requirements:</p>

<ul>
<li><code>PARTITION BY</code>: Optional.</li>
<li><code>ORDER BY</code>: Required</li>
<li><code>window_frame_clause</code>:<ol>
<li>Disallowed for <code>LEAD</code> and <code>LAG</code></li>
<li>Optional for <code>FIRST_VALUE</code>, <code>LAST_VALUE</code>, and <code>NTH_VALUE.</code></li>
</ol>
</li>
</ul>

<p>For all navigation functions, the result data type is the same type as
<code>value_expression</code>.</p>

<h5 id="first_value">FIRST_VALUE</h5>

<pre class="codehilite"><code>FIRST_VALUE (value_expression)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the value of the <code>value_expression</code> for the first row in the current
window frame.</p>

<p><strong>Supported Argument Types</strong></p>

<p><code>value_expression</code> can be any data type that an expression can return.</p>

<p><strong>Return Data Type</strong></p>

<p>ANY</p>

<p><strong>Examples</strong></p>

<p>The following example computes the fastest time for each division.</p>

<pre class="codehilite"><code>WITH finishers AS
 (SELECT 'Sophia Liu' as name,
  TIMESTAMP '2016-10-18 2:51:45' as finish_time,
  'F30-34' as division
  UNION ALL SELECT 'Lisa Stelzner', TIMESTAMP '2016-10-18 2:54:11', 'F35-39'
  UNION ALL SELECT 'Nikki Leith', TIMESTAMP '2016-10-18 2:59:01', 'F30-34'
  UNION ALL SELECT 'Lauren Matthews', TIMESTAMP '2016-10-18 3:01:17', 'F35-39'
  UNION ALL SELECT 'Desiree Berry', TIMESTAMP '2016-10-18 3:05:42', 'F35-39'
  UNION ALL SELECT 'Suzy Slane', TIMESTAMP '2016-10-18 3:06:24', 'F35-39'
  UNION ALL SELECT 'Jen Edwards', TIMESTAMP '2016-10-18 3:06:36', 'F30-34'
  UNION ALL SELECT 'Meghan Lederer', TIMESTAMP '2016-10-18 3:07:41', 'F30-34'
  UNION ALL SELECT 'Carly Forte', TIMESTAMP '2016-10-18 3:08:58', 'F25-29'
  UNION ALL SELECT 'Lauren Reasoner', TIMESTAMP '2016-10-18 3:10:14', 'F30-34')
SELECT name,
  FORMAT_TIMESTAMP('%X', finish_time) AS finish_time,
  division,
  FORMAT_TIMESTAMP('%X', fastest_time) AS fastest_time,
  TIMESTAMP_DIFF(finish_time, fastest_time, SECOND) AS delta_in_seconds
FROM (
  SELECT name,
  finish_time,
  division,
  FIRST_VALUE(finish_time)
    OVER (PARTITION BY division ORDER BY finish_time ASC
    ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING) AS fastest_time
  FROM finishers);

+-----------------+-------------+----------+--------------+------------------+
| name            | finish_time | division | fastest_time | delta_in_seconds |
+-----------------+-------------+----------+--------------+------------------+
| Carly Forte     | 03:08:58    | F25-29   | 03:08:58     | 0                |
| Sophia Liu      | 02:51:45    | F30-34   | 02:51:45     | 0                |
| Nikki Leith     | 02:59:01    | F30-34   | 02:51:45     | 436              |
| Jen Edwards     | 03:06:36    | F30-34   | 02:51:45     | 891              |
| Meghan Lederer  | 03:07:41    | F30-34   | 02:51:45     | 956              |
| Lauren Reasoner | 03:10:14    | F30-34   | 02:51:45     | 1109             |
| Lisa Stelzner   | 02:54:11    | F35-39   | 02:54:11     | 0                |
| Lauren Matthews | 03:01:17    | F35-39   | 02:54:11     | 426              |
| Desiree Berry   | 03:05:42    | F35-39   | 02:54:11     | 691              |
| Suzy Slane      | 03:06:24    | F35-39   | 02:54:11     | 733              |
+-----------------+-------------+----------+--------------+------------------+</code></pre>

<h5 id="last_value">LAST_VALUE</h5>

<pre class="codehilite"><code>LAST_VALUE (value_expression)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the value of the <code>value_expression</code> for the last row in the current
window frame.</p>

<p><strong>Supported Argument Types</strong></p>

<p><code>value_expression</code> can be any data type that an expression can return.</p>

<p><strong>Return Data Type</strong></p>

<p>ANY</p>

<p><strong>Examples</strong></p>

<p>The following example computes the slowest time for each division.</p>

<pre class="codehilite"><code>WITH finishers AS
 (SELECT 'Sophia Liu' as name,
  TIMESTAMP '2016-10-18 2:51:45' as finish_time,
  'F30-34' as division
  UNION ALL SELECT 'Lisa Stelzner', TIMESTAMP '2016-10-18 2:54:11', 'F35-39'
  UNION ALL SELECT 'Nikki Leith', TIMESTAMP '2016-10-18 2:59:01', 'F30-34'
  UNION ALL SELECT 'Lauren Matthews', TIMESTAMP '2016-10-18 3:01:17', 'F35-39'
  UNION ALL SELECT 'Desiree Berry', TIMESTAMP '2016-10-18 3:05:42', 'F35-39'
  UNION ALL SELECT 'Suzy Slane', TIMESTAMP '2016-10-18 3:06:24', 'F35-39'
  UNION ALL SELECT 'Jen Edwards', TIMESTAMP '2016-10-18 3:06:36', 'F30-34'
  UNION ALL SELECT 'Meghan Lederer', TIMESTAMP '2016-10-18 3:07:41', 'F30-34'
  UNION ALL SELECT 'Carly Forte', TIMESTAMP '2016-10-18 3:08:58', 'F25-29'
  UNION ALL SELECT 'Lauren Reasoner', TIMESTAMP '2016-10-18 3:10:14', 'F30-34')
SELECT name,
  FORMAT_TIMESTAMP('%X', finish_time) AS finish_time,
  division,
  FORMAT_TIMESTAMP('%X', slowest_time) AS slowest_time,
  TIMESTAMP_DIFF(slowest_time, finish_time, SECOND) AS delta_in_seconds
FROM (
  SELECT name,
  finish_time,
  division,
  LAST_VALUE(finish_time)
    OVER (PARTITION BY division ORDER BY finish_time ASC
    ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING) AS slowest_time
  FROM finishers);

+-----------------+-------------+----------+--------------+------------------+
| name            | finish_time | division | slowest_time | delta_in_seconds |
+-----------------+-------------+----------+--------------+------------------+
| Carly Forte     | 03:08:58    | F25-29   | 03:08:58     | 0                |
| Sophia Liu      | 02:51:45    | F30-34   | 03:10:14     | 1109             |
| Nikki Leith     | 02:59:01    | F30-34   | 03:10:14     | 673              |
| Jen Edwards     | 03:06:36    | F30-34   | 03:10:14     | 218              |
| Meghan Lederer  | 03:07:41    | F30-34   | 03:10:14     | 153              |
| Lauren Reasoner | 03:10:14    | F30-34   | 03:10:14     | 0                |
| Lisa Stelzner   | 02:54:11    | F35-39   | 03:06:24     | 733              |
| Lauren Matthews | 03:01:17    | F35-39   | 03:06:24     | 307              |
| Desiree Berry   | 03:05:42    | F35-39   | 03:06:24     | 42               |
| Suzy Slane      | 03:06:24    | F35-39   | 03:06:24     | 0                |
+-----------------+-------------+----------+--------------+------------------+</code></pre>

<h4 id="nth_value">NTH_VALUE</h4>

<pre class="codehilite"><code>NTH_VALUE (value_expression, constant_integer_expression)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the value of <code>value_expression</code> at the Nth row of the current window
frame, where Nth is defined by <code>constant_integer_expression</code>. Returns NULL if
there is no such row.</p>

<p><strong>Supported Argument Types</strong></p>

<ul>
<li><code>value_expression</code> can be any data type that can be returned from an
  expression.</li>
<li><code>constant_integer_expression</code> can be any constant expression that returns an
  integer.</li>
</ul>

<p><strong>Return Data Type</strong></p>

<p>ANY</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>WITH finishers AS
 (SELECT 'Sophia Liu' as name,
  TIMESTAMP '2016-10-18 2:51:45' as finish_time,
  'F30-34' as division
  UNION ALL SELECT 'Lisa Stelzner', TIMESTAMP '2016-10-18 2:54:11', 'F35-39'
  UNION ALL SELECT 'Nikki Leith', TIMESTAMP '2016-10-18 2:59:01', 'F30-34'
  UNION ALL SELECT 'Lauren Matthews', TIMESTAMP '2016-10-18 3:01:17', 'F35-39'
  UNION ALL SELECT 'Desiree Berry', TIMESTAMP '2016-10-18 3:05:42', 'F35-39'
  UNION ALL SELECT 'Suzy Slane', TIMESTAMP '2016-10-18 3:06:24', 'F35-39'
  UNION ALL SELECT 'Jen Edwards', TIMESTAMP '2016-10-18 3:06:36', 'F30-34'
  UNION ALL SELECT 'Meghan Lederer', TIMESTAMP '2016-10-18 3:07:41', 'F30-34'
  UNION ALL SELECT 'Carly Forte', TIMESTAMP '2016-10-18 3:08:58', 'F25-29'
  UNION ALL SELECT 'Lauren Reasoner', TIMESTAMP '2016-10-18 3:10:14', 'F30-34')
SELECT name,
  FORMAT_TIMESTAMP('%X', finish_time) AS finish_time,
  division,
  FORMAT_TIMESTAMP('%X', fastest_time) AS fastest_time,
  FORMAT_TIMESTAMP('%X', second_fastest) AS second_fastest
FROM (
  SELECT name,
  finish_time,
  division,finishers,
  FIRST_VALUE(finish_time)
    OVER (PARTITION BY division ORDER BY finish_time ASC
    ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING) AS fastest_time,
  NTH_VALUE(finish_time, 2)
    OVER (PARTITION BY division ORDER BY finish_time ASC
    ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING) as second_fastest
  FROM finishers);

+-----------------+-------------+----------+--------------+----------------+
| name            | finish_time | division | fastest_time | second_fastest |
+-----------------+-------------+----------+--------------+----------------+
| Carly Forte     | 03:08:58    | F25-29   | 03:08:58     | NULL           |
| Sophia Liu      | 02:51:45    | F30-34   | 02:51:45     | 02:59:01       |
| Nikki Leith     | 02:59:01    | F30-34   | 02:51:45     | 02:59:01       |
| Jen Edwards     | 03:06:36    | F30-34   | 02:51:45     | 02:59:01       |
| Meghan Lederer  | 03:07:41    | F30-34   | 02:51:45     | 02:59:01       |
| Lauren Reasoner | 03:10:14    | F30-34   | 02:51:45     | 02:59:01       |
| Lisa Stelzner   | 02:54:11    | F35-39   | 02:54:11     | 03:01:17       |
| Lauren Matthews | 03:01:17    | F35-39   | 02:54:11     | 03:01:17       |
| Desiree Berry   | 03:05:42    | F35-39   | 02:54:11     | 03:01:17       |
| Suzy Slane      | 03:06:24    | F35-39   | 02:54:11     | 03:01:17       |
+-----------------+-------------+----------+--------------+----------------+</code></pre>

<h5 id="lead">LEAD</h5>

<pre class="codehilite"><code>LEAD (value_expression, [, offset [, default_expression]])</code></pre>

<p><strong>Description</strong></p>

<p>Returns the value of the <code>value_expression</code> on a subsequent row. Changing the
<code>offset</code> value changes which subsequent row is returned; the default value is
<code>1</code>, indicating the next row in the window frame. An error occurs if <code>offset</code> is
NULL or a negative value.</p>

<p>The optional <code>default_expression</code> is used if there isn't a row in the window
frame at the specified offset. This expression must be a constant expression and
its type must be implicitly <a href="#coercion">coercible</a> to the type of
<code>value_expression</code>. If left unspecified, <code>default_expression</code> defaults to NULL.</p>

<p><strong>Supported Argument Types</strong></p>

<ul>
<li><code>value_expression</code> can be any data type that can be returned from an
  expression.</li>
<li><code>offset</code> must be a non-negative integer literal or parameter.</li>
<li><code>default_expression</code> must be compatible with the value expression type.</li>
</ul>

<p><strong>Return Data Type</strong></p>

<p>ANY</p>

<p><strong>Examples</strong></p>

<p>The following example illustrates a basic use of the <code>LEAD</code> function.</p>

<pre class="codehilite"><code>WITH finishers AS
 (SELECT 'Sophia Liu' as name,
  TIMESTAMP '2016-10-18 2:51:45' as finish_time,
  'F30-34' as division
  UNION ALL SELECT 'Lisa Stelzner', TIMESTAMP '2016-10-18 2:54:11', 'F35-39'
  UNION ALL SELECT 'Nikki Leith', TIMESTAMP '2016-10-18 2:59:01', 'F30-34'
  UNION ALL SELECT 'Lauren Matthews', TIMESTAMP '2016-10-18 3:01:17', 'F35-39'
  UNION ALL SELECT 'Desiree Berry', TIMESTAMP '2016-10-18 3:05:42', 'F35-39'
  UNION ALL SELECT 'Suzy Slane', TIMESTAMP '2016-10-18 3:06:24', 'F35-39'
  UNION ALL SELECT 'Jen Edwards', TIMESTAMP '2016-10-18 3:06:36', 'F30-34'
  UNION ALL SELECT 'Meghan Lederer', TIMESTAMP '2016-10-18 3:07:41', 'F30-34'
  UNION ALL SELECT 'Carly Forte', TIMESTAMP '2016-10-18 3:08:58', 'F25-29'
  UNION ALL SELECT 'Lauren Reasoner', TIMESTAMP '2016-10-18 3:10:14', 'F30-34')
SELECT name,
  finish_time,
  division,
  LEAD(name)
    OVER (PARTITION BY division ORDER BY finish_time ASC) AS followed_by
FROM finishers;

+-----------------+-------------+----------+-----------------+
| name            | finish_time | division | followed_by     |
+-----------------+-------------+----------+-----------------+
| Carly Forte     | 03:08:58    | F25-29   | NULL            |
| Sophia Liu      | 02:51:45    | F30-34   | Nikki Leith     |
| Nikki Leith     | 02:59:01    | F30-34   | Jen Edwards     |
| Jen Edwards     | 03:06:36    | F30-34   | Meghan Lederer  |
| Meghan Lederer  | 03:07:41    | F30-34   | Lauren Reasoner |
| Lauren Reasoner | 03:10:14    | F30-34   | NULL            |
| Lisa Stelzner   | 02:54:11    | F35-39   | Lauren Matthews |
| Lauren Matthews | 03:01:17    | F35-39   | Desiree Berry   |
| Desiree Berry   | 03:05:42    | F35-39   | Suzy Slane      |
| Suzy Slane      | 03:06:24    | F35-39   | NULL            |
+-----------------+-------------+----------+-----------------+</code></pre>

<p>This next example uses the optional <code>offset</code> parameter.</p>

<pre class="codehilite"><code>WITH finishers AS
 (SELECT 'Sophia Liu' as name,
  TIMESTAMP '2016-10-18 2:51:45' as finish_time,
  'F30-34' as division
  UNION ALL SELECT 'Lisa Stelzner', TIMESTAMP '2016-10-18 2:54:11', 'F35-39'
  UNION ALL SELECT 'Nikki Leith', TIMESTAMP '2016-10-18 2:59:01', 'F30-34'
  UNION ALL SELECT 'Lauren Matthews', TIMESTAMP '2016-10-18 3:01:17', 'F35-39'
  UNION ALL SELECT 'Desiree Berry', TIMESTAMP '2016-10-18 3:05:42', 'F35-39'
  UNION ALL SELECT 'Suzy Slane', TIMESTAMP '2016-10-18 3:06:24', 'F35-39'
  UNION ALL SELECT 'Jen Edwards', TIMESTAMP '2016-10-18 3:06:36', 'F30-34'
  UNION ALL SELECT 'Meghan Lederer', TIMESTAMP '2016-10-18 3:07:41', 'F30-34'
  UNION ALL SELECT 'Carly Forte', TIMESTAMP '2016-10-18 3:08:58', 'F25-29'
  UNION ALL SELECT 'Lauren Reasoner', TIMESTAMP '2016-10-18 3:10:14', 'F30-34')
SELECT name,
  finish_time,
  division,
  LEAD(name, 2)
    OVER (PARTITION BY division ORDER BY finish_time ASC) AS two_runners_back
FROM finishers;

+-----------------+-------------+----------+------------------+
| name            | finish_time | division | two_runners_back |
+-----------------+-------------+----------+------------------+
| Carly Forte     | 03:08:58    | F25-29   | NULL             |
| Sophia Liu      | 02:51:45    | F30-34   | Jen Edwards      |
| Nikki Leith     | 02:59:01    | F30-34   | Meghan Lederer   |
| Jen Edwards     | 03:06:36    | F30-34   | Lauren Reasoner  |
| Meghan Lederer  | 03:07:41    | F30-34   | NULL             |
| Lauren Reasoner | 03:10:14    | F30-34   | NULL             |
| Lisa Stelzner   | 02:54:11    | F35-39   | Desiree Berry    |
| Lauren Matthews | 03:01:17    | F35-39   | Suzy Slane       |
| Desiree Berry   | 03:05:42    | F35-39   | NULL             |
| Suzy Slane      | 03:06:24    | F35-39   | NULL             |
+-----------------+-------------+----------+------------------+</code></pre>

<p>The following example replaces NULL values with a default value.</p>

<pre class="codehilite"><code>WITH finishers AS
 (SELECT 'Sophia Liu' as name,
  TIMESTAMP '2016-10-18 2:51:45' as finish_time,
  'F30-34' as division
  UNION ALL SELECT 'Lisa Stelzner', TIMESTAMP '2016-10-18 2:54:11', 'F35-39'
  UNION ALL SELECT 'Nikki Leith', TIMESTAMP '2016-10-18 2:59:01', 'F30-34'
  UNION ALL SELECT 'Lauren Matthews', TIMESTAMP '2016-10-18 3:01:17', 'F35-39'
  UNION ALL SELECT 'Desiree Berry', TIMESTAMP '2016-10-18 3:05:42', 'F35-39'
  UNION ALL SELECT 'Suzy Slane', TIMESTAMP '2016-10-18 3:06:24', 'F35-39'
  UNION ALL SELECT 'Jen Edwards', TIMESTAMP '2016-10-18 3:06:36', 'F30-34'
  UNION ALL SELECT 'Meghan Lederer', TIMESTAMP '2016-10-18 3:07:41', 'F30-34'
  UNION ALL SELECT 'Carly Forte', TIMESTAMP '2016-10-18 3:08:58', 'F25-29'
  UNION ALL SELECT 'Lauren Reasoner', TIMESTAMP '2016-10-18 3:10:14', 'F30-34')
SELECT name,
  finish_time,
  division,
  LEAD(name, 2, 'Nobody')
    OVER (PARTITION BY division ORDER BY finish_time ASC) AS two_runners_back
FROM finishers;

+-----------------+-------------+----------+------------------+
| name            | finish_time | division | two_runners_back |
+-----------------+-------------+----------+------------------+
| Carly Forte     | 03:08:58    | F25-29   | Nobody           |
| Sophia Liu      | 02:51:45    | F30-34   | Jen Edwards      |
| Nikki Leith     | 02:59:01    | F30-34   | Meghan Lederer   |
| Jen Edwards     | 03:06:36    | F30-34   | Lauren Reasoner  |
| Meghan Lederer  | 03:07:41    | F30-34   | Nobody           |
| Lauren Reasoner | 03:10:14    | F30-34   | Nobody           |
| Lisa Stelzner   | 02:54:11    | F35-39   | Desiree Berry    |
| Lauren Matthews | 03:01:17    | F35-39   | Suzy Slane       |
| Desiree Berry   | 03:05:42    | F35-39   | Nobody           |
| Suzy Slane      | 03:06:24    | F35-39   | Nobody           |
+-----------------+-------------+----------+------------------+</code></pre>

<h5 id="lag">LAG</h5>

<pre class="codehilite"><code>LAG (value_expression, [, offset [, default_expression]])</code></pre>

<p><strong>Description</strong></p>

<p>Returns the value of the <code>value_expression</code> on a preceding row. Changing the
<code>offset</code> value changes which preceding row is returned; the default value is
<code>1</code>, indicating the previous row in the window frame. An error occurs if
<code>offset</code> is NULL or a negative value.</p>

<p>The optional <code>default_expression</code> is used if there isn't a row in the window
frame at the specified offset. This expression must be a constant expression and
its type must be implicitly <a href="#coercion">coercible</a> to the type of
<code>value_expression</code>. If left unspecified, <code>default_expression</code> defaults to NULL.</p>

<p><strong>Supported Argument Types</strong></p>

<ul>
<li><code>value_expression</code> can be any data type that can be returned from an
  expression.</li>
<li><code>offset</code> must be a non-negative integer literal or parameter.</li>
<li><code>default_expression</code> must be compatible with the value expression type.</li>
</ul>

<p><strong>Return Data Type</strong></p>

<p>ANY</p>

<p><strong>Examples</strong></p>

<p>The following example illustrates a basic use of the <code>LAG</code> function.</p>

<pre class="codehilite"><code>WITH finishers AS
 (SELECT 'Sophia Liu' as name,
  TIMESTAMP '2016-10-18 2:51:45' as finish_time,
  'F30-34' as division
  UNION ALL SELECT 'Lisa Stelzner', TIMESTAMP '2016-10-18 2:54:11', 'F35-39'
  UNION ALL SELECT 'Nikki Leith', TIMESTAMP '2016-10-18 2:59:01', 'F30-34'
  UNION ALL SELECT 'Lauren Matthews', TIMESTAMP '2016-10-18 3:01:17', 'F35-39'
  UNION ALL SELECT 'Desiree Berry', TIMESTAMP '2016-10-18 3:05:42', 'F35-39'
  UNION ALL SELECT 'Suzy Slane', TIMESTAMP '2016-10-18 3:06:24', 'F35-39'
  UNION ALL SELECT 'Jen Edwards', TIMESTAMP '2016-10-18 3:06:36', 'F30-34'
  UNION ALL SELECT 'Meghan Lederer', TIMESTAMP '2016-10-18 3:07:41', 'F30-34'
  UNION ALL SELECT 'Carly Forte', TIMESTAMP '2016-10-18 3:08:58', 'F25-29'
  UNION ALL SELECT 'Lauren Reasoner', TIMESTAMP '2016-10-18 3:10:14', 'F30-34')
SELECT name,
  finish_time,
  division,
  LAG(name)
    OVER (PARTITION BY division ORDER BY finish_time ASC) AS preceding_runner
FROM finishers;

+-----------------+-------------+----------+------------------+
| name            | finish_time | division | preceding_runner |
+-----------------+-------------+----------+------------------+
| Carly Forte     | 03:08:58    | F25-29   | NULL             |
| Sophia Liu      | 02:51:45    | F30-34   | NULL             |
| Nikki Leith     | 02:59:01    | F30-34   | Sophia Liu       |
| Jen Edwards     | 03:06:36    | F30-34   | Nikki Leith      |
| Meghan Lederer  | 03:07:41    | F30-34   | Jen Edwards      |
| Lauren Reasoner | 03:10:14    | F30-34   | Meghan Lederer   |
| Lisa Stelzner   | 02:54:11    | F35-39   | NULL             |
| Lauren Matthews | 03:01:17    | F35-39   | Lisa Stelzner    |
| Desiree Berry   | 03:05:42    | F35-39   | Lauren Matthews  |
| Suzy Slane      | 03:06:24    | F35-39   | Desiree Berry    |
+-----------------+-------------+----------+------------------+</code></pre>

<p>This next example uses the optional <code>offset</code> parameter.</p>

<pre class="codehilite"><code>WITH finishers AS
 (SELECT 'Sophia Liu' as name,
  TIMESTAMP '2016-10-18 2:51:45' as finish_time,
  'F30-34' as division
  UNION ALL SELECT 'Lisa Stelzner', TIMESTAMP '2016-10-18 2:54:11', 'F35-39'
  UNION ALL SELECT 'Nikki Leith', TIMESTAMP '2016-10-18 2:59:01', 'F30-34'
  UNION ALL SELECT 'Lauren Matthews', TIMESTAMP '2016-10-18 3:01:17', 'F35-39'
  UNION ALL SELECT 'Desiree Berry', TIMESTAMP '2016-10-18 3:05:42', 'F35-39'
  UNION ALL SELECT 'Suzy Slane', TIMESTAMP '2016-10-18 3:06:24', 'F35-39'
  UNION ALL SELECT 'Jen Edwards', TIMESTAMP '2016-10-18 3:06:36', 'F30-34'
  UNION ALL SELECT 'Meghan Lederer', TIMESTAMP '2016-10-18 3:07:41', 'F30-34'
  UNION ALL SELECT 'Carly Forte', TIMESTAMP '2016-10-18 3:08:58', 'F25-29'
  UNION ALL SELECT 'Lauren Reasoner', TIMESTAMP '2016-10-18 3:10:14', 'F30-34')
SELECT name,
  finish_time,
  division,
  LAG(name, 2)
    OVER (PARTITION BY division ORDER BY finish_time ASC) AS two_runners_ahead
FROM finishers;

+-----------------+-------------+----------+-------------------+
| name            | finish_time | division | two_runners_ahead |
+-----------------+-------------+----------+-------------------+
| Carly Forte     | 03:08:58    | F25-29   | NULL              |
| Sophia Liu      | 02:51:45    | F30-34   | NULL              |
| Nikki Leith     | 02:59:01    | F30-34   | NULL              |
| Jen Edwards     | 03:06:36    | F30-34   | Sophia Liu        |
| Meghan Lederer  | 03:07:41    | F30-34   | Nikki Leith       |
| Lauren Reasoner | 03:10:14    | F30-34   | Jen Edwards       |
| Lisa Stelzner   | 02:54:11    | F35-39   | NULL              |
| Lauren Matthews | 03:01:17    | F35-39   | NULL              |
| Desiree Berry   | 03:05:42    | F35-39   | Lisa Stelzner     |
| Suzy Slane      | 03:06:24    | F35-39   | Lauren Matthews   |
+-----------------+-------------+----------+-------------------+</code></pre>

<p>The following example replaces NULL values with a default value.</p>

<pre class="codehilite"><code>WITH finishers AS
 (SELECT 'Sophia Liu' as name,
  TIMESTAMP '2016-10-18 2:51:45' as finish_time,
  'F30-34' as division
  UNION ALL SELECT 'Lisa Stelzner', TIMESTAMP '2016-10-18 2:54:11', 'F35-39'
  UNION ALL SELECT 'Nikki Leith', TIMESTAMP '2016-10-18 2:59:01', 'F30-34'
  UNION ALL SELECT 'Lauren Matthews', TIMESTAMP '2016-10-18 3:01:17', 'F35-39'
  UNION ALL SELECT 'Desiree Berry', TIMESTAMP '2016-10-18 3:05:42', 'F35-39'
  UNION ALL SELECT 'Suzy Slane', TIMESTAMP '2016-10-18 3:06:24', 'F35-39'
  UNION ALL SELECT 'Jen Edwards', TIMESTAMP '2016-10-18 3:06:36', 'F30-34'
  UNION ALL SELECT 'Meghan Lederer', TIMESTAMP '2016-10-18 3:07:41', 'F30-34'
  UNION ALL SELECT 'Carly Forte', TIMESTAMP '2016-10-18 3:08:58', 'F25-29'
  UNION ALL SELECT 'Lauren Reasoner', TIMESTAMP '2016-10-18 3:10:14', 'F30-34')
SELECT name,
  finish_time,
  division,
  LAG(name, 2, 'Nobody')
    OVER (PARTITION BY division ORDER BY finish_time ASC) AS two_runners_ahead
FROM finishers;

+-----------------+-------------+----------+-------------------+
| name            | finish_time | division | two_runners_ahead |
+-----------------+-------------+----------+-------------------+
| Carly Forte     | 03:08:58    | F25-29   | Nobody            |
| Sophia Liu      | 02:51:45    | F30-34   | Nobody            |
| Nikki Leith     | 02:59:01    | F30-34   | Nobody            |
| Jen Edwards     | 03:06:36    | F30-34   | Sophia Liu        |
| Meghan Lederer  | 03:07:41    | F30-34   | Nikki Leith       |
| Lauren Reasoner | 03:10:14    | F30-34   | Jen Edwards       |
| Lisa Stelzner   | 02:54:11    | F35-39   | Nobody            |
| Lauren Matthews | 03:01:17    | F35-39   | Nobody            |
| Desiree Berry   | 03:05:42    | F35-39   | Lisa Stelzner     |
| Suzy Slane      | 03:06:24    | F35-39   | Lauren Matthews   |
+-----------------+-------------+----------+-------------------+</code></pre>

<h4 id="aggregate-analytic-functions">Aggregate Analytic Functions</h4>

<p>BigQuery supports the following
<a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#aggregate-functions">aggregate functions</a>
as analytic functions:</p>

<ul>
<li>
<a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#any_value">
    ANY_VALUE
  </a>
</li>
<li>
<a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#avg">
    AVG
  </a>
</li>
<li>
<a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#countexpression">
  COUNT(EXPRESSION)

</a></li>
<li>
<a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#count">
    COUNT
  </a>
</li>
<li>
<a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#countif">
    COUNTIF
  </a>
</li>
<li>
<a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#max">
    MAX
  </a>
</li>
<li>
<a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#min">
    MIN
  </a>
</li>
<li>
<a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#sum">
    SUM
  </a>
</li>
</ul>

<p>With these functions, the <code>OVER</code> clause is simply appended to the aggregate
function call; the function call syntax remains otherwise unchanged. Like their
aggregate function counterparts, these analytic functions perform aggregations,
but specifically over the relevant window frame for each row. The result data
types of these analytic functions are the same as their aggregate function
counterparts.</p>

<p><code>OVER</code> clause requirements:</p>

<ul>
<li><code>PARTITION BY</code>: Optional.</li>
<li><code>ORDER BY</code>: Optional. Disallowed if <code>DISTINCT</code> is present.</li>
<li><code>window_frame_clause</code>: Optional. Disallowed if <code>DISTINCT</code> is present.</li>
</ul>

<p>Example:</p>

<pre class="codehilite"><code>COUNT(*) OVER (ROWS UNBOUNDED PRECEDING)</code></pre>

<pre class="codehilite"><code>SUM(DISTINCT x) OVER ()</code></pre>

<h2 id="bit-functions">Bit Functions</h2>

<p>BigQuery supports the following bit functions.</p>

<h3 id="bit_count">BIT_COUNT</h3>

<pre class="codehilite"><code>BIT_COUNT(expression)</code></pre>

<p><strong>Description</strong></p>

<p>The input, <code>expression</code>, must be an
integer or BYTES.</p>

<p>Returns the number of bits that are set in the input <code>expression</code>.
For integers, this is the number of bits in two's complement form.</p>

<p><strong>Return Data Type</strong></p>

<p>INT64</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT a, BIT_COUNT(a) AS a_bits, FORMAT(&quot;%T&quot;, b) as b, BIT_COUNT(b) AS b_bits
FROM UNNEST([
  STRUCT(0 AS a, b'' AS b), (0, b'\x00'), (5, b'\x05'), (8, b'\x00\x08'),
  (0xFFFF, b'\xFF\xFF'), (-2, b'\xFF\xFF\xFF\xFF\xFF\xFF\xFF\xFE'),
  (-1, b'\xFF\xFF\xFF\xFF\xFF\xFF\xFF\xFF'),
  (NULL, b'\xFF\xFF\xFF\xFF\xFF\xFF\xFF\xFF\xFF\xFF')
]) AS x;

+-------+--------+---------------------------------------------+--------+
| a     | a_bits | b                                           | b_bits |
+-------+--------+---------------------------------------------+--------+
| 0     | 0      | b&quot;&quot;                                         | 0      |
| 0     | 0      | b&quot;\x00&quot;                                     | 0      |
| 5     | 2      | b&quot;\x05&quot;                                     | 2      |
| 8     | 1      | b&quot;\x00\x08&quot;                                 | 1      |
| 65535 | 16     | b&quot;\xff\xff&quot;                                 | 16     |
| -2    | 63     | b&quot;\xff\xff\xff\xff\xff\xff\xff\xfe&quot;         | 63     |
| -1    | 64     | b&quot;\xff\xff\xff\xff\xff\xff\xff\xff&quot;         | 64     |
| NULL  | NULL   | b&quot;\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff&quot; | 80     |
+-------+--------+---------------------------------------------+--------+</code></pre>

<p><a name="mathematical-functions"></a></p>

<h2 id="mathematical-functions">Mathematical functions</h2>

<p>Mathematical functions:</p>

<ul>
<li>Return <code>NULL</code> if any of the input parameters is <code>NULL</code>.</li>
<li>Return <code>NaN</code> if any of the arguments is <code>NaN</code>.</li>
</ul>

<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ABS(X)</td>
<td>Computes absolute value. With integer argument, generates an error if the
value cannot be represented as the same type (which happens only for the largest
negative input value, which has no positive representation). Returns
<code>+inf</code> for <code>+/-inf</code> argument.</td>
</tr>
<tr>
<td>SIGN(X)</td>
<td>Returns -1, 0, or +1 for negative, zero and positive argument
respectively. With floating point argument does not distinguish positive and
negative zero. Returns <code>NaN</code> for <code>NaN</code> argument.</td>
</tr>
<tr>
<td>IS_INF(X)</td>
<td>Return TRUE if the value is positive or negative infinity. Returns <code>NULL</code> for
<code>NULL</code> inputs.</td>
</tr>
<tr>
<td>IS_NAN(X)</td>
<td>Return TRUE if the value is a <code>NaN</code> value. Returns <code>NULL</code> for <code>NULL</code> inputs.</td>
</tr>
<tr>
<td>IEEE_DIVIDE(X, Y)</td>
<td><p>Divides X by Y; never fails. Returns FLOAT64. Unlike division operator (/), does not generate
errors for division by zero or overflow.</p>
<p>Special cases:</p>
<ul>
<li>If the result overflows, returns <code>+/-inf</code>.</li>
<li>If Y=0 and X=0, returns <code>NaN</code>.</li>
<li>If Y=0 and X!=0, returns <code>+/-inf</code>.</li>
<li>If X = <code>+/-inf</code> and Y = <code>+/-inf</code>, returns <code>NaN</code>.</li>
</ul>
The behavior of IEEE_DIVIDE is further illustrated in the table below.</td>
</tr>
<tr>
<td>RAND()</td>
<td>Generates a pseudo-random value of type FLOAT64
in the range of [0, 1), inclusive of 0 and exclusive of 1.</td>
</tr>
<tr>
<td>SQRT(X)</td>
<td>Computes the square root of X. Generates an error if X less than 0. Returns
<code>+inf</code> if X is <code>+inf</code>.</td>
</tr>
<tr>
<td>POW(X, Y)</td>
<td>Power function: returns the value of X raised to the power of Y. If the
result underflows and is not representable then zero value is returned. An error
can be generated if one of the following is true:X is a finite value less than 0
and Y is a noninteger,if X is 0, and Y is a finite value less than 0,the result
overflows.The behavior of POW() is further illustrated in the table below.</td>
</tr>
<tr>
<td>POWER(X, Y)</td>
<td>Synonym of POW(). The behavior of POWER() is further illustrated in the
table below.</td>
</tr>
<tr>
<td>EXP(X)</td>
<td>Computes natural exponential function ex. If the result underflows a zero is
returned. Generates an error if the result overflows. If X is
<code>+/-inf</code>, then <code>+inf</code> (or 0) is returned.</td>
</tr>
<tr>
<td>LN(X)</td>
<td>Computes the natural logarithm of X. Generates an error if X is less or
equal zero. If X is <code>+inf</code>, then <code>+inf</code> is returned.</td>
</tr>
<tr>
<td>LOG(X)</td>
<td>Synonym of LN(X)</td>
</tr>
<tr>
<td>LOG(X, Y)</td>
<td>Computes logarithm of X to base Y. Generates an error if:X less or equal
zero,Y is 1.0,Y less or equal zero.The behavior of LOG(X, Y) is further
illustrated in the table below.</td>
</tr>
<tr>
<td>LOG10(X)</td>
<td>Similar to LOG(X) but computes logarithm to base 10.</td>
</tr>
<tr>
<td>GREATEST(X1,...,XN)</td>
<td>Returns <code>NULL</code> if any of the inputs is <code>NULL</code>. Otherwise, returns <code>NaN</code> if any of
the inputs is <code>NaN</code>. Otherwise, returns the largest value among X1,...,XN
according to the &lt; comparison.</td>
</tr>
<tr>
<td>LEAST(X1,...,XN)</td>
<td>Returns <code>NULL</code> if any of the inputs is <code>NULL</code>. Otherwise, returns <code>NaN</code> if any of
the inputs is <code>NaN</code>. Otherwise, returns the smallest value among X1,...,XN
according to the &gt; comparison.</td>
</tr>
<tr>
<td>DIV(X, Y)</td>
<td>Returns the result of integer division of X by Y. Division by zero returns
an error. Division by -1 may overflow. See the table below for possible result
types.</td>
</tr>
<tr><td>SAFE_DIVIDE(X, Y)</td><td>Equivalent to the division operator (<code>/</code>). Returns <code>NULL</code> if an error occurs, such as division by zero.</td></tr>
<tr>
<td>MOD(X, Y)</td>
<td>Modulo function: returns the remainder of the division of X by Y. Returned
value has the same sign as X. An error is generated if Y is 0. See the table
below for possible result types.</td>
</tr>
</tbody>
</table>

<h3 id="special-cases-for-ieee_dividex-y">Special cases for <code>IEEE_DIVIDE(X, Y)</code></h3>

<p>The following table lists special cases for <code>IEEE_DIVIDE(X,Y)</code>.</p>

<table>
<thead>
<tr>
<th>Numerator Data Type (X)</th>
<th>Denominator Data Type (Y)</th>
<th>Result Data Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>Anything except 0</td>
<td>0</td>
<td><code>+/-inf</code></td>
</tr>
<tr>
<td>0</td>
<td>0</td>
<td><code>NaN</code></td>
</tr>
<tr>
<td>0</td>
<td><code>NaN</code></td>
<td><code>NaN</code></td>
</tr>
<tr>
<td><code>+/-inf</code></td>
<td><code>+/-inf</code></td>
<td><code>NaN</code></td>
</tr>
</tbody>
</table>

<h3 id="special-cases-for-powx-y-and-powerx-y">Special cases for <code>POW(X, Y)</code> and <code>POWER(X, Y)</code></h3>

<p>The following are special cases for <code>POW(X, Y)</code> and <code>POWER(X, Y)</code>.</p>

<table>
<thead>
<tr>
<th>X</th>
<th>Y</th>
<th>POW(X, Y) or POWER(X, Y)</th>
</tr>
</thead>
<tbody>
<tr>
<td>1.0</td>
<td>Any value including <code>NaN</code></td>
<td>1.0</td>
</tr>
<tr>
<td>any including <code>NaN</code></td>
<td>0</td>
<td>1.0</td>
</tr>
<tr>
<td>-1.0</td>
<td><code>+/-inf</code></td>
<td>1.0</td>
</tr>
<tr>
<td>ABS(X) &lt; 1</td>
<td><code>-inf</code></td>
<td><code>+inf</code></td>
</tr>
<tr>
<td>ABS(X) &gt; 1</td>
<td><code>-inf</code></td>
<td>0</td>
</tr>
<tr>
<td>ABS(X) &lt; 1</td>
<td><code>+inf</code></td>
<td>0</td>
</tr>
<tr>
<td>ABS(X) &gt; 1</td>
<td><code>+inf</code></td>
<td><code>+inf</code></td>
</tr>
<tr>
<td><code>-inf</code></td>
<td>Y &lt; 0</td>
<td>0</td>
</tr>
<tr>
<td><code>-inf</code></td>
<td>Y &gt; 0</td>
<td><code>-inf</code> if Y is an odd integer, <code>+inf</code> otherwise</td>
</tr>
<tr>
<td><code>+inf</code></td>
<td>Y &lt; 0</td>
<td>0</td>
</tr>
<tr>
<td><code>+inf</code></td>
<td>Y &gt; 0</td>
<td><code>+inf</code></td>
</tr>
</tbody>
</table>

<p><a name="special_log"></a></p>

<h3 id="special-cases-for-logx-y">Special cases for <code>LOG(X, Y)</code></h3>

<table>
<thead>
<tr>
<th>X</th>
<th>Y</th>
<th>LOG(X, Y)</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-inf</code></td>
<td>Any value</td>
<td><code>NaN</code></td>
</tr>
<tr>
<td>Any value</td>
<td><code>+inf</code></td>
<td><code>NaN</code></td>
</tr>
<tr>
<td><code>+inf</code></td>
<td>0.0 Y &lt; 1.0</td>
<td><code>-inf</code></td>
</tr>
<tr>
<td><code>+inf</code></td>
<td>Y &gt; 1.0</td>
<td><code>+inf</code></td>
</tr>
</tbody>
</table>

<p><a name="rounding_functions"></a></p>

<h3 id="rounding-functions">Rounding functions</h3>

<table>
<thead>
<tr>
<th>Syntax</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ROUND(X)</td>
<td>Rounds X to the nearest integer. Halfway cases are rounded away from
zero.</td>
</tr>
<tr>
<td>ROUND(X, N)</td>
<td>Rounds X to N decimal places after decimal point. N can be negative, which
will round off digits to the left of the decimal point. Halfway cases are
rounded away from zero. Generates an error if overflow occurs.</td>
</tr>
<tr>
<td>TRUNC(X)</td>
<td>Rounds X to the nearest integer whose absolute value is not greater than
Xs.</td>
</tr>
<tr>
<td>TRUNC(X, N)</td>
<td>Similar to ROUND(X, N) but always rounds towards zero. Unlike ROUND(X, N) it
never overflows.</td>
</tr>
<tr>
<td>CEIL(X)</td>
<td>Returns the smallest integral value (with FLOAT64
type) that is not less than X.</td>
</tr>
<tr>
<td>CEILING(X)</td>
<td>Synonym of CEIL(X)</td>
</tr>
<tr>
<td>FLOOR(X)</td>
<td>Returns the largest integral value (with FLOAT64
type) that is not greater than X.</td>
</tr>
</tbody>
</table>

<p>Example behavior of BigQuery rounding functions:</p>

<table>
<thead>
<tr>
<th>Input "X"</th>
<th>ROUND(X)</th>
<th>TRUNC(X)</th>
<th>CEIL(X)</th>
<th>FLOOR(X)</th>
</tr>
</thead>
<tbody>
<tr>
<td>2.0</td>
<td>2.0</td>
<td>2.0</td>
<td>2.0</td>
<td>2.0</td>
</tr>
<tr>
<td>2.3</td>
<td>2.0</td>
<td>2.0</td>
<td>3.0</td>
<td>2.0</td>
</tr>
<tr>
<td>2.8</td>
<td>3.0</td>
<td>2.0</td>
<td>3.0</td>
<td>2.0</td>
</tr>
<tr>
<td>2.5</td>
<td>3.0</td>
<td>2.0</td>
<td>3.0</td>
<td>2.0</td>
</tr>
<tr>
<td>-2.3</td>
<td>-2.0</td>
<td>-2.0</td>
<td>-2.0</td>
<td>-3.0</td>
</tr>
<tr>
<td>-2.8</td>
<td>-3.0</td>
<td>-2.0</td>
<td>-2.0</td>
<td>-3.0</td>
</tr>
<tr>
<td>-2.5</td>
<td>-3.0</td>
<td>-2.0</td>
<td>-2.0</td>
<td>-3.0</td>
</tr>
<tr>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td><code>+/-inf</code></td>
<td><code>+/-inf</code></td>
<td><code>+/-inf</code></td>
<td><code>+/-inf</code></td>
<td><code>+/-inf</code></td>
</tr>
<tr>
<td><code>NaN</code></td>
<td><code>NaN</code></td>
<td><code>NaN</code></td>
<td><code>NaN</code></td>
<td><code>NaN</code></td>
</tr>
</tbody>
</table>

<p><a name="trigonometric_and_hyperbolic_functions"></a></p>

<h3 id="trigonometric-and-hyperbolic-functions">Trigonometric and hyperbolic functions</h3>

<table>
<thead>
<tr>
<th>Syntax</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>COS(X)</td>
<td>Computes cosine of X. Never fails.</td>
</tr>
<tr>
<td>COSH(X)</td>
<td>Computes the hyperbolic cosine of X. Generates an error if an overflow
occurs.</td>
</tr>
<tr>
<td>ACOS(X)</td>
<td>Computes the principal value of the arc cosine of X. The return value is in
the range [0,]. Generates an error if X is a finite value outside of range
[-1, 1].</td>
</tr>
<tr>
<td>ACOSH(X)</td>
<td>Computes the inverse hyperbolic cosine of X. Generates an error if X is a
finite value less than 1.</td>
</tr>
<tr>
<td>SIN(X)</td>
<td>Computes the sine of X. Never fails.</td>
</tr>
<tr>
<td>SINH(X)</td>
<td>Computes the hyperbolic sine of X. Generates an error if an overflow
occurs.</td>
</tr>
<tr>
<td>ASIN(X)</td>
<td>Computes the principal value of the arc sine of X. The return value is in
the range [-&pi;/2,&pi;/2]. Generates an error if X is a finite value outside of range
[-1, 1].</td>
</tr>
<tr>
<td>ASINH(X)</td>
<td>Computes the inverse hyperbolic sine of X. Does not fail.</td>
</tr>
<tr>
<td>TAN(X)</td>
<td>Computes tangent of X. Generates an error if an overflow occurs.</td>
</tr>
<tr>
<td>TANH(X)</td>
<td>Computes hyperbolic tangent of X. Does not fail.</td>
</tr>
<tr>
<td>ATAN(X)</td>
<td>Computes the principal value of the arc tangent of X. The return value is in
the range [-&pi;/2,&pi;/2]. Does not fail.</td>
</tr>
<tr>
<td>ATANH(X)</td>
<td>Computes the inverse hyperbolic tangent of X. Generates an error if the
absolute value of X is greater or equal 1.</td>
</tr>
<tr>
<td>ATAN2(Y, X)</td>
<td>Calculates the principal value of the arc tangent of Y/X using the signs of
the two arguments to determine the quadrant. The return value is in the range
[-&pi;,&pi;].
The behavior of this function is further illustrated in <a href="#special_atan2">the table below</a>.</td>
</tr>
</tbody>
</table>

<p><a name="special_atan2"></a></p>

<h4 id="special-cases-for-atan2">Special cases for <code>ATAN2()</code></h4>

<table>
<thead>
<tr>
<th>Y</th>
<th>X</th>
<th>ATAN2(Y, X)</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>NaN</code></td>
<td>Any value</td>
<td><code>NaN</code></td>
</tr>
<tr>
<td>Any value</td>
<td><code>NaN</code></td>
<td><code>NaN</code></td>
</tr>
<tr>
<td>0</td>
<td>0</td>
<td>0, &pi; or -&pi; depending on the sign of X and Y</td>
</tr>
<tr>
<td>Finite value</td>
<td><code>-inf</code></td>
<td>&pi; or -&pi; depending on the sign of Y</td>
</tr>
<tr>
<td>Finite value</td>
<td><code>+inf</code></td>
<td>0</td>
</tr>
<tr>
<td><code>+/-inf</code></td>
<td>Finite value</td>
<td>&pi;/2 or &pi;/2 depending on the sign of Y</td>
</tr>
<tr>
<td><code>+/-inf</code></td>
<td><code>-inf</code></td>
<td>&frac34;&pi; or -&frac34;&pi; depending on the sign of Y</td>
</tr>
<tr>
<td><code>+/-inf</code></td>
<td><code>+inf</code></td>
<td>&pi;/4 or -&pi;/4 depending on the sign of Y</td>
</tr>
</tbody>
</table>

<p><a name="special_trig_hyperbolic"></a></p>

<h4 id="special-cases-for-trigonometric-and-hyperbolic-rounding-functions">Special cases for trigonometric and hyperbolic rounding functions</h4>

<table>
<thead>
<tr>
<th>X</th>
<th>COS(X)</th>
<th>COSH(X)</th>
<th>ACOS(X)</th>
<th>ACOSH(X)</th>
<th>SIN(X)</th>
<th>SINH(X)</th>
<th>ASIN(X)</th>
<th>ASINH(X)</th>
<th>TAN(X)</th>
<th>TANH(X)</th>
<th>ATAN(X)</th>
<th>ATANH(X)</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>+/-inf</code></td>
<td><code>NaN</code></td>
<td><code>=+inf</code></td>
<td><code>NaN</code></td>
<td><code>=+inf</code></td>
<td><code>NaN</code></td>
<td><code>=+inf</code></td>
<td><code>NaN</code></td>
<td><code>=+inf</code></td>
<td><code>NaN</code></td>
<td>=+1.0</td>
<td>&pi;/2</td>
<td><code>NaN</code></td>
</tr>
<tr>
<td><code>-inf</code></td>
<td><code>NaN</code></td>
<td><code>=+inf</code></td>
<td><code>NaN</code></td>
<td><code>NaN</code></td>
<td><code>NaN</code></td>
<td><code>-inf</code></td>
<td><code>NaN</code></td>
<td><code>-inf</code></td>
<td><code>NaN</code></td>
<td>-1.0</td>
<td>-&pi;/2</td>
<td><code>NaN</code></td>
</tr>
<tr>
<td><code>NaN</code></td>
<td><code>NaN</code></td>
<td><code>NaN</code></td>
<td><code>NaN</code></td>
<td><code>NaN</code></td>
<td><code>NaN</code></td>
<td><code>NaN</code></td>
<td><code>NaN</code></td>
<td><code>NaN</code></td>
<td><code>NaN</code></td>
<td><code>NaN</code></td>
<td><code>NaN</code></td>
<td><code>NaN</code></td>
</tr>
</tbody>
</table>

<p><a name="hash_functions"></a></p>

<h2 id="hash-functions">Hash functions</h2>

<h3 id="farm_fingerprint">FARM_FINGERPRINT</h3>

<pre class="codehilite"><code>FARM_FINGERPRINT(value)</code></pre>

<p><strong>Description</strong></p>

<p>Computes the fingerprint of the STRING or BYTES input using the <code>Fingerprint64</code>
function from the
<a href="https://github.com/google/farmhash">open-source FarmHash library</a>. The output
of this function for a particular input will never change.</p>

<p><strong>Return type</strong></p>

<p>INT64</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>WITH example AS (
  SELECT 1 AS x, &quot;foo&quot; AS y, true AS z UNION ALL
  SELECT 2 AS x, &quot;apple&quot; AS y, false AS z UNION ALL
  SELECT 3 AS x, &quot;&quot; AS y, true AS z
)
SELECT
  *,
  FARM_FINGERPRINT(CONCAT(CAST(x AS STRING), y, CAST(z AS STRING)))
    AS row_fingerprint
FROM example;
+---+-------+-------+----------------------+
| x | y     | z     | row_fingerprint      |
+---+-------+-------+----------------------+
| 1 | foo   | true  | -1541654101129638711 |
| 2 | apple | false | 2794438866806483259  |
| 3 |       | true  | -4880158226897771312 |
+---+-------+-------+----------------------+</code></pre>

<h3 id="md5">MD5</h3>

<pre class="codehilite"><code>MD5(input)</code></pre>

<p><strong>Description</strong></p>

<p>Computes the hash of the input using the
<a href="https://en.wikipedia.org/wiki/MD5">MD5 algorithm</a>. The input can either be
STRING or BYTES. The string version treats the input as an array of bytes.</p>

<p>This function returns 16 bytes.</p>

<p><strong>Return type</strong></p>

<p>BYTES</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT MD5(&quot;Hello World&quot;) as md5;

+-------------------------------------------------+
| md5                                             |
+-------------------------------------------------+
| \xb1\n\x8d\xb1d\xe0uA\x05\xb7\xa9\x9b\xe7.?\xe5 |
+-------------------------------------------------+</code></pre>

<h3 id="sha1">SHA1</h3>

<pre class="codehilite"><code>SHA1(input)</code></pre>

<p><strong>Description</strong></p>

<p>Computes the hash of the input using the
<a href="https://en.wikipedia.org/wiki/SHA-1">SHA-1 algorithm</a>. The input can either be
STRING or BYTES. The string version treats the input as an array of bytes.</p>

<p>This function returns 20 bytes.</p>

<p><strong>Return type</strong></p>

<p>BYTES</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT SHA1(&quot;Hello World&quot;) as sha1;

+-----------------------------------------------------------+
| sha1                                                      |
+-----------------------------------------------------------+
| \nMU\xa8\xd7x\xe5\x02/\xabp\x19w\xc5\xd8@\xbb\xc4\x86\xd0 |
+-----------------------------------------------------------+</code></pre>

<h3 id="sha256">SHA256</h3>

<pre class="codehilite"><code>SHA256(input)</code></pre>

<p><strong>Description</strong></p>

<p>Computes the hash of the input using the
<a href="https://en.wikipedia.org/wiki/SHA-2">SHA-256 algorithm</a>. The input can either be
STRING or BYTES. The string version treats the input as an array of bytes.</p>

<p>This function returns 32 bytes.</p>

<p><strong>Return type</strong></p>

<p>BYTES</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT SHA256(&quot;Hello World&quot;) as sha256;</code></pre>

<h3 id="sha512">SHA512</h3>

<pre class="codehilite"><code>SHA512(input)</code></pre>

<p><strong>Description</strong></p>

<p>Computes the hash of the input using the
<a href="https://en.wikipedia.org/wiki/SHA-2">SHA-512 algorithm</a>. The input can either be
STRING or BYTES. The string version treats the input as an array of bytes.</p>

<p>This function returns 32 bytes.</p>

<p><strong>Return type</strong></p>

<p>BYTES</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT SHA512(&quot;Hello World&quot;) as sha512;</code></pre>

<p><a name="string_functions"></a></p>

<h2 id="string-functions">String functions</h2>

<p><a name="string_values"></a>These string functions work on two different values:
STRING and BYTES data
types. STRING values must be well-formed UTF-8.</p>

<p>Functions that return position values, such as <a href="#strpos">STRPOS</a>, encode those
positions as INT64. The value <code>1</code> refers to the first
character (or byte), <code>2</code> refers to the second, and so on. The value <code>0</code>
indicates an invalid index. When working on
STRING types, the returned positions refer to
character positions.</p>

<p>All string comparisons are done byte-by-byte, without regard to Unicode
canonical equivalence.</p>

<h3 id="byte_length">BYTE_LENGTH</h3>

<pre class="codehilite"><code>BYTE_LENGTH(value)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the length of the <a href="#string_values">value</a> in bytes, regardless of
whether the type of the value is STRING or
BYTES.</p>

<p><strong>Return type</strong></p>

<p>INT64</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>WITH example AS
  (SELECT &quot;абвгд&quot; AS characters, b&quot;абвгд&quot; AS bytes)

SELECT
  characters,
  BYTE_LENGTH(characters) AS string_example,
  bytes,
  BYTE_LENGTH(bytes) AS bytes_example
FROM example;

+------------+----------------+-------+---------------+
| characters | string_example | bytes | bytes_example |
+------------+----------------+-------+---------------+
| абвгд      | 10             | абвгд | 10            |
+------------+----------------+-------+---------------+</code></pre>

<h3 id="char_length">CHAR_LENGTH</h3>

<pre class="codehilite"><code>CHAR_LENGTH(value)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the length of the STRING in characters.</p>

<p><strong>Return type</strong></p>

<p>INT64</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>WITH example AS
  (SELECT &quot;абвгд&quot; AS characters)

SELECT
  characters,
  CHAR_LENGTH(characters) AS char_length_example
FROM example;

+------------+---------------------+
| characters | char_length_example |
+------------+---------------------+
| абвгд      |                   5 |
+------------+---------------------+</code></pre>

<h3 id="character_length">CHARACTER_LENGTH</h3>

<pre class="codehilite"><code>CHARACTER_LENGTH(value)</code></pre>

<p><strong>Description</strong></p>

<p>Synonym for <a href="#char_length">CHAR_LENGTH</a>.</p>

<p><strong>Return type</strong></p>

<p>INT64</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>WITH example AS
  (SELECT &quot;абвгд&quot; AS characters)

SELECT
  characters,
  CHARACTER_LENGTH(characters) AS char_length_example
FROM example;

+------------+---------------------+
| characters | char_length_example |
+------------+---------------------+
| абвгд      |                   5 |
+------------+---------------------+</code></pre>

<h3 id="code_points_to_bytes">CODE_POINTS_TO_BYTES</h3>

<pre class="codehilite"><code>CODE_POINTS_TO_BYTES(ascii_values)</code></pre>

<p><strong>Description</strong></p>

<p>Takes an array of extended ASCII character values and returns BYTES.</p>

<p>To convert from BYTES to an array of code points, see
<a href="#to_code_points">TO_CODE_POINTS</a>.</p>

<p><strong>Return type</strong></p>

<p>BYTES</p>

<p><strong>Examples</strong></p>

<p>The following is a basic example using <code>CODE_POINTS_TO_BYTES</code>.</p>

<pre class="codehilite"><code>SELECT CODE_POINTS_TO_BYTES([65, 98, 67, 100]) AS bytes;

+-------+
| bytes |
+-------+
| AbCd  |
+-------+</code></pre>

<p>The following example uses a rotate-by-13 places (ROT13) algorithm to encode a
string.</p>

<pre class="codehilite"><code>SELECT CODE_POINTS_TO_BYTES(ARRAY_AGG(
  (SELECT
      CASE
        WHEN chr BETWEEN b'a' and b'z'
          THEN TO_CODE_POINTS(b'a')[offset(0)] +
            MOD(code+13-TO_CODE_POINTS(b'a')[offset(0)],26)
        WHEN chr BETWEEN b'A' and b'Z'
          THEN TO_CODE_POINTS(b'A')[offset(0)] +
            MOD(code+13-TO_CODE_POINTS(b'A')[offset(0)],26)
        ELSE code
      END
   FROM
     (SELECT code, CODE_POINTS_TO_BYTES([code]) chr)
  ) ORDER BY OFFSET)) AS encoded_string
FROM UNNEST(TO_CODE_POINTS(b'Test String!')) code WITH OFFSET;

+----------------+
| encoded_string |
+----------------+
| Grfg Fgevat!   |
+----------------+</code></pre>

<h3 id="code_points_to_string">CODE_POINTS_TO_STRING</h3>

<pre class="codehilite"><code>CODE_POINTS_TO_STRING(value)</code></pre>

<p><strong>Description</strong></p>

<p>Takes an array of <a href="https://en.wikipedia.org/wiki/Code_point">code points</a> and
returns a STRING.</p>

<p>To convert from a string to an array of code points, see
<a href="#to_code_points">TO_CODE_POINTS</a>.</p>

<p><strong>Return type</strong></p>

<p>STRING</p>

<p><strong>Example</strong></p>

<p>The following is a basic example using <code>CODE_POINTS_TO_STRING</code>.</p>

<pre class="codehilite"><code>SELECT CODE_POINTS_TO_STRING([65, 255, 513, 1024]) AS string;

+--------+
| string |
+--------+
| AÿȁЀ   |
+--------+</code></pre>

<p>The following example computes the frequency of letters in a set of words.</p>

<pre class="codehilite"><code>WITH Words AS (
  SELECT word
  FROM UNNEST(['foo', 'bar', 'baz', 'giraffe', 'llama']) AS word
)
SELECT
  CODE_POINTS_TO_STRING([code_point]) AS letter,
  COUNT(*) AS letter_count
FROM Words,
  UNNEST(TO_CODE_POINTS(word)) AS code_point
GROUP BY 1
ORDER BY 2 DESC;

+--------+--------------+
| letter | letter_count |
+--------+--------------+
| a      | 5            |
| f      | 3            |
| r      | 2            |
| b      | 2            |
| l      | 2            |
| o      | 2            |
| g      | 1            |
| z      | 1            |
| e      | 1            |
| m      | 1            |
| i      | 1            |
+--------+--------------+</code></pre>

<h3 id="concat">CONCAT</h3>

<pre class="codehilite"><code>CONCAT(value1[, ...])</code></pre>

<p><strong>Description</strong></p>

<p>Concatenates one or more <a href="#string_values">values</a> into a single result.</p>

<p><strong>Return type</strong></p>

<p>STRING or BYTES</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>With Employees AS
  (SELECT
    &quot;John&quot; AS first_name,
    &quot;Doe&quot; AS last_name
  UNION ALL
  SELECT
    &quot;Jane&quot; AS first_name,
    &quot;Smith&quot; AS last_name
  UNION ALL
  SELECT
    &quot;Joe&quot; AS first_name,
    &quot;Jackson&quot; AS last_name)

SELECT
  CONCAT(first_name, &quot; &quot;, last_name)
  AS full_name
FROM Employees;

+---------------------+
| full_name           |
+---------------------+
| John Doe            |
| Jane Smith          |
| Joe Jackson         |
+---------------------+</code></pre>

<h3 id="ends_with">ENDS_WITH</h3>

<pre class="codehilite"><code>ENDS_WITH(value1, value2)</code></pre>

<p><strong>Description</strong></p>

<p>Takes two <a href="#string_values">values</a>. Returns TRUE if the second value is a
suffix of the first.</p>

<p><strong>Return type</strong></p>

<p>BOOL</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>WITH items AS
  (SELECT &quot;apple&quot; as item
  UNION ALL
  SELECT &quot;banana&quot; as item
  UNION ALL
  SELECT &quot;orange&quot; as item)

SELECT
  ENDS_WITH(item, &quot;e&quot;) as example
FROM items;

+---------+
| example |
+---------+
|    True |
|   False |
|    True |
+---------+</code></pre>

<h3 id="from_base64">FROM_BASE64</h3>

<pre class="codehilite"><code>FROM_BASE64(string_expr)</code></pre>

<p><strong>Description</strong></p>

<p>Converts the base64-encoded input <code>string_expr</code> into BYTES format. To convert
BYTES to a base64-encoded STRING, use <a href="#to_base64">TO_BASE64</a>.</p>

<p><strong>Return type</strong></p>

<p>BYTES</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT FROM_BASE64('Dave') as dave_base64;

+-------------+
| dave_base64 |
+-------------+
| \r\xab\xde  |
+-------------+</code></pre>

<h3 id="length">LENGTH</h3>

<pre class="codehilite"><code>LENGTH(value)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the length of the <a href="#string_values">value</a>. The returned value
is in characters for STRING arguments and in bytes
for the BYTES argument.</p>

<p><strong>Return type</strong></p>

<p>INT64</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>WITH example AS
  (SELECT &quot;абвгд&quot; AS characters)

SELECT
  characters,
  LENGTH(characters) AS string_example,
  LENGTH(CAST(characters AS BYTES)) AS bytes_example
FROM example;

+------------+----------------+---------------+
| characters | string_example | bytes_example |
+------------+----------------+---------------+
| абвгд      |              5 |            10 |
+------------+----------------+---------------+</code></pre>

<h3 id="lpad">LPAD</h3>

<pre class="codehilite"><code>LPAD(original_value, return_length[, pattern])</code></pre>

<p><strong>Description</strong></p>

<p>Returns a <a href="#string_values">value</a> that consists of <code>original_value</code> prepended
with <code>pattern</code>. The <code>return_length</code> is an INT64 that specifies the length of the
returned value. If <code>original_value</code> is BYTES, <code>return_length</code> is the number of
bytes. If <code>original_value</code> is STRING, <code>return_length</code> is the number of
characters.</p>

<p>The default value of <code>pattern</code> is a blank space.</p>

<p>Both <code>original_value</code> and <code>pattern</code> must be the same data type.</p>

<p>If <code>return_length</code> is less than or equal to the <code>original_value</code> length, this
function returns the <code>original_value</code> value, truncated to the value of
<code>return_length</code>. For example, <code>LPAD("hello world", 7);</code> returns <code>"hello w"</code>.</p>

<p>If <code>original_value</code>, <code>return_length</code>, or <code>pattern</code> is NULL, this function
returns NULL.</p>

<p>This function returns an error if:</p>

<ul>
<li><code>return_length</code> is negative</li>
<li><code>pattern</code> is empty</li>
</ul>

<p><strong>Return type</strong></p>

<p>STRING or BYTES</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>SELECT t, len, FORMAT(&quot;%T&quot;, LPAD(t, len)) AS LPAD FROM UNNEST([
  STRUCT('abc' AS t, 5 AS len),
  ('abc', 2),
  ('例子', 4)
]);</code></pre>

<table>
<thead>
<tr>
<th>t</th>
<th>len</th>
<th>LPAD</th>
</tr>
</thead>
<tbody>
<tr>
<td>abc</td>
<td>5</td>
<td><code>"&nbsp;&nbsp;abc"</code></td>
</tr>
<tr>
<td>abc</td>
<td>2</td>
<td><code>"ab"</code></td>
</tr>
<tr>
<td>例子</td>
<td>4</td>
<td><code>"&nbsp;&nbsp;例子"</code></td>
</tr>
</tbody>
</table>

<pre class="codehilite"><code>SELECT t, len, pattern, FORMAT(&quot;%T&quot;, LPAD(t, len, pattern)) AS LPAD FROM UNNEST([
  STRUCT('abc' AS t, 8 AS len, 'def' AS pattern),
  ('abc', 5, '-'),
  ('例子', 5, '中文')
]);</code></pre>

<table>
<thead>
<tr>
<th>t</th>
<th>len</th>
<th>pattern</th>
<th>LPAD</th>
</tr>
</thead>
<tbody>
<tr>
<td>abc</td>
<td>8</td>
<td>def</td>
<td><code>"defdeabc"</code></td>
</tr>
<tr>
<td>abc</td>
<td>5</td>
<td>-</td>
<td><code>"--abc"</code></td>
</tr>
<tr>
<td>例子</td>
<td>5</td>
<td>中文</td>
<td><code>"中文中例子"</code></td>
</tr>
</tbody>
</table>

<pre class="codehilite"><code>SELECT FORMAT(&quot;%T&quot;, t) AS t, len, FORMAT(&quot;%T&quot;, LPAD(t, len)) AS LPAD FROM UNNEST([
  STRUCT(b'abc' AS t, 5 AS len),
  (b'abc', 2),
  (b'\xab\xcd\xef', 4)
]);</code></pre>

<table>
<thead>
<tr>
<th>t</th>
<th>len</th>
<th>LPAD</th>
</tr>
</thead>
<tbody>
<tr>
<td>b"abc"</td>
<td>5</td>
<td><code>b"&nbsp;&nbsp;abc"</code></td>
</tr>
<tr>
<td>b"abc"</td>
<td>2</td>
<td><code>b"ab"</code></td>
</tr>
<tr>
<td>b"\xab\xcd\xef"</td>
<td>4</td>
<td><code>b" \xab\xcd\xef"</code></td>
</tr>
</tbody>
</table>

<pre class="codehilite"><code>SELECT
  FORMAT(&quot;%T&quot;, t) AS t,
  len,
  FORMAT(&quot;%T&quot;, pattern) AS pattern,
  FORMAT(&quot;%T&quot;, LPAD(t, len, pattern)) AS LPAD
FROM UNNEST([
  STRUCT(b'abc' AS t, 8 AS len, b'def' AS pattern),
  (b'abc', 5, b'-'),
  (b'\xab\xcd\xef', 5, b'\x00')
]);</code></pre>

<table>
<thead>
<tr>
<th>t</th>
<th>len</th>
<th>pattern</th>
<th>LPAD</th>
</tr>
</thead>
<tbody>
<tr>
<td>b"abc"</td>
<td>8</td>
<td>b"def"</td>
<td><code>b"defdeabc"</code></td>
</tr>
<tr>
<td>b"abc"</td>
<td>5</td>
<td>b"-"</td>
<td><code>b"--abc"</code></td>
</tr>
<tr>
<td>b"\xab\xcd\xef"</td>
<td>5</td>
<td>b"\x00"</td>
<td><code>b"\x00\x00\xab\xcd\xef"</code></td>
</tr>
</tbody>
</table>

<h3 id="lower">LOWER</h3>

<pre class="codehilite"><code>LOWER(value)</code></pre>

<p><strong>Description</strong></p>

<p>For STRING arguments, returns the original
string with all alphabetic characters in lowercase.
Mapping between lowercase and uppercase is done according to the
<a href="http://unicode.org/ucd/">Unicode Character Database</a> without taking into
account language-specific mappings.</p>

<p>For BYTES arguments, the
argument is treated as ASCII text, with all bytes
greater than 127 left intact.</p>

<p><strong>Return type</strong></p>

<p>STRING or BYTES</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>WITH items AS
  (SELECT
    &quot;FOO&quot; as item
  UNION ALL
  SELECT
    &quot;BAR&quot; as item
  UNION ALL
  SELECT
    &quot;BAZ&quot; as item)

SELECT
  LOWER(item) AS example
FROM items;

+---------+
| example |
+---------+
| foo     |
| bar     |
| baz     |
+---------+</code></pre>

<h3 id="ltrim">LTRIM</h3>

<pre class="codehilite"><code>LTRIM(value1[, value2])</code></pre>

<p><strong>Description</strong></p>

<p>Identical to <a href="#trim">TRIM</a>, but only removes leading characters.</p>

<p><strong>Return type</strong></p>

<p>STRING or BYTES</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>WITH items AS
  (SELECT &quot;   apple   &quot; as item
  UNION ALL
  SELECT &quot;   banana   &quot; as item
  UNION ALL
  SELECT &quot;   orange   &quot; as item)

SELECT
  CONCAT(&quot;#&quot;, LTRIM(item), &quot;#&quot;) as example
FROM items;

+-------------+
| example     |
+-------------+
| #apple   #  |
| #banana   # |
| #orange   # |
+-------------+

WITH items AS
  (SELECT &quot;***apple***&quot; as item
  UNION ALL
  SELECT &quot;***banana***&quot; as item
  UNION ALL
  SELECT &quot;***orange***&quot; as item)

SELECT
  LTRIM(item, &quot;*&quot;) as example
FROM items;

+-----------+
| example   |
+-----------+
| apple***  |
| banana*** |
| orange*** |
+-----------+

WITH items AS
  (SELECT &quot;xxxapplexxx&quot; as item
  UNION ALL
  SELECT &quot;yyybananayyy&quot; as item
  UNION ALL
  SELECT &quot;zzzorangezzz&quot; as item
  UNION ALL
  SELECT &quot;xyzpearxyz&quot; as item)

SELECT
  LTRIM(item, &quot;xyz&quot;) as example
FROM items;

+---------+
| example |
+---------+
| apple   |
| banana  |
| orange  |
| pear    |
+---------+</code></pre>

<h3 id="regexp_contains">REGEXP_CONTAINS</h3>

<pre class="codehilite"><code>REGEXP_CONTAINS(value, regex)</code></pre>

<p><strong>Description</strong></p>

<p>Returns TRUE if <code>value</code> is a partial match for the regular expression,
<code>regex</code>. You can search for a full match by using <code>^</code> (beginning of text) and
<code>$</code> (end of text).</p>

<p>If the <code>regex</code> argument is invalid, the function returns an error.</p>

<p>Note: BigQuery provides regular expression support using the
<a href="http://code.google.com/p/re2/">re2</a> library; see that documentation for its
regular expression syntax.</p>

<p><strong>Return type</strong></p>

<p>BOOL</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>SELECT
  email,
  REGEXP_CONTAINS(email, r&quot;@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+&quot;) AS is_valid
FROM
  (SELECT
    [&quot;foo@example.com&quot;, &quot;bar@example.org&quot;, &quot;www.example.net&quot;]
    AS addresses),
  UNNEST(addresses) AS email;

+-----------------+----------+
| email           | is_valid |
+-----------------+----------+
| foo@example.com | true     |
| bar@example.org | true     |
| www.example.net | false    |
+-----------------+----------+

# Performs a full match, using ^ and $.
SELECT
  email,
  REGEXP_CONTAINS(email, r&quot;^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$&quot;)
    AS valid_email_address
FROM
  (SELECT
    [&quot;foo@example.com&quot;, &quot;bar@example.org&quot;, &quot;www.example.net&quot;]
    AS addresses),
  UNNEST(addresses) AS email;

+-----------------+---------------------+
| email           | valid_email_address |
+-----------------+---------------------+
| foo@example.com | true                |
| bar@example.org | true                |
| www.example.net | false               |
+-----------------+---------------------+</code></pre>

<h3 id="regexp_extract">REGEXP_EXTRACT</h3>

<pre class="codehilite"><code>REGEXP_EXTRACT(value, regex)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the first substring in <code>value</code> that matches the regular expression,
<code>regex</code>. Returns <code>NULL</code> if there is no match.</p>

<p>If the regular expression contains a capturing group, the function returns the
substring that is matched by that capturing group. If the expression does not
contain a capturing group, the function returns the entire matching substring.</p>

<p>Returns an error if:</p>

<ul>
<li>The regular expression is invalid</li>
<li>The regular expression has more than one capturing group</li>
</ul>

<p>Note: BigQuery provides regular expression support using the
<a href="http://code.google.com/p/re2/">re2</a> library; see that documentation for its
regular expression syntax.</p>

<p><strong>Return type</strong></p>

<p>STRING or BYTES</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>WITH email_addresses AS
  (SELECT &quot;foo@example.com&quot; as email
  UNION ALL
  SELECT &quot;bar@example.org&quot; as email
  UNION ALL
  SELECT &quot;baz@example.net&quot; as email)

SELECT
  REGEXP_EXTRACT(email, r&quot;^[a-zA-Z0-9_.+-]+&quot;)
  AS user_name
FROM email_addresses;

+-----------+
| user_name |
+-----------+
| foo       |
| bar       |
| baz       |
+-----------+

WITH email_addresses AS
  (SELECT &quot;foo@example.com&quot; as email
  UNION ALL
  SELECT &quot;bar@example.org&quot; as email
  UNION ALL
  SELECT &quot;baz@example.net&quot; as email)

SELECT
  REGEXP_EXTRACT(email, r&quot;^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.([a-zA-Z0-9-.]+$)&quot;)
  AS top_level_domain
FROM email_addresses;

+------------------+
| top_level_domain |
+------------------+
| com              |
| org              |
| net              |
+------------------+</code></pre>

<h3 id="regexp_extract_all">REGEXP_EXTRACT_ALL</h3>

<pre class="codehilite"><code>REGEXP_EXTRACT_ALL(value, regex)</code></pre>

<p><strong>Description</strong></p>

<p>Returns an array of all substrings of <code>value</code> that match the regular expression,
<code>regex</code>.</p>

<p>The <code>REGEXP_EXTRACT_ALL</code> function only returns non-overlapping matches. For
example, using this function to extract <code>ana</code> from <code>banana</code> returns only one
substring, not two.</p>

<p>Note: BigQuery provides regular expression support using the
<a href="http://code.google.com/p/re2/">re2</a> library; see that documentation for its
regular expression syntax.</p>

<p><strong>Return type</strong></p>

<p>An ARRAY of either STRINGs
or BYTES</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>WITH code_markdown AS
  (SELECT &quot;Try `function(x)` or `function(y)`&quot; as code)

SELECT
  REGEXP_EXTRACT_ALL(code, &quot;`(.+?)`&quot;) AS example
FROM code_markdown;

+----------------------------+
| example                    |
+----------------------------+
| [function(x), function(y)] |
+----------------------------+</code></pre>

<h3 id="regexp_replace">REGEXP_REPLACE</h3>

<pre class="codehilite"><code>REGEXP_REPLACE(value, regex, replacement)</code></pre>

<p><strong>Description</strong></p>

<p>Returns a STRING where all substrings of <code>value</code> that
match regular expression <code>regex</code> are replaced with <code>replacement</code>.</p>

<p>You can use backslashed-escaped digits (\1 to \9) within the <code>replacement</code>
argument to insert text matching the corresponding parenthesized group in the
<code>regex</code> pattern. Use \0 to refer to the entire matching text.</p>

<p>Note: To add a backslash in your regular expression, you must first escape it.
For example, <code>SELECT REGEXP_REPLACE("abc", "b(.)", "X\\1");</code> returns <code>aXc</code>.</p>

<p>The <code>REGEXP_REPLACE</code> function only replaces non-overlapping matches. For
example, replacing <code>ana</code> within <code>banana</code> results in only one replacement, not
two.</p>

<p>If the <code>regex</code> argument is not a valid regular expression, this function returns
an error.</p>

<p>Note: BigQuery provides regular expression support using the
<a href="http://code.google.com/p/re2/">re2</a> library; see that documentation for its
regular expression syntax.</p>

<p><strong>Return type</strong></p>

<p>STRING or BYTES</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>WITH markdown AS
  (SELECT &quot;# Heading&quot; as heading
  UNION ALL
  SELECT &quot;# Another heading&quot; as heading)

SELECT
  REGEXP_REPLACE(heading, r&quot;^# ([a-zA-Z0-9\s]+$)&quot;, &quot;&lt;h1&gt;\\1&lt;/h1&gt;&quot;)
  AS html
FROM markdown;

+--------------------------+
| html                     |
+--------------------------+
| &lt;h1&gt;Heading&lt;/h1&gt;         |
| &lt;h1&gt;Another heading&lt;/h1&gt; |
+--------------------------+</code></pre>

<h3 id="replace">REPLACE</h3>

<pre class="codehilite"><code>REPLACE(original_value, from_value, to_value)</code></pre>

<p><strong>Description</strong></p>

<p>Replaces all occurrences of <code>from_value</code> with <code>to_value</code> in <code>original_value</code>.
If <code>from_value</code> is empty, no replacement is made.</p>

<p><strong>Return type</strong></p>

<p>STRING or BYTES</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>WITH desserts AS
  (SELECT &quot;apple pie&quot; as dessert
  UNION ALL
  SELECT &quot;blackberry pie&quot; as dessert
  UNION ALL
  SELECT &quot;cherry pie&quot; as dessert)

SELECT
  REPLACE (dessert, &quot;pie&quot;, &quot;cobbler&quot;) as example
FROM desserts;

+--------------------+
| example            |
+--------------------+
| apple cobbler      |
| blackberry cobbler |
| cherry cobbler     |
+--------------------+</code></pre>

<h3 id="repeat">REPEAT</h3>

<pre class="codehilite"><code>REPEAT(original_value, repetitions)</code></pre>

<p><strong>Description</strong></p>

<p>Returns a <a href="#string_values">value</a> that consists of <code>original_value</code>, repeated.
The <code>repetitions</code> parameter specifies the number of times to repeat
<code>original_value</code>. Returns NULL if either <code>original_value</code> or <code>repetitions</code> are
NULL.</p>

<p>This function return an error if the <code>repetitions</code> value is negative.</p>

<p><strong>Return type</strong></p>

<p>STRING or BYTES</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>SELECT t, n, REPEAT(t, n) AS REPEAT FROM UNNEST([
  STRUCT('abc' AS t, 3 AS n),
  ('例子', 2),
  ('abc', null),
  (null, 3)
]);</code></pre>

<table>
<thead>
<tr>
<th>t</th>
<th>n</th>
<th>REPEAT</th>
</tr>
</thead>
<tbody>
<tr>
<td>abc</td>
<td>3</td>
<td>abcabcabc</td>
</tr>
<tr>
<td>例子</td>
<td>2</td>
<td>例子例子</td>
</tr>
<tr>
<td>abc</td>
<td>NULL</td>
<td>NULL</td>
</tr>
<tr>
<td>NULL</td>
<td>3</td>
<td>NULL</td>
</tr>
</tbody>
</table>

<h3 id="rpad">RPAD</h3>

<pre class="codehilite"><code>RPAD(original_value, return_length[, pattern])</code></pre>

<p><strong>Description</strong></p>

<p>Returns a <a href="#string_values">value</a> that consists of <code>original_value</code> appended
with <code>pattern</code>. The <code>return_length</code> is an INT64 that specifies the length of the
returned value. If <code>original_value</code> is BYTES, <code>return_length</code> is the number of
bytes. If <code>original_value</code> is STRING, <code>return_length</code> is the number of
characters.</p>

<p>The default value of <code>pattern</code> is a blank space.</p>

<p>Both <code>original_value</code> and <code>pattern</code> must be the same data type.</p>

<p>If <code>return_length</code> is less than or equal to the <code>original_value</code> length, this
function returns the <code>original_value</code> value, truncated to the value of
<code>return_length</code>. For example, <code>RPAD("hello world", 7);</code> returns <code>"o world"</code>.</p>

<p>If <code>original_value</code>, <code>return_length</code>, or <code>pattern</code> is NULL, this function
returns NULL.</p>

<p>This function returns an error if:</p>

<ul>
<li><code>return_length</code> is negative</li>
<li><code>pattern</code> is empty</li>
</ul>

<p><strong>Return type</strong></p>

<p>STRING or BYTES</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>SELECT t, len, FORMAT(&quot;%T&quot;, RPAD(t, len)) AS RPAD FROM UNNEST([
  STRUCT('abc' AS t, 5 AS len),
  ('abc', 2),
  ('例子', 4)
]);</code></pre>

<table>
<thead>
<tr>
<th>t</th>
<th>len</th>
<th>RPAD</th>
</tr>
</thead>
<tbody>
<tr>
<td>abc</td>
<td>5</td>
<td><code>"abc&nbsp;&nbsp;"</code></td>
</tr>
<tr>
<td>abc</td>
<td>2</td>
<td><code>"ab"</code></td>
</tr>
<tr>
<td>例子</td>
<td>4</td>
<td><code>"例子&nbsp;&nbsp;"</code></td>
</tr>
</tbody>
</table>

<pre class="codehilite"><code>SELECT t, len, pattern, FORMAT(&quot;%T&quot;, RPAD(t, len, pattern)) AS RPAD FROM UNNEST([
  STRUCT('abc' AS t, 8 AS len, 'def' AS pattern),
  ('abc', 5, '-'),
  ('例子', 5, '中文')
]);</code></pre>

<table>
<thead>
<tr>
<th>t</th>
<th>len</th>
<th>pattern</th>
<th>RPAD</th>
</tr>
</thead>
<tbody>
<tr>
<td>abc</td>
<td>8</td>
<td>def</td>
<td><code>"abcdefde"</code></td>
</tr>
<tr>
<td>abc</td>
<td>5</td>
<td>-</td>
<td><code>"abc--"</code></td>
</tr>
<tr>
<td>例子</td>
<td>5</td>
<td>中文</td>
<td><code>"例子中文中"</code></td>
</tr>
</tbody>
</table>

<pre class="codehilite"><code>SELECT FORMAT(&quot;%T&quot;, t) AS t, len, FORMAT(&quot;%T&quot;, RPAD(t, len)) AS RPAD FROM UNNEST([
  STRUCT(b'abc' AS t, 5 AS len),
  (b'abc', 2),
  (b'\xab\xcd\xef', 4)
]);</code></pre>

<table>
<thead>
<tr>
<th>t</th>
<th>len</th>
<th>RPAD</th>
</tr>
</thead>
<tbody>
<tr>
<td>b"abc"</td>
<td>5</td>
<td><code>b"abc&nbsp;&nbsp;"</code></td>
</tr>
<tr>
<td>b"abc"</td>
<td>2</td>
<td><code>b"ab"</code></td>
</tr>
<tr>
<td>b"\xab\xcd\xef"</td>
<td>4</td>
<td><code>b"\xab\xcd\xef "</code></td>
</tr>
</tbody>
</table>

<pre class="codehilite"><code>SELECT
  FORMAT(&quot;%T&quot;, t) AS t,
  len,
  FORMAT(&quot;%T&quot;, pattern) AS pattern,
  FORMAT(&quot;%T&quot;, RPAD(t, len, pattern)) AS RPAD
FROM UNNEST([
  STRUCT(b'abc' AS t, 8 AS len, b'def' AS pattern),
  (b'abc', 5, b'-'),
  (b'\xab\xcd\xef', 5, b'\x00')
]);</code></pre>

<table>
<thead>
<tr>
<th>t</th>
<th>len</th>
<th>pattern</th>
<th>RPAD</th>
</tr>
</thead>
<tbody>
<tr>
<td>b"abc"</td>
<td>8</td>
<td>b"def"</td>
<td><code>b"abcdefde"</code></td>
</tr>
<tr>
<td>b"abc"</td>
<td>5</td>
<td>b"-"</td>
<td><code>b"abc--"</code></td>
</tr>
<tr>
<td>b"\xab\xcd\xef"</td>
<td>5</td>
<td>b"\x00"</td>
<td><code>b"\xab\xcd\xef\x00\x00"</code></td>
</tr>
</tbody>
</table>

<h3 id="rtrim">RTRIM</h3>

<pre class="codehilite"><code>RTRIM(value1[, value2])</code></pre>

<p><strong>Description</strong></p>

<p>Identical to <a href="#trim">TRIM</a>, but only removes trailing characters.</p>

<p><strong>Return type</strong></p>

<p>STRING or BYTES</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>WITH items AS
  (SELECT &quot;***apple***&quot; as item
  UNION ALL
  SELECT &quot;***banana***&quot; as item
  UNION ALL
  SELECT &quot;***orange***&quot; as item)

SELECT
  RTRIM(item, &quot;*&quot;) as example
FROM items;

+-----------+
| example   |
+-----------+
| ***apple  |
| ***banana |
| ***orange |
+-----------+

WITH items AS
  (SELECT &quot;applexxx&quot; as item
  UNION ALL
  SELECT &quot;bananayyy&quot; as item
  UNION ALL
  SELECT &quot;orangezzz&quot; as item
  UNION ALL
  SELECT &quot;pearxyz&quot; as item)

SELECT
  RTRIM(item, &quot;xyz&quot;) as example
FROM items;

+---------+
| example |
+---------+
| apple   |
| banana  |
| orange  |
| pear    |
+---------+</code></pre>

<h3 id="safe_convert_bytes_to_string">SAFE_CONVERT_BYTES_TO_STRING</h3>

<pre class="codehilite"><code>SAFE_CONVERT_BYTES_TO_STRING(value)</code></pre>

<p><strong>Description</strong></p>

<p>Converts a sequence of bytes to a string. Any invalid UTF-8 characters are
replaced with the Unicode replacement character, <code>U+FFFD</code>.</p>

<p><strong>Return type</strong></p>

<p>STRING</p>

<p><strong>Examples</strong></p>

<p>The following statement returns the Unicode replacement character, &#65533;.</p>

<pre class="codehilite"><code>SELECT SAFE_CONVERT_BYTES_TO_STRING(b'\xc2') as safe_convert;</code></pre>

<h3 id="split">SPLIT</h3>

<pre class="codehilite"><code>SPLIT(value[, delimiter])</code></pre>

<p><strong>Description</strong></p>

<p>Splits <code>value</code> using the <code>delimiter</code> argument.</p>

<p>For STRING, the default delimiter is <code>,</code>.</p>

<p>For BYTES, you must specify a delimiter.</p>

<p>Splitting on an empty delimiter produces an array of UTF-8 characters for
STRING values, and an array of
BYTES for BYTES values.</p>

<p>Splitting an empty STRING returns an
ARRAY with a single empty
STRING.</p>

<p><strong>Return type</strong></p>

<p>ARRAY of type STRING or
ARRAY of type BYTES</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>WITH letters AS
  (SELECT &quot;a b c d&quot; as letter_group
  UNION ALL
  SELECT &quot;e f g h&quot; as letter_group
  UNION ALL
  SELECT &quot;i j k l&quot; as letter_group)

SELECT SPLIT(letter_group, &quot; &quot;) as example
FROM letters;

+----------------------+
| example              |
+----------------------+
| [a, b, c, d]         |
| [e, f, g, h]         |
| [i, j, k, l]         |
+----------------------+</code></pre>

<h3 id="starts_with">STARTS_WITH</h3>

<pre class="codehilite"><code>STARTS_WITH(value1, value2)</code></pre>

<p><strong>Description</strong></p>

<p>Takes two <a href="#string_values">values</a>. Returns TRUE if the second value is a prefix
of the first.</p>

<p><strong>Return type</strong></p>

<p>BOOL</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>WITH items AS
  (SELECT &quot;foo&quot; as item
  UNION ALL
  SELECT &quot;bar&quot; as item
  UNION ALL
  SELECT &quot;baz&quot; as item)

SELECT
  STARTS_WITH(item, &quot;b&quot;) as example
FROM items;

+---------+
| example |
+---------+
|   False |
|    True |
|    True |
+---------+</code></pre>

<h3 id="strpos">STRPOS</h3>

<pre class="codehilite"><code>STRPOS(value1, value2)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the 1-based index of the first occurrence of <code>value2</code> inside <code>value1</code>.
Returns <code>0</code> if <code>value2</code> is not found.</p>

<p><strong>Return type</strong></p>

<p>INT64</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>WITH email_addresses AS
  (SELECT
    &quot;foo@example.com&quot; AS email_address
  UNION ALL
  SELECT
    &quot;foobar@example.com&quot; AS email_address
  UNION ALL
  SELECT
    &quot;foobarbaz@example.com&quot; AS email_address
  UNION ALL
  SELECT
    &quot;quxexample.com&quot; AS email_address)

SELECT
  STRPOS(email_address, &quot;@&quot;) AS example
FROM email_addresses;

+---------+
| example |
+---------+
|       4 |
|       7 |
|      10 |
|       0 |
+---------+</code></pre>

<h3 id="substr">SUBSTR</h3>

<pre class="codehilite"><code>SUBSTR(value, position[, length])</code></pre>

<p><strong>Description</strong></p>

<p>Returns a substring of the supplied <a href="#string_values">value</a>. The <code>position</code>
argument is an integer specifying the starting position of the substring, with
position = 1 indicating the first character or byte. The <code>length</code>
argument is the maximum number of characters for
STRING arguments, or bytes for
BYTES arguments.</p>

<p>If <code>position</code> is negative, the function counts from the end of <code>value</code>,
with -1 indicating the last character.</p>

<p>If <code>position</code> is a position off the left end of the
STRING (<code>position</code> = 0 or
<code>position</code> &lt; <code>-LENGTH(value)</code>), the function starts
from position = 1. If <code>length</code> exceeds the length of
<code>value</code>, returns fewer than <code>length</code> characters.</p>

<p>If <code>length</code> is less than 0, the function returns an error.</p>

<p><strong>Return type</strong></p>

<p>STRING or BYTES</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>WITH items AS
  (SELECT &quot;apple&quot; as item
  UNION ALL
  SELECT &quot;banana&quot; as item
  UNION ALL
  SELECT &quot;orange&quot; as item)

SELECT
  SUBSTR(item, 2) as example
FROM items;

+---------+
| example |
+---------+
| pple    |
| anana   |
| range   |
+---------+

WITH items AS
  (SELECT &quot;apple&quot; as item
  UNION ALL
  SELECT &quot;banana&quot; as item
  UNION ALL
  SELECT &quot;orange&quot; as item)

SELECT
  SUBSTR(item, 2, 2) as example
FROM items;

+---------+
| example |
+---------+
| pp      |
| an      |
| ra      |
+---------+

WITH items AS
  (SELECT &quot;apple&quot; as item
  UNION ALL
  SELECT &quot;banana&quot; as item
  UNION ALL
  SELECT &quot;orange&quot; as item)

SELECT
  SUBSTR(item, -2) as example
FROM items;

+---------+
| example |
+---------+
| le      |
| na      |
| ge      |
+---------+</code></pre>

<h3 id="to_base64">TO_BASE64</h3>

<pre class="codehilite"><code>TO_BASE64(bytes_expr)</code></pre>

<p><strong>Description</strong></p>

<p>Converts a sequence of BYTES into a base64-encoded STRING. To convert a
base64-encoded STRING into BYTES, use <a href="#from_base64">FROM_BASE64</a>.</p>

<p><strong>Return type</strong></p>

<p>STRING</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT TO_BASE64(b'\r\xab\xde') as base64_dave;

+-------------+
| base64_dave |
+-------------+
| Dave        |
+-------------+</code></pre>

<h3 id="to_code_points">TO_CODE_POINTS</h3>

<pre class="codehilite"><code>TO_CODE_POINTS(value)</code></pre>

<p><strong>Description</strong></p>

<p>Takes a <a href="#string_values">value</a> and returns an array of INT64.</p>

<ul>
<li>If <code>value</code> is a STRING, each element in the returned array represents a
  <a href="https://en.wikipedia.org/wiki/Code_point">code point</a>. Each code point falls
  within the range of [0, 0xD7FF] and [0xE000, 0x10FFFF].</li>
<li>If <code>value</code> is BYTES, each element in the array is an extended ASCII
  character value in the range of [0, 255].</li>
</ul>

<p>To convert from an array of code points to a STRING or BYTES, see
<a href="#code_points_to_string">CODE_POINTS_TO_STRING</a> or
<a href="#code_points_to_bytes">CODE_POINTS_TO_BYTES</a>.</p>

<p><strong>Return type</strong></p>

<p>ARRAY of INT64</p>

<p><strong>Examples</strong></p>

<p>The following example gets the code points for each element in an array of
words.</p>

<pre class="codehilite"><code>SELECT word, TO_CODE_POINTS(word) AS code_points
FROM UNNEST(['foo', 'bar', 'baz', 'giraffe', 'llama']) AS word;

+---------+------------------------------------+
| word    | code_points                        |
+---------+------------------------------------+
| foo     | [102, 111, 111]                    |
| bar     | [98, 97, 114]                      |
| baz     | [98, 97, 122]                      |
| giraffe | [103, 105, 114, 97, 102, 102, 101] |
| llama   | [108, 108, 97, 109, 97]            |
+---------+------------------------------------+</code></pre>

<p>The following example converts integer representations of BYTES to their
corresponding ASCII character values.</p>

<pre class="codehilite"><code>SELECT word, TO_CODE_POINTS(word) AS bytes_value_as_integer
FROM UNNEST([b'\x00\x01\x10\xff', b'\x66\x6f\x6f']) AS word;

+------------------+------------------------+
| word             | bytes_value_as_integer |
+------------------+------------------------+
| \x00\x01\x10\xff | [0, 1, 16, 255]        |
| foo              | [102, 111, 111]        |
+------------------+------------------------+</code></pre>

<p>The following example demonstrates the difference between a BYTES result and a
STRING result.</p>

<pre class="codehilite"><code>SELECT TO_CODE_POINTS(b'Ā') AS b_result, TO_CODE_POINTS('Ā') AS s_result;

+------------+----------+
| b_result   | s_result |
+------------+----------+
| [196, 128] | [256]    |
+------------+----------+</code></pre>

<p>Notice that the character, Ā, is represented as a two-byte Unicode sequence. As
a result, the BYTES version of <code>TO_CODE_POINTS</code> returns an array with two
elements, while the STRING version returns an array with a single element.</p>

<h3 id="trim">TRIM</h3>

<pre class="codehilite"><code>TRIM(value1[, value2])</code></pre>

<p><strong>Description</strong></p>

<p>Removes all leading and trailing characters that match <code>value2</code>. If
<code>value2</code> is not specified, all leading and trailing whitespace characters (as
defined by the Unicode standard) are removed. If the first argument is of type
BYTES, the second argument is required.</p>

<p>If <code>value2</code> contains more than one character or byte, the function removes all
leading or trailing characters or bytes contained in <code>value2</code>.</p>

<p><strong>Return type</strong></p>

<p>STRING or BYTES</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>WITH items AS
  (SELECT &quot;   apple   &quot; as item
  UNION ALL
  SELECT &quot;   banana   &quot; as item
  UNION ALL
  SELECT &quot;   orange   &quot; as item)

SELECT
  CONCAT(&quot;#&quot;, TRIM(item), &quot;#&quot;) as example
FROM items;

+----------+
| example  |
+----------+
| #apple#  |
| #banana# |
| #orange# |
+----------+

WITH items AS
  (SELECT &quot;***apple***&quot; as item
  UNION ALL
  SELECT &quot;***banana***&quot; as item
  UNION ALL
  SELECT &quot;***orange***&quot; as item)

SELECT
  TRIM(item, &quot;*&quot;) as example
FROM items;

+---------+
| example |
+---------+
| apple   |
| banana  |
| orange  |
+---------+

WITH items AS
  (SELECT &quot;xxxapplexxx&quot; as item
  UNION ALL
  SELECT &quot;yyybananayyy&quot; as item
  UNION ALL
  SELECT &quot;zzzorangezzz&quot; as item
  UNION ALL
  SELECT &quot;xyzpearxyz&quot; as item)

SELECT
  TRIM(item, &quot;xyz&quot;) as example
FROM items;

+---------+
| example |
+---------+
| apple   |
| banana  |
| orange  |
| pear    |
+---------+</code></pre>

<h3 id="upper">UPPER</h3>

<pre class="codehilite"><code>UPPER(value)</code></pre>

<p><strong>Description</strong></p>

<p>For STRING arguments, returns the original
string with all alphabetic characters in uppercase.
Mapping between uppercase and lowercase is done according to the
<a href="http://unicode.org/ucd/">Unicode Character Database</a> without taking into
account language-specific mappings.</p>

<p>For BYTES arguments, the
argument is treated as ASCII text, with all bytes
greater than 127 left intact.</p>

<p><strong>Return type</strong></p>

<p>STRING or BYTES</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>WITH items AS
  (SELECT
    &quot;foo&quot; as item
  UNION ALL
  SELECT
    &quot;bar&quot; as item
  UNION ALL
  SELECT
    &quot;baz&quot; as item)

SELECT
  UPPER(item) AS example
FROM items;

+---------+
| example |
+---------+
| FOO     |
| BAR     |
| BAZ     |
+---------+</code></pre>

<p><a id="string_format"></a></p>

<h3 id="string-format">String FORMAT()</h3>

<p>BigQuery supports a <code>FORMAT()</code> function for formatting strings. This
function is similar to the C <code>printf</code> function. It produces a
STRING from a format string that contains zero or
more format specifiers, along with a variable length list of additional
arguments that matches the format specifiers. Here are some examples:</p>

<table>
<tr>
<th>Description</th>
<th>Statement</th>
<th>Result</th>
</tr>
<tr>
<td>Simple integer</td>
<td><pre>format("%d", 10)</pre></td>
<td><pre>10</pre></td>
</tr>
<tr>
<td>Integer with left blank padding</td>
<td><pre>format("|%10d|", 11)</pre></td>
<td><pre>|           11|</pre></td>
</tr>
<tr>
<td>Integer with left zero padding</td>
<td><pre>format("+%010d+", 12)</pre></td>
<td><pre>+0000000012+</pre></td>
</tr>
<tr>
<td>STRING</td>
<td><pre>format("-%s-", 'abcd efg')</pre></td>
<td><pre>-abcd efg-</pre></td>
</tr>
<tr>
<td>FLOAT64</td>
<td><pre>format("%f %E", 1.1, 2.2)</pre></td>
<td><pre>1.100000 2.200000E+00</pre></td>
</tr>
<tr>
<td>DATE</td>
<td><pre>format("%t", date "2015-09-01")</pre></td>
<td><pre>2015-09-01</pre></td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td><pre>format("%t", timestamp "2015-09-01 12:34:56
America/Los_Angeles")</pre></td>
<td><pre>2015-09-01 19:34:56+00</pre></td>
</tr>
</table>

<p>The <code>FORMAT()</code> function does not provide fully customizable formatting for all
types and values, nor formatting that is sensitive to locale.</p>

<p>If custom formatting is necessary for a type, you must first format it using
type-specific format functions, such as <code>FORMAT_DATE()</code> or <code>FORMAT_TIMESTAMP()</code>.
For example:</p>

<pre class="codehilite"><code class="language-sql">FORMAT(&quot;date: %s!&quot;, FORMAT_DATE(&quot;%B %d, %Y&quot;, date '2015-01-02'))</code></pre>

<p>Returns</p>

<pre class="codehilite"><code>date: January 02, 2015!</code></pre>

<h4 id="syntax">Syntax</h4>

<p>The <code>FORMAT()</code> syntax takes a format string and variable length list of
arguments and produces a STRING result:</p>

<pre class="codehilite"><code class="language-sql">FORMAT(&lt;format_string&gt;, ...)</code></pre>

<p>The <code>&lt;format_string&gt;</code> expression can contain zero or more format specifiers.
Each format specifier is introduced by the <code>%</code> symbol, and must map to one or
more of the remaining arguments.  For the most part, this is a one-to-one
mapping, except when the <code>*</code> specifier is present. For example, <code>%.*i</code> maps to
two arguments&mdash;a length argument and a signed integer argument.  If the
number of arguments related to the format specifiers is not the same as the
number of arguments, an error occurs.</p>

<h4 id="supported-format-specifiers">Supported format specifiers</h4>

<p>The <code>FORMAT()</code> function format specifier follows this prototype:</p>

<pre class="codehilite"><code class="language-sql">%[flags][width][.precision]specifier</code></pre>

<p>The supported format specifiers are identified in the following table.
Extensions from printf() are identified in <em>italics</em>.</p>

<table>
<tr>
<td>Specifier</td>
<td>Description</td>
<td>Examples</td>
<td>Types</td>
</tr>
<tr>
<td>d or i</td>
<td>Decimal integer</td>
<td>392</td>
<td>
<span>INT64</span><br />
</td>
</tr>
<tr>
<td>o</td>
<td>Octal</td>
<td>610</td>
<td>
<br /><span>INT64</span><a href="#oxX">*</a>
</td>
</tr><tr>
<td>x</td>
<td>Hexadecimal integer</td>
<td>7fa</td>
<td>
<br /><span>INT64</span><a href="#oxX">*</a>
</td>
</tr>
<tr>
<td>X</td>
<td>Hexadecimal integer (uppercase)</td>
<td>7FA</td>
<td>
<br /><span>INT64</span><a href="#oxX">*</a>
</td>
</tr>
<tr>
<td>f</td>
<td>Decimal floating point, lowercase</td>
<td>392.65<br />
<code>inf</code><br />
<code>NaN</code></td>
<td>
<span> FLOAT64<span>
</span></span></td>
</tr>
<tr>
<td>F</td>
<td>Decimal floating point, uppercase</td>
<td>392.65<br />
<code>inf</code><br />
    NAN</td>
<td>
<span> FLOAT64<span>
</span></span></td>
</tr>
<tr>
<td>e</td>
<td>Scientific notation (mantissa/exponent), lowercase</td>
<td>3.9265e+2<br />
<code>inf</code><br />
<code>NaN</code></td>
<td>
<span> FLOAT64<span>
</span></span></td>
</tr>
<tr>
<td>E</td>
<td>Scientific notation (mantissa/exponent), uppercase</td>
<td>3.9265E+2<br />
<code>inf</code><br />
    NAN</td>
<td>
<span> FLOAT64<span>
</span></span></td>
</tr>
<tr>
<td>g</td>
<td>Use the shortest representation, %e or %f</td>
<td>392.65</td>
<td>
<span> FLOAT64<span>
</span></span></td>
</tr>
<tr>
<td>G</td>
<td>Use the shortest representation, %E or %F</td>
<td>392.65</td>
<td>
<span> FLOAT64<span>
</span></span></td>
</tr>
<tr>
<td>s</td>
<td>String of characters</td>
<td>sample</td>
<td>STRING</td>
</tr>
<tr>
<td><em>t</em></td>
<td><em>Returns a printable string representing the value. Often looks
similar to casting the argument to STRING.</em> <em>See <a href="#t_and_t_behavior">%t section below</a>.</em></td>
<td><em>sample</em><br />
<em>2014&#8209;01&#8209;01</em></td>
<td><em>&lt;any&gt;</em></td>
</tr>
<tr>
<td><em>T</em></td>
<td><em>Produces a string that is a valid BigQuery constant with a
similar type to the value's type (maybe wider, or maybe string).</em> <em>See <a href="#t_and_t_behavior">%T section below</a>.</em></td>
<td><em>'sample'</em><br />
<em>b'bytes&nbsp;sample'</em><br />
<em>1234</em><br />
<em>2.3</em><br />
<em>date&nbsp;'2014&#8209;01&#8209;01'</em></td>
<td><em>&lt;any&gt;</em></td>
</tr>
<tr>
<td>%</td>
<td>'%%' produces a single '%'</td>
<td>%</td>
<td>n/a</td>
</tr>
</table>

<p><i><a id="oxX"></a><sup>*</sup>The specifiers o, x, and X raise an error if
negative values are used.</i></p>

<p>The format specifier can optionally contain the sub-specifiers identified above
in the specifier prototype.</p>

<p>These sub-specifiers must comply with the following specifications.</p>

<h5 id="flags">Flags</h5>

<table>
<tr>
<td>Flags</td>
<td>Description</td>
</tr>
<tr>
<td>-</td>
<td>Left-justify within the given field width; Right justification is the
default (see width sub-specifier)</td>
</tr>
<tr>
<td>+</td>
<td>Forces to precede the result with a plus or minus sign (+ or -) even for
positive numbers. By default, only negative numbers are preceded with a -
sign</td>
</tr>
<tr>
<td>&lt;space&gt;</td>
<td>If no sign is going to be written, a blank space is inserted before the
value</td>
</tr>
<tr>
<td>#</td>
<td>Used with o, x or X specifiers. Precedes the value with 0, 0x or 0X
respectively for values different than zero</td>
</tr>
<tr>
<td>0</td>
<td>Left-pads the number with zeroes (0) instead of spaces when padding is
specified (see width sub-specifier)</td>
</tr>
<tr>
<td>'</td>
<td><p>Formats integers using the appropriating grouping character.
  For example:</p>
<ul>
<li><code>FORMAT("%'d", 12345678)</code> returns <code>12,345,678</code></li>
<li><code>FORMAT("%'x", 12345678)</code> returns <code>bc:614e</code></li>
<li><code>FORMAT("%'o", 55555)</code> returns <code>15,4403</code></li>
<p>This flag is only relevant for decimal, hex, and octal values.</p>
</ul></td></tr>
</table>

<p>Flags may be specified in any order.  Duplicate flags are not an error.  When
flags are not relevant for some element type, they are ignored.</p>

<h5 id="width">Width</h5>

<table>
<tr>
<td>Width</td>
<td>Description</td>
</tr>
<tr>
<td>&lt;number&gt;</td>
<td>Minimum number of characters to be printed. If the value to be printed
is shorter than this number, the result is padded with blank spaces. The value
is not truncated even if the result is larger</td>
</tr>
<tr>
<td>*</td>
<td>The width is not specified in the format string, but as an additional
integer value argument preceding the argument that has to be formatted</td>
</tr> </table>

<h5 id="precision">Precision</h5>

<table>
<tr>
<td>Precision</td>
<td>Description</td>
</tr>
<tr>
<td>.&lt;number&gt;</td>
<td>For integer specifiers (d, i, o, u, x, X): precision specifies the
minimum number of digits to be written. If the value to be written is shorter
than this number, the result is padded with trailing zeros. The value is not
truncated even if the result is longer. A precision of 0 means that no character
is written for the value 0.  For a, A, e, E, f and F specifiers: this is the
number of digits to be printed after the decimal point (by default, this is
6)</td>
</tr>
<tr>
<td>.*</td>
<td>The precision is not specified in the format string, but as an
additional integer value argument preceding the argument that has to be
formatted</td>
</tr>
</table>

<p><a name="t_and_t_behavior"></a></p>

<h4 id="t-and-t-behavior">%t and %T behavior</h4>

<p>The <code>%t</code> and <code>%T</code> format specifiers are defined for all types.  The width,
precision, and flags act as they do for <code>%s</code>: the <code>width</code> is the minimum width
and the STRING will be padded to that size, and <code>precision</code> is the maximum width
of content to show and the STRING will be truncated to that size, prior to
padding to width.</p>

<p>%t is always meant to be a readable form of the value.</p>

<p>%T is always a valid SQL literal of a similar type, such as a wider numeric
type.
The literal will not include casts or a type name, except for the special case
of non-finite floating point values.</p>

<p>The STRING is formatted as follows:</p>

<table>
<tr>
<td><strong>Type</strong></td>
<td><strong>%t</strong></td>
<td><strong>%T</strong></td>
</tr>
<tr>
<td><code>NULL</code> of any type</td>
<td><code>NULL</code></td>
<td><code>NULL</code></td>
</tr>
<tr>
<td><span> INT64<span><br /></span></span></td>
<td>123</td>
<td>123</td>
</tr>
<tr>
<td>FLOAT64</td>
<td>123.0  <em>(always with .0)</em><br />
        123e+10<br /><code>inf</code><br /><code>-inf</code><br /><code>NaN</code></td>
<td>123.0  <em>(always with .0)</em><br />
        123e+10<br />
        CAST("inf" AS &lt;type&gt;)<br />
        CAST("-inf" AS &lt;type&gt;)<br />
        CAST("nan" AS &lt;type&gt;)</td>
</tr>
<tr>
<td>STRING</td>
<td>unquoted string value</td>
<td>quoted string literal</td>
</tr>
<tr>
<td>BYTES</td>
<td>unquoted escaped bytes<br />
    e.g. abc\x01\x02</td>
<td>quoted bytes literal<br />
    e.g. b"abc\x01\x02"</td>
</tr>
<tr>
<td>DATE</td>
<td>2011-02-03</td>
<td>DATE "2011-02-03"</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>2011-02-03 04:05:06+00</td>
<td>TIMESTAMP "2011-02-03 04:05:06+00"</td>
</tr>
<tr>
<td>ARRAY</td>
<td>[value, value, ...]<br />
    where values are formatted with %t</td>
<td>[value, value, ...]<br />
    where values are formatted with %T</td>
</tr>
<tr>
<td>STRUCT</td>
<td>(value, value, ...)<br />
    where fields are formatted with %t</td>
<td>(value, value, ...)<br />
    where fields are formatted with %T<br />
<br />
    Special cases:<br />
    Zero fields: STRUCT()<br />
    One field: STRUCT(value)</td>
</tr>
</table>

<h4 id="error-conditions">Error conditions</h4>

<p>If a format specifier is invalid, or is not compatible with the related
argument type, or the wrong number or arguments are provided, then an error is
produced.  For example, the following <code>FORMAT_STRING</code> expressions are invalid:</p>

<pre class="codehilite"><code class="language-sql">FORMAT('%s', 1)</code></pre>

<pre class="codehilite"><code class="language-sql">FORMAT('%')</code></pre>

<h4 id="wzxhzdk452nullwzxhzdk453-argument-handling"><code>NULL</code> argument handling</h4>

<p>A <code>NULL</code> format string results in a <code>NULL</code> output STRING.  Any other arguments are
ignored in this case.</p>

<p>The function generally produces a <code>NULL</code> value if a <code>NULL</code> argument is present. For
example, <code>FORMAT('%i', &lt;NULL expression&gt;)</code> produces a <code>NULL</code>
STRING as output.</p>

<p>However, there are some exceptions: if the format specifier is %t or %T (both of
which produce STRINGs that effectively match CAST and
literal value semantics), a <code>NULL</code> value produces 'NULL' (without the quotes) in
the result STRING. For example, the function:</p>

<pre class="codehilite"><code class="language-sql">FORMAT('00-%t-00', &lt;NULL expression&gt;)</code></pre>

<p>Returns</p>

<pre class="codehilite"><code class="language-sql">00-NULL-00</code></pre>

<h4 id="additional-semantic-rules">Additional semantic rules</h4>

<p>FLOAT64  values can be <code>+/-inf</code> or <code>NaN</code>.  When an argument has one of
those values, the result of the format specifiers <code>%f</code>, <code>%F</code>, <code>%e</code>, <code>%E</code>, <code>%g</code>,
<code>%G</code>, and <code>%t</code> are <code>inf</code>, <code>-inf</code>, or <code>nan</code> (or the same in uppercase) as
appropriate.  This is consistent with how BigQuery casts these values
to STRING.  For <code>%T</code>, BigQuery returns quoted strings for
FLOAT64 values that don't have non-string literal
representations.</p>

<h2 id="json-functions">JSON functions</h2>

<p>BigQuery supports functions that help you retrieve data stored in
JSON-formatted strings. These functions are:</p>

<ul>
<li><code>JSON_EXTRACT(json_string_expr, json_path_string_literal)</code>, which returns JSON
  values as STRINGs.</li>
<li><code>JSON_EXTRACT_SCALAR(json_string_expr, json_path_string_literal)</code>, which
  returns scalar JSON values as STRINGs.</li>
</ul>

<p>The <code>json_string_expr</code> parameter must be a JSON-formatted string. For example:</p>

<pre class="codehilite"><code>{&quot;class&quot; : {&quot;students&quot; : [{&quot;name&quot; : &quot;Jane&quot;}]}}</code></pre>

<p>The <code>json_path_string_literal</code> parameter identifies the value or values you want
to obtain from the JSON-formatted string. You construct this parameter using the
<a href="https://code.google.com/p/jsonpath">JSONPath</a> format. As part of this format,
this parameter must start with a <code>$</code> symbol, which refers to the outermost level
of the JSON-formatted string. You can identify child values using dot or
bracket notation. If the JSON object is an array, you can use brackets to
specify the array index.</p>

<table>
<thead>
<tr>
<th>JSONPath</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>$</td>
<td>Root object or element</td>
</tr>
<tr>
<td>. or []</td>
<td>Child operator</td>
</tr>
<tr>
<td>[]</td>
<td>Subscript operator</td>
</tr>
</tbody>
</table>

<p>Both functions return <code>NULL</code> if the <code>json_path_string_literal</code> parameter does
not match a value in <code>json_string_expr</code>. If the selected value for
<code>JSON_EXTRACT_SCALAR</code> is not scalar, such as an object or an array, the function
returns <code>NULL</code>.</p>

<p>If the JSONPath is invalid, these functions raise an error.</p>

<p>In cases where a JSON key uses invalid JSONPath characters, you can escape those
characters using single quotes and brackets, <code>[' ']</code>. For example:</p>

<pre class="codehilite"><code>SELECT JSON_EXTRACT_SCALAR('{&quot;a.b&quot;: {&quot;c&quot;: &quot;world&quot;}}', &quot;$['a.b'].c&quot;) as hello;

+-------+
| hello |
+-------+
| world |
+-------+</code></pre>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>SELECT JSON_EXTRACT(json_text, '$') AS json_text_string
FROM UNNEST([
  '{&quot;class&quot; : {&quot;students&quot; : [{&quot;name&quot; : &quot;Jane&quot;}]}}',
  '{&quot;class&quot; : {&quot;students&quot; : []}}',
  '{&quot;class&quot; : {&quot;students&quot; : [{&quot;name&quot; : &quot;John&quot;}, {&quot;name&quot;: &quot;Jamie&quot;}]}}'
  ]) AS json_text;

+-----------------------------------------------------------+
| json_text_string                                          |
+-----------------------------------------------------------+
| {&quot;class&quot;:{&quot;students&quot;:[{&quot;name&quot;:&quot;Jane&quot;}]}}                  |
| {&quot;class&quot;:{&quot;students&quot;:[]}}                                 |
| {&quot;class&quot;:{&quot;students&quot;:[{&quot;name&quot;:&quot;John&quot;},{&quot;name&quot;:&quot;Jamie&quot;}]}} |
+-----------------------------------------------------------+

SELECT JSON_EXTRACT(json_text, '$.class.students[0]') AS first_student
FROM UNNEST([
  '{&quot;class&quot; : {&quot;students&quot; : [{&quot;name&quot; : &quot;Jane&quot;}]}}',
  '{&quot;class&quot; : {&quot;students&quot; : []}}',
  '{&quot;class&quot; : {&quot;students&quot; : [{&quot;name&quot; : &quot;John&quot;}, {&quot;name&quot;: &quot;Jamie&quot;}]}}'
  ]) AS json_text;

+-----------------+
| first_student   |
+-----------------+
| {&quot;name&quot;:&quot;Jane&quot;} |
| NULL            |
| {&quot;name&quot;:&quot;John&quot;} |
+-----------------+

SELECT JSON_EXTRACT(json_text, '$.class.students[1].name') AS second_student_name
FROM UNNEST([
  '{&quot;class&quot; : {&quot;students&quot; : [{&quot;name&quot; : &quot;Jane&quot;}]}}',
  '{&quot;class&quot; : {&quot;students&quot; : []}}',
  '{&quot;class&quot; : {&quot;students&quot; : [{&quot;name&quot; : &quot;John&quot;}, {&quot;name&quot;: &quot;Jamie&quot;}]}}'
  ]) AS json_text;

+-------------------+
| second_student    |
+-------------------+
| NULL              |
| NULL              |
| {&quot;first&quot;:&quot;Jamie&quot;} |
+-------------------+

SELECT JSON_EXTRACT(json_text, &quot;$.class['students']&quot;) AS student_names
FROM UNNEST([
  '{&quot;class&quot; : {&quot;students&quot; : [{&quot;name&quot; : &quot;Jane&quot;}]}}',
  '{&quot;class&quot; : {&quot;students&quot; : []}}',
  '{&quot;class&quot; : {&quot;students&quot; : [{&quot;name&quot; : &quot;John&quot;}, {&quot;name&quot;: &quot;Jamie&quot;}]}}'
  ]) AS json_text;

+------------------------------------+
| student_names                      |
+------------------------------------+
| [{&quot;name&quot;:&quot;Jane&quot;}]                  |
| []                                 |
| [{&quot;name&quot;:&quot;John&quot;},{&quot;name&quot;:&quot;Jamie&quot;}] |
+------------------------------------+

SELECT JSON_EXTRACT('{ &quot;name&quot; : &quot;Jakob&quot;, &quot;age&quot; : &quot;6&quot; }', '$.name') as json_name,
  JSON_EXTRACT_SCALAR('{ &quot;name&quot; : &quot;Jakob&quot;, &quot;age&quot; : &quot;6&quot; }', '$.name') as scalar_name,
  JSON_EXTRACT('{ &quot;name&quot; : &quot;Jakob&quot;, &quot;age&quot; : &quot;6&quot; }', '$.age') as json_age,
  JSON_EXTRACT_SCALAR('{ &quot;name&quot; : &quot;Jakob&quot;, &quot;age&quot; : &quot;6&quot; }', '$.age') as scalar;

+-----------+-------------+----------+--------+
| json_name | scalar_name | json_age | scalar |
+-----------+-------------+----------+--------+
| &quot;Jakob&quot;   | Jakob       | &quot;6&quot;      | 6      |
+-----------+-------------+----------+--------+</code></pre>

<p><a name="array_functions"></a></p>

<h2 id="array-functions">Array functions</h2>

<h3 id="array_concat">ARRAY_CONCAT</h3>

<pre class="codehilite"><code>ARRAY_CONCAT(array_expression_1 [, array_expression_n])</code></pre>

<p><strong>Description</strong></p>

<p>Concatenates one or more arrays into a single array.</p>

<p><strong>Return type</strong></p>

<p>ARRAY</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>SELECT ARRAY_CONCAT([1, 2], [3, 4], [5, 6]) as count_to_six;

+--------------------------------------------------+
| count_to_six                                     |
+--------------------------------------------------+
| [1, 2, 3, 4, 5, 6]                               |
+--------------------------------------------------+</code></pre>

<h3 id="array_length">ARRAY_LENGTH</h3>

<pre class="codehilite"><code>ARRAY_LENGTH(array_expression)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the size of the array. Returns 0 for an empty array. Returns <code>NULL</code> if
the <code>array_expression</code> is <code>NULL</code>.</p>

<p><strong>Return type</strong></p>

<p>INT64</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>WITH items AS
  (SELECT [&quot;apples&quot;, &quot;bananas&quot;, NULL, &quot;grapes&quot;] as list
  UNION ALL
  SELECT [&quot;coffee&quot;, &quot;tea&quot;, &quot;milk&quot; ] as list
  UNION ALL
  SELECT [&quot;cake&quot;, &quot;pie&quot;] as list)

SELECT list, ARRAY_LENGTH(list) AS size
FROM items
ORDER BY size DESC;

+---------------------------------+------+
| list                            | size |
+---------------------------------+------+
| [apples, bananas, NULL, grapes] | 4    |
| [coffee, tea, milk]             | 3    |
| [cake, pie]                     | 2    |
+---------------------------------+------+</code></pre>

<h3 id="array_to_string">ARRAY_TO_STRING</h3>

<pre class="codehilite"><code>ARRAY_TO_STRING(array_expression, delimiter[, null_text])</code></pre>

<p><strong>Description</strong></p>

<p>Returns a concatenation of the elements in <code>array_expression</code>
as a STRING. The value for <code>array_expression</code>
can either be an array of STRING or
BYTES data types.</p>

<p>If the <code>null_text</code> parameter is used, the function replaces any <code>NULL</code> values in
the array with the value of <code>null_text</code>.</p>

<p>If the <code>null_text</code> parameter is not used, the function omits the <code>NULL</code> value
and its preceding delimiter.</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>WITH items AS
  (SELECT [&quot;apples&quot;, &quot;bananas&quot;, &quot;pears&quot;, &quot;grapes&quot;] as list
  UNION ALL
  SELECT [&quot;coffee&quot;, &quot;tea&quot;, &quot;milk&quot; ] as list
  UNION ALL
  SELECT [&quot;cake&quot;, &quot;pie&quot;, NULL] as list)

SELECT ARRAY_TO_STRING(list, '--') AS text
FROM items;

+--------------------------------+
| text                           |
+--------------------------------+
| apples--bananas--pears--grapes |
| coffee--tea--milk              |
| cake--pie                      |
+--------------------------------+

WITH items AS
  (SELECT [&quot;apples&quot;, &quot;bananas&quot;, &quot;pears&quot;, &quot;grapes&quot;] as list
  UNION ALL
  SELECT [&quot;coffee&quot;, &quot;tea&quot;, &quot;milk&quot; ] as list
  UNION ALL
  SELECT [&quot;cake&quot;, &quot;pie&quot;, NULL] as list)

SELECT ARRAY_TO_STRING(list, '--', 'MISSING') AS text
FROM items;

+--------------------------------+
| text                           |
+--------------------------------+
| apples--bananas--pears--grapes |
| coffee--tea--milk               |
| cake--pie--MISSING             |
+--------------------------------+</code></pre>

<h3 id="generate_array">GENERATE_ARRAY</h3>

<pre class="codehilite"><code>GENERATE_ARRAY(start_expression, end_expression[, step_expression])</code></pre>

<p><strong>Description</strong></p>

<p>Returns an array of values. The <code>start_expression</code> and <code>end_expression</code>
parameters determine the inclusive start and end of the array.</p>

<p>The <code>GENERATE_ARRAY</code> function accepts the following data types as inputs:</p>

<ul>
<li>FLOAT64</li><li>INT64</li>
</ul>

<p>The <code>step_expression</code> parameter determines the increment used to
generate array values. The default value for this parameter is <code>1</code>.</p>

<p>This function returns an error if <code>step_expression</code> is set to 0, or if any
input is <code>NaN</code>.</p>

<p><strong>Return Data Type</strong></p>

<p>ARRAY</p>

<p><strong>Examples</strong></p>

<p>The following returns an array of integers, with a default step of 1.</p>

<pre class="codehilite"><code>SELECT GENERATE_ARRAY(1, 5) AS example_array;

+-----------------+
| example_array   |
+-----------------+
| [1, 2, 3, 4, 5] |
+-----------------+</code></pre>

<p>The following returns an array using a user-specified step size.</p>

<pre class="codehilite"><code>SELECT GENERATE_ARRAY(0, 10, 3) AS example_array;

+---------------+
| example_array |
+---------------+
| [0, 3, 6, 9]  |
+---------------+</code></pre>

<p>The following returns an array using a negative value, <code>-3</code> for its step size.</p>

<pre class="codehilite"><code>SELECT GENERATE_ARRAY(10, 0, -3) AS example_array;

+---------------+
| example_array |
+---------------+
| [10, 7, 4, 1] |
+---------------+</code></pre>

<p>The following returns an array using the same value for the <code>start_expression</code>
and <code>end_expression</code>.</p>

<pre class="codehilite"><code>SELECT GENERATE_ARRAY(4, 4, 10) AS example_array;

+---------------+
| example_array |
+---------------+
| [4]           |
+---------------+</code></pre>

<p>The following returns an empty array, because the <code>start_expression</code> is greater
than the <code>end_expression</code>, and the <code>step_expression</code> value is positive.</p>

<pre class="codehilite"><code>SELECT GENERATE_ARRAY(10, 0, 3) AS example_array;

+---------------+
| example_array |
+---------------+
| []            |
+---------------+</code></pre>

<p>The following returns a <code>NULL</code> array, because one of its inputs is
<code>NULL</code>.</p>

<pre class="codehilite"><code>SELECT GENERATE_ARRAY(5, NULL, 1) AS example_array;

+---------------+
| example_array |
+---------------+
| NULL          |
+---------------+</code></pre>

<p>The following returns multiple arrays.</p>

<pre class="codehilite"><code>SELECT GENERATE_ARRAY(start, 5) AS example_array
FROM UNNEST([3, 4, 5]) AS start;

+---------------+
| example_array |
+---------------+
| [3, 4, 5]     |
| [4, 5]        |
| [5]           |
+---------------+</code></pre>

<h3 id="generate_date_array">GENERATE_DATE_ARRAY</h3>

<pre class="codehilite"><code>GENERATE_DATE_ARRAY(start_date, end_date[, INTERVAL INT64_expr date_part])</code></pre>

<p><strong>Description</strong></p>

<p>Returns an array of dates. The <code>start_date</code> and <code>end_date</code>
parameters determine the inclusive start and end of the array.</p>

<p>The <code>GENERATE_DATE_ARRAY</code> function accepts the following data types as inputs:</p>

<ul>
<li><code>start_date</code> must be a DATE</li>
<li><code>end_date</code> must be a DATE</li>
<li><code>INT64_expr</code> must be an INT64</li>
<li><code>date_part</code> must be either DAY, WEEK, MONTH, QUARTER, or YEAR.</li>
</ul>

<p>The <code>INT64_expr</code> parameter determines the increment used to generate dates. The
default value for this parameter is 1 day.</p>

<p>This function returns an error if <code>INT64_expr</code> is set to 0.</p>

<p><strong>Return Data Type</strong></p>

<p>An ARRAY containing 0 or more DATE values.</p>

<p><strong>Examples</strong></p>

<p>The following returns an array of dates, with a default step of 1.</p>

<pre class="codehilite"><code>SELECT GENERATE_DATE_ARRAY('2016-10-05', '2016-10-08') AS example;

+--------------------------------------------------+
| example                                          |
+--------------------------------------------------+
| [2016-10-05, 2016-10-06, 2016-10-07, 2016-10-08] |
+--------------------------------------------------+</code></pre>

<p>The following returns an array using a user-specified step size.</p>

<pre class="codehilite"><code>SELECT GENERATE_DATE_ARRAY(
 '2016-10-05', '2016-10-09, INTERVAL 2 DAY) AS example;

+--------------------------------------+
| example                              |
+--------------------------------------+
| [2016-10-05, 2016-10-07, 2016-10-09] |
+--------------------------------------+</code></pre>

<p>The following returns an array using a negative value, <code>-3</code> for its step size.</p>

<pre class="codehilite"><code>SELECT GENERATE_DATE_ARRAY('2016-10-05',
  '2016-10-01', INTERVAL -3 DAY) AS example;

+--------------------------+
| example                  |
+--------------------------+
| [2016-10-05, 2016-10-02] |
+--------------------------+</code></pre>

<p>The following returns an array using the same value for the <code>start_date</code>and
<code>end_date</code>.</p>

<pre class="codehilite"><code>SELECT GENERATE_DATE_ARRAY('2016-10-05',
  '2016-10-05', INTERVAL 8 DAY) AS example;

+--------------+
| example      |
+--------------+
| [2016-10-05] |
+--------------+</code></pre>

<p>The following returns an empty array, because the <code>start_date</code> is greater
than the <code>end_date</code>, and the <code>step</code> value is positive.</p>

<pre class="codehilite"><code>SELECT GENERATE_DATE_ARRAY('2016-10-05',
  '2016-10-01', INTERVAL 1 DAY) AS example;

+---------+
| example |
+---------+
| []      |
+---------+</code></pre>

<p>The following returns a <code>NULL</code> array, because one of its inputs is
<code>NULL</code>.</p>

<pre class="codehilite"><code>SELECT GENERATE_DATE_ARRAY('2016-10-05', NULL) AS example;

+---------+
| example |
+---------+
| NULL    |
+---------+</code></pre>

<p>The following returns an array of dates, using MONTH as the <code>date_part</code>
interval:</p>

<pre class="codehilite"><code>SELECT GENERATE_DATE_ARRAY('2016-01-01',
  '2016-12-31', INTERVAL 2 MONTH) AS example;

+--------------------------------------------------------------------------+
| example                                                                  |
+--------------------------------------------------------------------------+
| [2016-01-01, 2016-03-01, 2016-05-01, 2016-07-01, 2016-09-01, 2016-11-01] |
+--------------------------------------------------------------------------+</code></pre>

<p>The following uses non-constant dates to generate an array.</p>

<pre class="codehilite"><code>WITH StartsAndEnds AS (
  SELECT DATE '2016-01-01' AS date_start, DATE '2016-01-31' AS date_end
  UNION ALL SELECT DATE &quot;2016-04-01&quot;, DATE &quot;2016-04-30&quot;
  UNION ALL SELECT DATE &quot;2016-07-01&quot;, DATE &quot;2016-07-31&quot;
  UNION ALL SELECT DATE &quot;2016-10-01&quot;, DATE &quot;2016-10-31&quot;
)
SELECT GENERATE_DATE_ARRAY(date_start, date_end, INTERVAL 1 WEEK) AS date_range
FROM StartsAndEnds;

+--------------------------------------------------------------+
| date_range                                                   |
+--------------------------------------------------------------+
| [2016-01-01, 2016-01-08, 2016-01-15, 2016-01-22, 2016-01-29] |
| [2016-04-01, 2016-04-08, 2016-04-15, 2016-04-22, 2016-04-29] |
| [2016-07-01, 2016-07-08, 2016-07-15, 2016-07-22, 2016-07-29] |
| [2016-10-01, 2016-10-08, 2016-10-15, 2016-10-22, 2016-10-29] |
+--------------------------------------------------------------+</code></pre>

<h3 id="offset-and-ordinal">OFFSET and ORDINAL</h3>

<pre class="codehilite"><code>array_expression[OFFSET(zero_based_offset)]
array_expression[ORDINAL(one_based_offset)]</code></pre>

<p><strong>Description</strong></p>

<p>Accesses an ARRAY element by position and returns the
element. <code>OFFSET</code> means that the numbering starts at zero, <code>ORDINAL</code> means that
the numbering starts at one.</p>

<p>A given array can be interpreted as either 0-based or 1-based. When accessing an
array element, you must preface the array position with <code>OFFSET</code> or <code>ORDINAL</code>,
respectively; there is no default behavior.</p>

<p>Both <code>OFFSET</code> and <code>ORDINAL</code> generate an error if the index is out of range.</p>

<p><strong>Return type</strong></p>

<p>Varies depending on the elements in the ARRAY.</p>

<p><strong>Examples</strong></p>

<pre class="codehilite"><code>WITH items AS
  (SELECT [&quot;apples&quot;, &quot;bananas&quot;, &quot;pears&quot;, &quot;grapes&quot;] as list
  UNION ALL
  SELECT [&quot;coffee&quot;, &quot;tea&quot;, &quot;milk&quot; ] as list
  UNION ALL
  SELECT [&quot;cake&quot;, &quot;pie&quot;] as list)

SELECT list, list[OFFSET(1)] as offset_1, list[ORDINAL(1)] as ordinal_1
FROM items;

+----------------------------------+-----------+-----------+
| list                             | offset_1  | ordinal_1 |
+----------------------------------+-----------+-----------+
| [apples, bananas, pears, grapes] | bananas   | apples    |
| [coffee, tea, milk]              | tea       | coffee    |
| [cake, pie]                      | pie       | cake      |
+----------------------------------+-----------+-----------+</code></pre>

<h3 id="safe_offset-and-safe_ordinal">SAFE_OFFSET and SAFE_ORDINAL</h3>

<pre class="codehilite"><code>array_expression[SAFE_OFFSET(zero_based_offset)]
array_expression[SAFE_ORDINAL(one_based_offset)]</code></pre>

<p><strong>Description</strong></p>

<p>Identical to <code>OFFSET</code> and <code>ORDINAL</code>, except returns <code>NULL</code> if the index is out
of range.</p>

<p><strong>Return type</strong></p>

<p>Varies depending on the elements in the ARRAY.</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>WITH items AS
  (SELECT [&quot;apples&quot;, &quot;bananas&quot;, &quot;pears&quot;, &quot;grapes&quot;] as list
  UNION ALL
  SELECT [&quot;coffee&quot;, &quot;tea&quot;, &quot;milk&quot; ] as list
  UNION ALL
  SELECT [&quot;cake&quot;, &quot;pie&quot;] as list)

SELECT list,
  list[SAFE_OFFSET(3)] as safe_offset_3,
  list[SAFE_ORDINAL(3)] as safe_ordinal_3
FROM items;

+----------------------------------+---------------+----------------+
| list                             | safe_offset_3 | safe_ordinal_3 |
+----------------------------------+---------------+----------------+
| [apples, bananas, pears, grapes] | grapes        | pears          |
| [coffee, tea, milk]              | NULL          | milk           |
| [cake, pie]                      | NULL          | NULL           |
+----------------------------------+---------------+----------------+</code></pre>

<h2 id="date-functions">DATE functions</h2>

<p>BigQuery supports the following <code>DATE</code> functions.</p>

<h3 id="current_date">CURRENT_DATE</h3>

<pre class="codehilite"><code>CURRENT_DATE([time_zone])</code></pre>

<p><strong>Description</strong></p>

<p>Returns the current date as of the specified or default timezone.</p>

<p>This function supports an optional <code>time_zone</code> parameter. This parameter is a
string representing the timezone to use. If no timezone is specified, the
default timezone, UTC, is used. See
<a href="#timezone-definitions">Timezone definitions</a> for information on how to
specify a time zone.</p>

<p>If the <code>time_zone</code> parameter evaluates to <code>NULL</code>, this function returns <code>NULL</code>.</p>

<p><strong>Return Data Type</strong></p>

<p>DATE</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT CURRENT_DATE() as the_date;

+--------------+
| the_date     |
+--------------+
| 2016-12-25   |
+--------------+</code></pre>

<h3 id="extract">EXTRACT</h3>

<pre class="codehilite"><code>EXTRACT(part FROM date_expression)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the value corresponding to the specified date part. The <code>part</code> must
be one of:</p>

<ul>
<li><code>DAYOFWEEK</code> (Returns 1-7, where 1=Sunday ... 7=Saturday)</li>
<li><code>DAY</code></li>
<li><code>DAYOFYEAR</code></li>
<li><code>MONTH</code></li>
<li><code>QUARTER</code> (Returns 1-4)</li>
<li><code>YEAR</code></li>
</ul>

<p><strong>Return Data Type</strong></p>

<p>INT64</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT EXTRACT(DAY FROM DATE '2013-12-25') as the_day;

+---------+
| the_day |
+---------+
| 25      |
+---------+</code></pre>

<h3 id="date-year-month-day">DATE (year, month, day)</h3>

<pre class="codehilite"><code>DATE(year, month, day)</code></pre>

<p><strong>Description</strong></p>

<p>Constructs a DATE from INT64 values representing the year, month, and day.</p>

<p><strong>Return Data Type</strong></p>

<p>DATE</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT DATE(2016, 12, 25) as date;

+------------+
| date       |
+------------+
| 2016-12-25 |
+------------+</code></pre>

<h3 id="date-timestamp">DATE (timestamp)</h3>

<pre class="codehilite"><code>DATE(timestamp_expression[, timezone])</code></pre>

<p><strong>Description</strong></p>

<p>Converts a <code>timestamp_expression</code> to a DATE data type. Supports an optional
parameter to specify a timezone. See
<a href="#timezone-definitions">Timezone definitions</a> for information on how to specify
a time zone.</p>

<p><strong>Return Data Type</strong></p>

<p>DATE</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT DATE(TIMESTAMP &quot;2008-12-25 15:30:00+07&quot;, &quot;America/Los_Angeles&quot;) as date;

+------------+
| date       |
+------------+
| 2008-12-25 |
+------------+</code></pre>

<h3 id="date_add">DATE_ADD</h3>

<pre class="codehilite"><code>DATE_ADD(date_expression, INTERVAL INT64_expr date_part)</code></pre>

<p><strong>Description</strong></p>

<p>Adds a specified time interval to a DATE.</p>

<p><code>DATE_ADD</code> supports the following <code>date_part</code> values:</p>

<ul>
<li><code>DAY</code></li>
<li><code>WEEK</code>. Equivalent to 7 <code>DAY</code>s.</li>
<li><code>MONTH</code></li>
<li><code>QUARTER</code></li>
<li><code>YEAR</code></li>
</ul>

<p>Special handling is required for MONTH, QUARTER, and YEAR parts when the
date is at (or near) the last day of the month. If the resulting month has fewer
days than the original date's day, then the result day is the last day of the
new month.</p>

<p><strong>Return Data Type</strong></p>

<p>DATE</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT DATE_ADD(DATE &quot;2008-12-25&quot;, INTERVAL 5 DAY) as five_days_later;

+--------------------+
| five_days_later    |
+--------------------+
| 2008-12-30         |
+--------------------+</code></pre>

<h3 id="date_sub">DATE_SUB</h3>

<pre class="codehilite"><code>DATE_SUB(date_expression, INTERVAL INT64_expr date_part)</code></pre>

<p><strong>Description</strong></p>

<p>Subtracts a specified time interval from a DATE.</p>

<p><code>DATE_SUB</code> supports the following <code>date_part</code> values:</p>

<ul>
<li><code>DAY</code></li>
<li><code>WEEK</code>. Equivalent to 7 <code>DAY</code>s.</li>
<li><code>MONTH</code></li>
<li><code>QUARTER</code></li>
<li><code>YEAR</code></li>
</ul>

<p>Special handling is required for MONTH, QUARTER, and YEAR parts when the
date is at (or near) the last day of the month. If the resulting month has fewer
days than the original date's day, then the result day is the last day of the
new month.</p>

<p><strong>Return Data Type</strong></p>

<p>DATE</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT DATE_SUB(DATE &quot;2008-12-25&quot;, INTERVAL 5 DAY) as five_days_ago;

+---------------+
| five_days_ago |
+---------------+
| 2008-12-20    |
+---------------+</code></pre>

<h3 id="date_diff">DATE_DIFF</h3>

<pre class="codehilite"><code>DATE_DIFF(date_expression, date_expression, date_part)</code></pre>

<p><strong>Description</strong></p>

<p>Computes the number of specified <code>date_part</code> differences between two date
expressions. This can be thought of as the number of <code>date_part</code> boundaries
crossed between the two dates. If the first date occurs before the second date,
then the result is negative.</p>

<p><code>DATE_DIFF</code> supports the following <code>date_part</code> values:</p>

<ul>
<li><code>DAY</code></li>
<li><code>MONTH</code></li>
<li><code>QUARTER</code></li>
<li><code>YEAR</code></li>
</ul>

<p><strong>Return Data Type</strong></p>

<p>INT64</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT DATE_DIFF(DATE &quot;2010-07-07&quot;, DATE &quot;2008-12-25&quot;, DAY) as days_diff;

+-----------+
| days_diff |
+-----------+
| 559       |
+-----------+</code></pre>

<h3 id="date_trunc">DATE_TRUNC</h3>

<pre class="codehilite"><code>DATE_TRUNC(date_expression, date_part)</code></pre>

<p><strong>Description</strong></p>

<p>Truncates the date to the specified granularity.</p>

<p><code>DATE_TRUNC</code> supports the following values for <code>date_part</code>:</p>

<ul>
<li><code>DAY</code></li>
<li><code>WEEK</code></li>
<li><code>MONTH</code></li>
<li><code>QUARTER</code></li>
<li><code>YEAR</code></li>
</ul>

<p><strong>Return Data Type</strong></p>

<p>DATE</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT DATE_TRUNC(DATE '2008-12-25', MONTH) as month;

+------------+
| month      |
+------------+
| 2008-12-01 |
+------------+</code></pre>

<h3 id="date_from_unix_date">DATE_FROM_UNIX_DATE</h3>

<pre class="codehilite"><code>DATE_FROM_UNIX_DATE(INT64_expression)</code></pre>

<p><strong>Description</strong></p>

<p>Interprets <code>INT64_expression</code> as the number of days since 1970-01-01.</p>

<p><strong>Return Data Type</strong></p>

<p>DATE</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT DATE_FROM_UNIX_DATE(14238) as date_from_epoch;

+-----------------+
| date_from_epoch |
+-----------------+
| 2008-12-25      |
+-----------------+</code></pre>

<h3 id="format_date">FORMAT_DATE</h3>

<pre class="codehilite"><code>FORMAT_DATE(format_string, date_expr)</code></pre>

<p><strong>Description</strong></p>

<p>Formats the <code>date_expr</code> according to the specified <code>format_string</code>.</p>

<p>See <a href="#supported-format-elements-for-date">Supported Format Elements For DATE</a>
for a list of format elements that this function supports.</p>

<p><strong>Return Data Type</strong></p>

<p>STRING</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT FORMAT_DATE(&quot;%x&quot;, DATE &quot;2008-12-25&quot;) as US_format;

+------------+
| US_format  |
+------------+
| 12/25/08   |
+------------+</code></pre>

<h3 id="parse_date">PARSE_DATE</h3>

<pre class="codehilite"><code>PARSE_DATE(format_string, date_string)</code></pre>

<p><strong>Description</strong></p>

<p>Uses a <code>format_string</code> and a string representation of a date to return a DATE
object.</p>

<p>When using <code>PARSE_DATE</code>, keep the following in mind:</p>

<ul>
<li><em>Unspecified fields.</em> Any unspecified field is initialized from <code>1970-01-01</code>.</li>
<li><em>Case insensitive names.</em> Names, such as <code>Monday</code>, <code>February</code>, and so on, are
case insensitive.</li>
<li><em>Whitespace.</em> One or more consecutive white spaces in the format string
matches zero or more consecutive white spaces in the date string. In
addition, leading and trailing white spaces in the date string are always
allowed -- even if they are not in the format string.</li>
<li><em>Format precedence.</em> When two (or more) format elements have overlapping
information (for example both <code>%F</code> and <code>%Y</code> affect the year), the last one
generally overrides any earlier ones.</li>
</ul>

<p>See <a href="#supported-format-elements-for-date">Supported Format Elements For DATE</a>
for a list of format elements that this function supports.</p>

<p><strong>Return Data Type</strong></p>

<p>DATE</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT PARSE_DATE(&quot;%x&quot;, &quot;12/25/08&quot;) as parsed;

+------------+
| parsed     |
+------------+
| 2008-12-25 |
+------------+</code></pre>

<h3 id="unix_date">UNIX_DATE</h3>

<pre class="codehilite"><code>UNIX_DATE(date_expression)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the number of days since 1970-01-01.</p>

<p><strong>Return Data Type</strong></p>

<p>INT64</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT UNIX_DATE(DATE &quot;2008-12-25&quot;) as days_from_epoch;

+-----------------+
| days_from_epoch |
+-----------------+
| 14238           |
+-----------------+</code></pre>

<h3 id="supported-format-elements-for-date">Supported Format Elements for DATE</h3>

<p>Unless otherwise noted, DATE functions that use format strings support the
following elements:</p>

<table>
<tr>
<td class="tab0">Format element</td>
<td class="tab0">Description</td>
</tr>
<tr>
<td>%A</td>
<td>The full weekday name.</td>
</tr>
<tr>
<td>%a</td>
<td>The abbreviated weekday name.</td>
</tr>
<tr>
<td>%B</td>
<td>The full month name.</td>
</tr>
<tr>
<td>%b or %h</td>
<td>The abbreviated month name.</td>
</tr>
<tr>
<td>%C</td>
<td>The century (a year divided by 100 and truncated to an integer) as a
    decimal
number (00-99).</td>
</tr>
<tr>
<td>%D</td>
<td>The date in the format %m/%d/%y.</td>
</tr>
<tr>
<td>%d</td>
<td>The day of the month as a decimal number (01-31).</td>
</tr>
<tr>
<td>%e</td>
<td>The day of month as a decimal number (1-31); single digits are preceded
    by a
space.</td>
</tr>
<tr>
<td>%F</td>
<td>The date in the format %Y-%m-%d.</td>
</tr>
<tr>
<td>%G</td>
<td>The ISO 8601 year with century as a decimal number.</td>
</tr>
<tr>
<td>%g</td>
<td>The ISO 8601 year without century as a decimal number (00-99).</td>
</tr>
<tr>
<td>%j</td>
<td>The day of the year as a decimal number (001-366).</td>
</tr>
<tr>
<td>%m</td>
<td>The month as a decimal number (01-12).</td>
</tr>
<tr>
<td>%n</td>
<td>A newline character.</td>
</tr>
<tr>
<td>%t</td>
<td>A tab character.</td>
</tr>
<tr>
<td>%U</td>
<td>The week number of the year (Sunday as the first day of the week) as a
    decimal number (00-53).</td>
</tr>
<tr>
<td>%u</td>
<td>The weekday (Monday as the first day of the week) as a decimal number
    (1-7).</td>
</tr>
<tr>
<td>%V</td>
<td>The week number of the year (Monday as the first day of the week) as a
    decimal number (01-53).  If the week containing January 1 has four or more
    days in the new year, then it is week 1; otherwise it is week 53 of the
    previous year, and the next week is week 1.</td>
</tr>
<tr>
<td>%W</td>
<td>The week number of the year (Monday as the first day of the week) as a
    decimal number (00-53).</td>
</tr>
<tr>
<td>%w</td>
<td>The weekday (Sunday as the first day of the week) as a decimal number
    (0-6).</td>
</tr>
<tr>
<td>%x</td>
<td>The date representation in MM/DD/YY format.</td>
</tr>
<tr>
<td>%Y</td>
<td>The year with century as a decimal number.</td>
</tr>
<tr>
<td>%y</td>
<td>The year without century as a decimal number (00-99), with an optional
    leading zero. Can be mixed with %C. If %C is not specified, years 00-68 are
    2000s, while years 69-99 are 1900s.</td>
</tr>
<tr>
<td>%E4Y</td>
<td>Four-character years (0001 ... 9999). Note that %Y produces as many
    characters as it takes to fully render the year.</td>
</tr>
</table>

<h2 id="datetime-functions">DATETIME functions</h2>

<p>BigQuery supports the following DATETIME functions.</p>

<h3 id="current_datetime">CURRENT_DATETIME</h3>

<pre class="codehilite"><code>CURRENT_DATETIME([timezone])</code></pre>

<p><strong>Description</strong></p>

<p>Returns the current time as a DATETIME object.</p>

<p>This function supports an optional <code>timezone</code> parameter to specific a timezone.
See <a href="#timezone-definitions">Timezone definitions</a> for information on how to
specify a time zone.</p>

<p><strong>Return Data Type</strong></p>

<p>DATETIME</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT CURRENT_DATETIME() as now;

+----------------------------+
| now                        |
+----------------------------+
| 2016-05-19 10:38:47.046465 |
+----------------------------+</code></pre>

<h3 id="datetime-year-month-hour-minute-second">DATETIME (year, month, hour, minute, second)</h3>

<pre class="codehilite"><code>DATETIME(year, month, day, hour, minute, second)</code></pre>

<p><strong>Description</strong></p>

<p>Constructs a DATETIME object using INT64 values representing the year, month,
day, hour, minute, and second.</p>

<p><strong>Return Data Type</strong></p>

<p>DATETIME</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT DATETIME(2008, 12, 25, 15, 30, 00) as datetime;

+---------------------+
| datetime            |
+---------------------+
| 2008-12-25 15:30:00 |
+---------------------+</code></pre>

<h3 id="datetime-date-time">DATETIME (date, time)</h3>

<pre class="codehilite"><code>DATETIME(date_expression, time_expression)</code></pre>

<p><strong>Description</strong></p>

<p>Constructs a DATETIME object using a DATE object and a TIME object.</p>

<p><strong>Return Data Type</strong></p>

<p>DATETIME</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>DATETIME(DATE &quot;2008-12-25&quot;, TIME &quot;15:30:00&quot;) as datetime;

+---------------------+
| datetime            |
+---------------------+
| 2008-12-25 15:30:00 |
+---------------------+</code></pre>

<h3 id="datetime-timestamp-timezone">DATETIME (timestamp, timezone)</h3>

<pre class="codehilite"><code>DATETIME(timestamp_expression, timezone)</code></pre>

<p><strong>Description</strong></p>

<p>Constructs a DATETIME object using a TIMESTAMP object and a timezone.</p>

<p><strong>Return Data Type</strong></p>

<p>DATETIME</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT DATETIME(TIMESTAMP &quot;2008-12-25 15:30:00+00&quot;, &quot;America/Los_Angeles&quot;)
AS datetime;

+---------------------+
| datetime            |
+---------------------+
| 2008-12-25 07:30:00 |
+---------------------+</code></pre>

<h3 id="datetime_add">DATETIME_ADD</h3>

<pre class="codehilite"><code>DATETIME_ADD(datetime_expression, INTERVAL INT64_expr part)</code></pre>

<p><strong>Description</strong></p>

<p>Adds <code>INT64_expr</code> units of <code>part</code> to the DATETIME object.</p>

<p><code>DATETIME_ADD</code> supports the following values for <code>part</code>:</p>

<ul>
<li><code>MICROSECOND</code></li>
<li><code>MILLISECOND</code></li>
<li><code>SECOND</code></li>
<li><code>MINUTE</code></li>
<li><code>HOUR</code></li>
<li><code>DAY</code></li>
<li><code>WEEK</code>. Equivalent to 7 <code>DAY</code>s.</li>
<li><code>MONTH</code></li>
<li><code>QUARTER</code></li>
<li><code>YEAR</code></li>
</ul>

<p>Special handling is required for MONTH, QUARTER, and YEAR parts when the
date is at (or near) the last day of the month. If the resulting month has fewer
days than the original DATETIME's day, then the result day is the last day of
the new month.</p>

<p><strong>Return Data Type</strong></p>

<p>DATETIME</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT
  DATETIME &quot;2008-12-25 15:30:00&quot; as original_date,
  DATETIME_ADD(DATETIME &quot;2008-12-25 15:30:00&quot;, INTERVAL 10 MINUTE) as later;

+-----------------------------+------------------------+
| original_date               | later                  |
+-----------------------------+------------------------+
| 2008-12-25 15:30:00         | 2008-12-25 15:40:00    |
+-----------------------------+------------------------+</code></pre>

<h3 id="datetime_sub">DATETIME_SUB</h3>

<pre class="codehilite"><code>DATETIME_SUB(datetime_expression, INTERVAL INT64_expr part)</code></pre>

<p><strong>Description</strong></p>

<p>Subtracts <code>INT64_expr</code> units of <code>part</code> from the DATETIME.</p>

<p><code>DATETIME_SUB</code> supports the following values for <code>part</code>:</p>

<ul>
<li><code>MICROSECOND</code></li>
<li><code>MILLISECOND</code></li>
<li><code>SECOND</code></li>
<li><code>MINUTE</code></li>
<li><code>HOUR</code></li>
<li><code>DAY</code></li>
<li><code>WEEK</code>. Equivalent to 7 <code>DAY</code>s.</li>
<li><code>MONTH</code></li>
<li><code>QUARTER</code></li>
<li><code>YEAR</code></li>
</ul>

<p>Special handling is required for MONTH, QUARTER, and YEAR parts when the
date is at (or near) the last day of the month. If the resulting month has fewer
days than the original DATETIME's day, then the result day is the last day of
the new month.</p>

<p><strong>Return Data Type</strong></p>

<p>DATETIME</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT
  DATETIME &quot;2008-12-25 15:30:00 as original_date,
  DATETIME_SUB(DATETIME &quot;2008-12-25 15:30:00&quot;, INTERVAL 10 MINUTE) as earlier;

+-----------------------------+------------------------+
| original_date               | earlier                |
+-----------------------------+------------------------+
| 2008-12-25 15:30:00         | 2008-12-25 15:20:00    |
+-----------------------------+------------------------+</code></pre>

<h3 id="datetime_diff">DATETIME_DIFF</h3>

<pre class="codehilite"><code>DATETIME_DIFF(datetime_expression, datetime_expression, part)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the number of whole specified <code>part</code> intervals between two
DATETIME objects. Throws an error if the computation overflows the result type,
such as if the difference in microseconds between the two DATETIME objects would
overflow an INT64 value.</p>

<p><code>DATETIME_DIFF</code> supports the following values for <code>part</code>:</p>

<ul>
<li><code>MICROSECOND</code></li>
<li><code>MILLISECOND</code></li>
<li><code>SECOND</code></li>
<li><code>MINUTE</code></li>
<li><code>HOUR</code></li>
<li><code>DAY</code></li>
<li><code>MONTH</code></li>
<li><code>QUARTER</code></li>
<li><code>YEAR</code></li>
</ul>

<p><strong>Return Data Type</strong></p>

<p>INT64</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT
  DATETIME &quot;2010-07-07 10:20:00&quot; as first_datetime,
  DATETIME &quot;2008-12-25 15:30:00&quot; as second_datetime,
  DATETIME_DIFF(DATETIME &quot;2010-07-07 10:20:00&quot;,
    DATETIME &quot;2008-12-25 15:30:00&quot;, DAY) as difference;

+----------------------------+------------------------+------------------------+
| first_datetime             | second_datetime        | difference             |
+----------------------------+------------------------+------------------------+
| 2010-07-07 10:20:00        | 2008-12-25 15:30:00    | 559                    |
+----------------------------+------------------------+------------------------+</code></pre>

<h3 id="datetime_trunc">DATETIME_TRUNC</h3>

<pre class="codehilite"><code>DATETIME_TRUNC(datetime_expression, part)</code></pre>

<p><strong>Description</strong></p>

<p>Truncates a DATETIME object to the granularity of <code>part</code>.</p>

<p><code>DATETIME_TRUNC</code> supports the following values for <code>part</code>:</p>

<ul>
<li><code>MICROSECOND</code></li>
<li><code>MILLISECOND</code></li>
<li><code>SECOND</code></li>
<li><code>MINUTE</code></li>
<li><code>HOUR</code></li>
<li><code>DAY</code></li>
<li><code>WEEK</code></li>
<li><code>MONTH</code></li>
<li><code>QUARTER</code></li>
<li><code>YEAR</code></li>
</ul>

<p><strong>Return Data Type</strong></p>

<p>DATETIME</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT
  DATETIME &quot;2008-12-25 15:30:00&quot; as original,
  DATETIME_TRUNC(DATETIME &quot;2008-12-25 15:30:00&quot;, DAY) as truncated;

+----------------------------+------------------------+
| original                   | truncated              |
+----------------------------+------------------------+
| 2008-12-25 15:30:00        | 2008-12-25 00:00:00    |
+----------------------------+------------------------+</code></pre>

<h3 id="format_datetime">FORMAT_DATETIME</h3>

<pre class="codehilite"><code>FORMAT_DATETIME(format_string, datetime_expression)</code></pre>

<p><strong>Description</strong></p>

<p>Formats a DATETIME object according to the specified <code>format_string</code>. See
<a href="#supported-format-elements-for-datetime">Supported Format Elements For DATETIME</a>
for a list of format elements that this function supports.</p>

<p><strong>Return Data Type</strong></p>

<p>STRING</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT
  FORMAT_DATETIME(&quot;%c&quot;, DATETIME &quot;2008-12-25 15:30:00&quot;)
  AS formatted;</code></pre>

<h3 id="parse_datetime">PARSE_DATETIME</h3>

<pre class="codehilite"><code>PARSE_DATETIME(format_string, string)</code></pre>

<p><strong>Description</strong></p>

<p>Uses a <code>format_string</code> and a string representation of a timestamp to return a
TIMESTAMP object. See
<a href="#supported-format-elements-for-datetime">Supported Format Elements For DATETIME</a>
for a list of format elements that this function supports.</p>

<p>When using <code>PARSE_DATETIME</code>, keep the following in mind:</p>

<ul>
<li><strong>Unspecified fields.</strong> Any unspecified field is initialized from
<code>1970-01-01 00:00:00.0</code>. For instance, if the year is unspecified then it
defaults to <code>1970</code>, and so on.</li>
<li><strong>Case insensitive names.</strong> Names, such as <code>Monday</code>, <code>February</code>, and so on,
are case insensitive.</li>
<li><strong>Whitespace.</strong> One or more consecutive white spaces in the format string
matches zero or more consecutive white spaces in the DATETIME string. In
addition, leading and trailing white spaces in the DATETIME string are always
allowed&mdash;even if they are not in the format string.</li>
<li><strong>Format precedence.</strong> When two (or more) format elements have overlapping
information (for example both <code>%F</code> and <code>%Y</code> affect the year), the last one
generally overrides any earlier ones, with some exceptions (see the descriptions
of <code>%s</code>, <code>%C</code>, and <code>%y</code>).</li>
</ul>

<p><strong>Return Data Type</strong></p>

<p>DATETIME</p>

<h3 id="supported-format-elements-for-datetime">Supported format elements for DATETIME</h3>

<p>Unless otherwise noted, DATETIME functions that use format strings support the
following elements:</p>

<table>
<tr>
<td class="tab0">Format element</td>
<td class="tab0">Description</td>
</tr>
<tr>
<td>%A</td>
<td>The full weekday name.</td>
</tr>
<tr>
<td>%a</td>
<td>The abbreviated weekday name.</td>
</tr>
<tr>
<td>%B</td>
<td>The full month name.</td>
</tr>
<tr>
<td>%b or %h</td>
<td>The abbreviated month name.</td>
</tr>
<tr>
<td>%C</td>
<td>The century (a year divided by 100 and truncated to an integer) as a
    decimal
number (00-99).</td>
</tr>
<tr>
<td>%c</td>
<td>The date and time representation.</td>
</tr>
<tr>
<td>%D</td>
<td>The date in the format %m/%d/%y.</td>
</tr>
<tr>
<td>%d</td>
<td>The day of the month as a decimal number (01-31).</td>
</tr>
<tr>
<td>%e</td>
<td>The day of month as a decimal number (1-31); single digits are preceded
    by a
space.</td>
</tr>
<tr>
<td>%F</td>
<td>The date in the format %Y-%m-%d.</td>
</tr>
<tr>
<td>%G</td>
<td>The ISO 8601 year with century as a decimal number.</td>
</tr>
<tr>
<td>%g</td>
<td>The ISO 8601 year without century as a decimal number (00-99).</td>
</tr>
<tr>
<td>%H</td>
<td>The hour (24-hour clock) as a decimal number (00-23).</td>
</tr>
<tr>
<td>%I</td>
<td>The hour (12-hour clock) as a decimal number (01-12).</td>
</tr>
<tr>
<td>%j</td>
<td>The day of the year as a decimal number (001-366).</td>
</tr>
<tr>
<td>%k</td>
<td>The hour (24-hour clock) as a decimal number (0-23); single digits are
    preceded
by a space.</td>
</tr>
<tr>
<td>%l</td>
<td>The hour (12-hour clock) as a decimal number (1-12); single digits are
    preceded
by a space.</td>
</tr>
<tr>
<td>%M</td>
<td>The minute as a decimal number (00-59).</td>
</tr>
<tr>
<td>%m</td>
<td>The month as a decimal number (01-12).</td>
</tr>
<tr>
<td>%n</td>
<td>A newline character.</td>
</tr>
<tr>
<td>%P</td>
<td>Either am or pm.</td>
</tr>
<tr>
<td>%p</td>
<td>Either AM or PM.</td>
</tr>
<tr>
<td>%R</td>
<td>The time in the format %H:%M.</td>
</tr>
<tr>
<td>%r</td>
<td>The 12-hour clock time using AM/PM notation.</td>
</tr>
<tr>
<td>%S</td>
<td>The second as a decimal number (00-60).</td>
</tr>
<tr>
<td>%s</td>
<td>The number of seconds since 1970-01-01 00:00:00. Always overrides all
    other format elements, independent of where %s appears in the string.
    If multiple %s elements appear, then the last one takes precedence.</td>
</tr>
<tr>
<td>%T</td>
<td>The time in the format %H:%M:%S.</td>
</tr>
<tr>
<td>%t</td>
<td>A tab character.</td>
</tr>
<tr>
<td>%U</td>
<td>The week number of the year (Sunday as the first day of the week) as a
    decimal
number (00-53).</td>
</tr>
<tr>
<td>%u</td>
<td>The weekday (Monday as the first day of the week) as a decimal number
    (1-7).</td>
</tr>
<tr>
<td>%V</td>
<td>The week number of the year (Monday as the first day of the week) as a
    decimal number (01-53).  If the week containing January 1 has four or more
    days in the new year, then it is week 1; otherwise it is week 53 of the
    previous year, and the next week is week 1.</td>
</tr>
<tr>
<td>%W</td>
<td>The week number of the year (Monday as the first day of the week) as a
    decimal
number (00-53).</td>
</tr>
<tr>
<td>%w</td>
<td>The weekday (Sunday as the first day of the week) as a decimal number
    (0-6).</td>
</tr>
<tr>
<td>%X</td>
<td>The time representation in HH:MM:SS format.</td>
</tr>
<tr>
<td>%x</td>
<td>The date representation in MM/DD/YY format.</td>
</tr>
<tr>
<td>%Y</td>
<td>The year with century as a decimal number.</td>
</tr>
<tr>
<td>%y</td>
<td>The year without century as a decimal number (00-99), with an optional
    leading zero. Can be mixed with %C. If %C is not specified, years 00-68 are
    2000s, while years 69-99 are 1900s.</td>
</tr>
<tr>
<td>%%</td>
<td>A single % character.</td>
</tr>
<tr>
<td>%E#S</td>
<td>Seconds with # digits of fractional precision.</td>
</tr>
<tr>
<td>%E*S</td>
<td>Seconds with full fractional precision (a literal '*').</td>
</tr>
<tr>
<td>%E4Y</td>
<td>Four-character years (0001 ... 9999). Note that %Y
    produces as many characters as it takes to fully render the
year.</td>
</tr>
</table>

<h2 id="time-functions">TIME functions</h2>

<p>BigQuery supports the following TIME functions.</p>

<h3 id="current_time">CURRENT_TIME</h3>

<pre class="codehilite"><code>CURRENT_TIME()</code></pre>

<p><strong>Description</strong></p>

<p>Returns the current time as a TIME object.</p>

<p><strong>Return Data Type</strong></p>

<p>TIME</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT CURRENT_TIME() as now;

+----------------------------+
| now                        |
+----------------------------+
| 15:31:38.776361            |
+----------------------------+</code></pre>

<h3 id="time-hour-minute-second">TIME (hour, minute, second)</h3>

<pre class="codehilite"><code>TIME(hour, minute, second)</code></pre>

<p><strong>Description</strong></p>

<p>Constructs a TIME object using INT64 values representing the hour, minute,
and second.</p>

<p><strong>Return Data Type</strong></p>

<p>TIME</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT TIME(15, 30, 00) as time;

+---------------------+
| time                |
+---------------------+
| 15:30:00            |
+---------------------+</code></pre>

<h3 id="time-timestamp">TIME (timestamp)</h3>

<pre class="codehilite"><code>TIME(timestamp, [timezone])</code></pre>

<p><strong>Description</strong></p>

<p>Constructs a TIME object using a TIMESTAMP object. Takes an optional <code>timezone</code>
parameter.</p>

<p><strong>Return Data Type</strong></p>

<p>TIME</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT TIME(TIMESTAMP &quot;2008-12-25 15:30:00-08&quot;, &quot;America/Los_Angeles&quot;) as time;

+---------------------+
| time                |
+---------------------+
| 15:30:00            |
+---------------------+</code></pre>

<h3 id="time_add">TIME_ADD</h3>

<pre class="codehilite"><code>TIME_ADD(time_expression, INTERVAL INT64_expr part)</code></pre>

<p><strong>Description</strong></p>

<p>Adds <code>INT64_expr</code> units of <code>part</code> to the TIME object.</p>

<p><code>TIME_ADD</code> supports the following values for <code>part</code>:</p>

<ul>
<li><code>MICROSECOND</code></li>
<li><code>MILLISECOND</code></li>
<li><code>SECOND</code></li>
<li><code>MINUTE</code></li>
<li><code>HOUR</code></li>
</ul>

<p>This function automatically adjusts when values fall outside of the 00:00:00 to
24:00:00 boundary. For example, if you add an hour to <code>23:30:00</code>, the returned
value is <code>00:30:00</code>.</p>

<p><strong>Return Data Types</strong></p>

<p>TIME</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT
  TIME &quot;15:30:00&quot; as original_time,
  TIME_ADD(TIME &quot;15:30:00&quot;, INTERVAL 10 MINUTE) as later;

+-----------------------------+------------------------+
| original_time               | later                  |
+-----------------------------+------------------------+
| 15:30:00                    | 15:40:00               |
+-----------------------------+------------------------+</code></pre>

<h3 id="time_sub">TIME_SUB</h3>

<pre class="codehilite"><code>TIME_SUB(time_expression, INTERVAL INT_expr part)</code></pre>

<p><strong>Description</strong></p>

<p>Subtracts <code>INT64_expr</code> units of <code>part</code> from the TIME object.</p>

<p><code>TIME_SUB</code> supports the following values for <code>part</code>:</p>

<ul>
<li><code>MICROSECOND</code></li>
<li><code>MILLISECOND</code></li>
<li><code>SECOND</code></li>
<li><code>MINUTE</code></li>
<li><code>HOUR</code></li>
</ul>

<p>This function automatically adjusts when values fall outside of the 00:00:00 to
24:00:00 boundary. For example, if you subtract an hour from <code>00:30:00</code>, the
returned value is <code>23:30:00</code>.</p>

<p><strong>Return Data Type</strong></p>

<p>TIME</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT
  TIME &quot;15:30:00&quot; as original_date,
  TIME_SUB(TIME &quot;15:30:00&quot;, INTERVAL 10 MINUTE) as earlier;

+-----------------------------+------------------------+
| original_date                | earlier                |
+-----------------------------+------------------------+
| 15:30:00                    | 15:20:00               |
+-----------------------------+------------------------+</code></pre>

<h3 id="time_diff">TIME_DIFF</h3>

<pre class="codehilite"><code>TIME_DIFF(time_expression, time_expression, part)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the number of whole specified <code>part</code> intervals between two
TIME objects. Throws an error if the computation overflows the result type,
such as if the difference in microseconds between the two time objects would
overflow an INT64 value.</p>

<p><code>TIME_DIFF</code> supports the following values for <code>part</code>:</p>

<ul>
<li><code>MICROSECOND</code></li>
<li><code>MILLISECOND</code></li>
<li><code>SECOND</code></li>
<li><code>MINUTE</code></li>
<li><code>HOUR</code></li>
</ul>

<p><strong>Return Data Type</strong></p>

<p>INT64</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT
  TIME &quot;15:30:00&quot; as first_time,
  TIME &quot;14:35:00&quot; as second_time,
  TIME_DIFF(TIME &quot;15:30:00&quot;, TIME &quot;14:35:00, MINUTE) as difference;

+----------------------------+------------------------+------------------------+
| first_time                 | second_time            | difference             |
+----------------------------+------------------------+------------------------+
| 15:30:00                   | 14:35:00               | 55                     |
+----------------------------+------------------------+------------------------+</code></pre>

<h3 id="time_trunc">TIME_TRUNC</h3>

<pre class="codehilite"><code>TIME_TRUNC(time_expression, part)</code></pre>

<p><strong>Description</strong></p>

<p>Truncates a TIME object to the granularity of <code>part</code>.</p>

<p><code>TIME_TRUNC</code> supports the following values for <code>part</code>:</p>

<ul>
<li><code>MICROSECOND</code></li>
<li><code>MILLISECOND</code></li>
<li><code>SECOND</code></li>
<li><code>MINUTE</code></li>
<li><code>HOUR</code></li>
</ul>

<p><strong>Return Data Type</strong></p>

<p>TIME</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT
  TIME &quot;15:30:00&quot; as original,
  TIME_TRUNC(TIME &quot;15:30:00&quot;, HOUR) as truncated;

+----------------------------+------------------------+
| original                   | truncated              |
+----------------------------+------------------------+
| 15:30:00                   | 15:00:00               |
+----------------------------+------------------------+</code></pre>

<h3 id="supported-format-elements-for-time">Supported format elements for TIME</h3>

<p>Unless otherwise noted, TIME functions that use format strings support the
following elements:</p>

<table>
<tr>
<td class="tab0">Format element</td>
<td class="tab0">Description</td>
</tr>
<tr>
<td>%H</td>
<td>The hour (24-hour clock) as a decimal number (00-23).</td>
</tr>
<tr>
<td>%I</td>
<td>The hour (12-hour clock) as a decimal number (01-12).</td>
</tr>
<tr>
<td>%j</td>
<td>The day of the year as a decimal number (001-366).</td>
</tr>
<tr>
<td>%k</td>
<td>The hour (24-hour clock) as a decimal number (0-23); single digits are
    preceded
by a space.</td>
</tr>
<tr>
<td>%l</td>
<td>The hour (12-hour clock) as a decimal number (1-12); single digits are
    preceded
by a space.</td>
</tr>
<tr>
<td>%M</td>
<td>The minute as a decimal number (00-59).</td>
</tr>
<tr>
<td>%n</td>
<td>A newline character.</td>
</tr>
<tr>
<td>%P</td>
<td>Either am or pm.</td>
</tr>
<tr>
<td>%p</td>
<td>Either AM or PM.</td>
</tr>
<tr>
<td>%R</td>
<td>The time in the format %H:%M.</td>
</tr>
<tr>
<td>%r</td>
<td>The 12-hour clock time using AM/PM notation.</td>
</tr>
<tr>
<td>%S</td>
<td>The second as a decimal number (00-60).</td>
</tr>
<tr>
<td>%T</td>
<td>The time in the format %H:%M:%S.</td>
</tr>
<tr>
<td>%t</td>
<td>A tab character.</td>
</tr>
<tr>
<td>%X</td>
<td>The time representation in HH:MM:SS format.</td>
</tr>
<tr>
<td>%%</td>
<td>A single % character.</td>
</tr>
<tr>
<td>%E#S</td>
<td>Seconds with # digits of fractional precision.</td>
</tr>
<tr>
<td>%E*S</td>
<td>Seconds with full fractional precision (a literal '*').</td>
</tr>
</table>

<h2 id="timestamp-functions">TIMESTAMP functions</h2>

<p>BigQuery supports the following TIMESTAMP functions.</p>

<p>NOTE: These functions return a runtime error if overflow occurs; result
values are bounded by the defined date and timestamp min/max values.</p>

<h3 id="current_timestamp">CURRENT_TIMESTAMP</h3>

<pre class="codehilite"><code>CURRENT_TIMESTAMP()</code></pre>

<p><strong>Description</strong></p>

<p>Parentheses are optional. This function handles leap seconds by smearing them
across a window of 20 hours around the inserted leap
second.
<code>CURRENT_TIMESTAMP()</code> produces a TIMESTAMP value that is continuous,
non-ambiguous, has exactly 60 seconds per minute and does not repeat values over
the leap second.</p>

<p><strong>Supported Input Types</strong></p>

<p>Not applicable</p>

<p><strong>Result Data Type</strong></p>

<p>TIMESTAMP</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT CURRENT_TIMESTAMP() as now;

+-------------------------------+
| now                           |
+-------------------------------+
| 2016-05-16 18:12:47.145482+00 |
+-------------------------------+</code></pre>

<h3 id="extract_1">EXTRACT</h3>

<pre class="codehilite"><code>EXTRACT(part FROM timestamp_expression [AT TIME ZONE tz_spec])</code></pre>

<p><strong>Description</strong></p>

<p>Returns an INT64 value that corresponds to the specified <code>part</code> from
a supplied <code>timestamp_expression</code>.</p>

<p>Allowed <code>part</code> values are:</p>

<ul>
<li><code>MICROSECOND</code></li>
<li><code>MILLISECOND</code></li>
<li><code>SECOND</code></li>
<li><code>MINUTE</code></li>
<li><code>HOUR</code></li>
<li><code>DAYOFWEEK</code></li>
<li><code>DAY</code></li>
<li><code>DAYOFYEAR</code></li>
<li><code>MONTH</code></li>
<li><code>QUARTER</code></li>
<li><code>YEAR</code></li>
<li><code>DATE</code></li>
<li><code>DATETIME</code></li>
<li><code>TIME</code></li>
</ul>

<p>Returned values truncate lower order time periods&mdash;for example, when
extracting seconds, the millisecond and microsecond values are truncated.</p>

<p>See <a href="#timezone-definitions">Timezone definitions</a> for information on how to
specify a time zone.</p>

<p><strong>Return Data Type</strong></p>

<p>Generally
INT64
.  Returns
DATE if <code>part</code> is
DATE.</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT EXTRACT(DAY
  FROM TIMESTAMP &quot;2008-12-25 15:30:00&quot; AT TIME ZONE &quot;America/Los_Angeles&quot;)
  AS the_day;

+------------+
| the_day    |
+------------+
| 25         |
+------------+</code></pre>

<h3 id="string">STRING</h3>

<pre class="codehilite"><code>STRING(timestamp_expression[, timezone])</code></pre>

<p><strong>Description</strong></p>

<p>Converts a <code>timestamp_expression</code> to a STRING data type. Supports an optional
parameter to specify a timezone. See
<a href="#timezone-definitions">Timezone definitions</a> for information on how to specify
a time zone.</p>

<p><strong>Return Data Type</strong></p>

<p>STRING</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT STRING(TIMESTAMP &quot;2008-12-25 15:30:00&quot;, &quot;America/Los_Angeles&quot;) as string;

+-------------------------------+
| string                        |
+-------------------------------+
| 2008-12-25 15:30:00-08        |
+-------------------------------+</code></pre>

<h3 id="timestamp-string">TIMESTAMP (string)</h3>

<pre class="codehilite"><code>TIMESTAMP(string_expression[, timezone])</code></pre>

<p><strong>Description</strong></p>

<p>Converts a <code>string_expression</code> to a TIMESTAMP data type. Supports an optional
parameter to specify a timezone. See
<a href="#timezone-definitions">Timezone definitions</a> for information on how to specify
a time zone.</p>

<p><strong>Return Data Type</strong></p>

<p>TIMESTAMP</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT TIMESTAMP(&quot;2008-12-25 15:30:00&quot;, &quot;America/Los_Angeles&quot;) as timestamp;

+-------------------------+
| timestamp               |
+-------------------------+
| 2008-12-25 23:30:00 UTC |
+-------------------------+</code></pre>

<h3 id="timestamp-date">TIMESTAMP (date)</h3>

<pre class="codehilite"><code>TIMESTAMP(date_expression[, timezone])</code></pre>

<p><strong>Description</strong></p>

<p>Converts a <code>date_expression</code> to a TIMESTAMP data type. Supports an optional
parameter to specify a timezone. See
<a href="#timezone-definitions">Timezone definitions</a> for information on how to specify
a time zone.</p>

<p><strong>Return Data Type</strong></p>

<p>TIMESTAMP</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT TIMESTAMP(DATE &quot;2008-12-25&quot;, &quot;America/Los_Angeles&quot;) as timestamp;

+-------------------------+
| timestamp               |
+-------------------------+
| 2008-12-25 08:00:00 UTC |
+-------------------------+</code></pre>

<h3 id="timestamp_add">TIMESTAMP_ADD</h3>

<pre class="codehilite"><code>TIMESTAMP_ADD(timestamp_expression, INTERVAL INT64_expr date_part)</code></pre>

<p><strong>Description</strong></p>

<p>Adds <code>INT64_expr</code> units of <code>date_part</code> to the timestamp, independent of any time
zone.</p>

<p><code>TIMESTAMP_ADD</code> supports the following values for <code>date_part</code>:</p>

<ul>
<li><code>MICROSECOND</code></li>
<li><code>MILLISECOND</code></li>
<li><code>SECOND</code></li>
<li><code>MINUTE</code></li>
<li><code>HOUR</code>. Equivalent to 60 <code>MINUTE</code>s.</li>
</ul>

<p><strong>Return Data Types</strong></p>

<p>TIMESTAMP</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT
  TIMESTAMP &quot;2008-12-25 15:30:00 UTC&quot; as original,
  TIMESTAMP_ADD(TIMESTAMP &quot;2008-12-25 15:30:00 UTC&quot;, INTERVAL 10 MINUTE) AS later;

+------------------------+------------------------+
| original               | later                  |
+------------------------+------------------------+
| 2008-12-25 15:30:00+00 | 2008-12-25 15:40:00+00 |
+------------------------+------------------------+</code></pre>

<h3 id="timestamp_sub">TIMESTAMP_SUB</h3>

<pre class="codehilite"><code>TIMESTAMP_SUB(timestamp_expression, INTERVAL INT_expr date_part)</code></pre>

<p><strong>Description</strong></p>

<p>Subtracts <code>INT64_expr</code> units of <code>date_part</code> from the timestamp, independent of
any time zone.</p>

<p><code>TIMESTAMP_SUB</code> supports the following values for <code>date_part</code>:</p>

<ul>
<li><code>MICROSECOND</code></li>
<li><code>MILLISECOND</code></li>
<li><code>SECOND</code></li>
<li><code>MINUTE</code></li>
<li><code>HOUR</code>. Equivalent to 60 <code>MINUTE</code>s.</li>
</ul>

<p><strong>Return Data Type</strong></p>

<p>TIMESTAMP</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT
  TIMESTAMP &quot;2008-12-25 15:30:00 UTC&quot; as original,
  TIMESTAMP_SUB(TIMESTAMP &quot;2008-12-25 15:30:00 UTC&quot;, INTERVAL 10 MINUTE) AS earlier;

+------------------------+------------------------+
| original               | earlier                |
+------------------------+------------------------+
| 2008-12-25 15:30:00+00 | 2008-12-25 15:20:00+00 |
+------------------------+------------------------+</code></pre>

<h3 id="timestamp_diff">TIMESTAMP_DIFF</h3>

<pre class="codehilite"><code>TIMESTAMP_DIFF(timestamp_expression, timestamp_expression, date_part)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the number of whole specified <code>date_part</code> intervals between two
timestamps. Throws an error if the computation overflows the result type,
such as if the difference in
microseconds between
the two timestamps would overflow an INT64 value.</p>

<p><code>TIMESTAMP_DIFF</code> supports the following values for <code>date_part</code>:</p>

<ul>
<li><code>MICROSECOND</code></li>
<li><code>MILLISECOND</code></li>
<li><code>SECOND</code></li>
<li><code>MINUTE</code></li>
<li><code>HOUR</code>. Equivalent to 60 <code>MINUTE</code>s.</li>
</ul>

<p><strong>Return Data Type</strong></p>

<p>INT64</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT
  TIMESTAMP &quot;2010-07-07 10:20:00 UTC&quot; as first_timestamp,
  TIMESTAMP &quot;2008-12-25 15:30:00 UTC&quot; as second_timestamp,
  TIMESTAMP_DIFF(TIMESTAMP &quot;2010-07-07 10:20:00 UTC&quot;,
    TIMESTAMP &quot;2008-12-25 15:30:00 UTC&quot;, HOUR) AS hours;

+------------------------+------------------------+-------+
| first_timestamp        | second_timestamp       | hours |
+------------------------+------------------------+-------+
| 2010-07-07 10:20:00+00 | 2008-12-25 15:30:00+00 | 13410 |
+------------------------+------------------------+-------+</code></pre>

<h3 id="timestamp_trunc">TIMESTAMP_TRUNC</h3>

<pre class="codehilite"><code>TIMESTAMP_TRUNC(timestamp_expression, date_part, [, time_zone])</code></pre>

<p><strong>Description</strong></p>

<p>Truncates a timestamp to the granularity of date_part.</p>

<p><code>TIMESTAMP_TRUNC</code> supports the following values for <code>date_part</code>:</p>

<ul>
<li><code>MICROSECOND</code></li>
<li><code>MILLISECOND</code></li>
<li><code>SECOND</code></li>
<li><code>MINUTE</code></li>
<li><code>HOUR</code></li>
<li><code>DAY</code></li>
<li><code>WEEK</code></li>
<li><code>MONTH</code></li>
<li><code>QUARTER</code></li>
<li><code>YEAR</code></li>
</ul>

<p>In addition, <code>TIMESTAMP_TRUNC</code> function supports an optional <code>time_zone</code>
parameter. This parameter applies to the following <code>date_parts</code>:</p>

<ul>
<li><code>MINUTE</code></li>
<li><code>HOUR</code></li>
<li><code>DAY</code></li>
<li><code>WEEK</code></li>
<li><code>MONTH</code></li>
<li><code>QUARTER</code></li>
<li><code>YEAR</code></li>
</ul>

<p>Use this parameter if you want to use a time zone other than the
default timezone, UTC, as part of the
truncate operation.</p>

<p><strong>Return Data Type</strong></p>

<p>TIMESTAMP</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT
  TIMESTAMP_TRUNC(TIMESTAMP '2008-12-25 15:30:00', DAY, 'UTC') as utc,
  TIMESTAMP_TRUNC(TIMESTAMP '2008-12-25 15:30:00', DAY, 'America/Los_Angeles') as la;

+------------------------+------------------------+
| utc                    | la                     |
+------------------------+------------------------+
| 2008-12-25 00:00:00+00 | 2008-12-25 08:00:00+00 |
+------------------------+------------------------+</code></pre>

<h3 id="format_timestamp">FORMAT_TIMESTAMP</h3>

<pre class="codehilite"><code>FORMAT_TIMESTAMP(format_string, timestamp[, time_zone])</code></pre>

<p><strong>Description</strong></p>

<p>Formats a timestamp according to the specified <code>format_string</code>.</p>

<p>See <a href="#supported-format-elements-for-timestamp">Supported Format Elements For TIMESTAMP</a>
for a list of format elements that this function supports.</p>

<p><strong>Return Data Type</strong></p>

<p>STRING</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT FORMAT_TIMESTAMP(&quot;%c&quot;, TIMESTAMP &quot;2008-12-25 15:30:00&quot;, &quot;America/Los_Angeles&quot;)
  AS formatted;

+--------------------------+
| formatted                |
+--------------------------+
| Thu Dec 25 07:30:00 2008 |
+--------------------------+</code></pre>

<h3 id="parse_timestamp">PARSE_TIMESTAMP</h3>

<pre class="codehilite"><code>PARSE_TIMESTAMP(format_string, string[, time_zone])</code></pre>

<p><strong>Description</strong></p>

<p>Uses a <code>format_string</code> and a string representation of a timestamp to return a
TIMESTAMP object.</p>

<p>When using <code>PARSE_TIMESTAMP</code>, keep the following in mind:</p>

<ul>
<li><strong>Unspecified fields.</strong> Any unspecified field is initialized from <code>1970-01-01
00:00:00.0</code>. This initialization value uses the time zone specified by the
function's time zone argument, if present. If not, the initialization value uses
the default time zone, UTC.  For instance, if the year
is unspecified then it defaults to <code>1970</code>, and so on.</li>
<li><strong>Case insensitive names.</strong> Names, such as <code>Monday</code>, <code>February</code>, and so on, are
case insensitive.</li>
<li><strong>Whitespace.</strong> One or more consecutive white spaces in the format string
matches zero or more consecutive white spaces in the timestamp string. In
addition, leading and trailing white spaces in the timestamp string are always
allowed -- even if they are not in the format string.</li>
<li><strong>Format precedence.</strong> When two (or more) format elements have overlapping
information (for example both <code>%F</code> and <code>%Y</code> affect the year), the last one
generally overrides any earlier ones, with some exceptions (see the descriptions
of <code>%s</code>, <code>%C</code>, and <code>%y</code>).</li>
</ul>

<p>See <a href="#supported-format-elements-for-timestamp">Supported Format Elements For TIMESTAMP</a>
for a list of format elements that this function supports.</p>

<p><strong>Return Data Type</strong></p>

<p>TIMESTAMP</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT PARSE_TIMESTAMP(&quot;%c&quot;, &quot;Thu Dec 25 07:30:00 2008&quot;, &quot;America/Los_Angeles&quot;) as parsed;

+-------------------------+
| parsed                  |
+-------------------------+
| 2008-12-25 15:30:00 UTC |
+-------------------------+</code></pre>

<h3 id="timestamp_seconds-int64">TIMESTAMP_SECONDS (INT64)</h3>

<pre class="codehilite"><code>TIMESTAMP_SECONDS(INT64_expression)</code></pre>

<p><strong>Description</strong></p>

<p>Interprets <code>INT64_expression</code> as the number of seconds since 1970-01-01 00:00:00
UTC.</p>

<p><strong>Return Data Type</strong></p>

<p>TIMESTAMP</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT TIMESTAMP_SECONDS(1230219000) as timestamp;

+-------------------------+
| timestamp               |
+-------------------------+
| 2008-12-25 15:30:00 UTC |
+-------------------------+</code></pre>

<h3 id="timestamp_millis">TIMESTAMP_MILLIS</h3>

<pre class="codehilite"><code>TIMESTAMP_MILLIS(INT64_expression)</code></pre>

<p><strong>Description</strong></p>

<p>Interprets <code>INT64_expression</code> as the number of milliseconds since 1970-01-01
00:00:00 UTC.</p>

<p><strong>Return Data Type</strong></p>

<p>TIMESTAMP</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT TIMESTAMP_MILLIS(1230219000000) as timestamp;

+-------------------------+
| timestamp               |
+-------------------------+
| 2008-12-25 15:30:00 UTC |
+-------------------------+</code></pre>

<h3 id="timestamp_micros">TIMESTAMP_MICROS</h3>

<pre class="codehilite"><code>TIMESTAMP_MICROS(INT64_expression)</code></pre>

<p><strong>Description</strong></p>

<p>Interprets <code>INT64_expression</code> as the number of microseconds since 1970-01-01
00:00:00 UTC.</p>

<p><strong>Return Data Type</strong></p>

<p>TIMESTAMP</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT TIMESTAMP_MICROS(1230219000000000) as timestamp;

+-------------------------+
| timestamp               |
+-------------------------+
| 2008-12-25 15:30:00 UTC |
+-------------------------+</code></pre>

<h3 id="unix_seconds">UNIX_SECONDS</h3>

<pre class="codehilite"><code>UNIX_SECONDS(timestamp_expression)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the number of seconds since 1970-01-01 00:00:00 UTC. Truncates higher
levels of precision.</p>

<p><strong>Return Data Type</strong></p>

<p>INT64</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT UNIX_SECONDS(TIMESTAMP &quot;2008-12-25 15:30:00&quot;) as seconds;

+------------+
| seconds    |
+------------+
| 1230219000 |
+------------+</code></pre>

<h3 id="unix_millis">UNIX_MILLIS</h3>

<pre class="codehilite"><code>UNIX_MILLIS(timestamp_expression)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the number of milliseconds since 1970-01-01 00:00:00 UTC. Truncates
higher levels of precision.</p>

<p><strong>Return Data Type</strong></p>

<p>INT64</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT UNIX_MILLIS(TIMESTAMP &quot;2008-12-25 15:30:00 UTC&quot;) as millis;

+---------------+
| millis        |
+---------------+
| 1230219000000 |
+---------------+</code></pre>

<h3 id="unix_micros">UNIX_MICROS</h3>

<pre class="codehilite"><code>UNIX_MICROS(timestamp_expression)</code></pre>

<p><strong>Description</strong></p>

<p>Returns the number of microseconds since 1970-01-01 00:00:00 UTC. Truncates
higher levels of precision.</p>

<p><strong>Return Data Type</strong></p>

<p>INT64</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT UNIX_MICROS(TIMESTAMP &quot;2008-12-25 15:30:00&quot;) as micros;

+------------------+
| micros           |
+------------------+
| 1230219000000000 |
+------------------+</code></pre>

<h3 id="supported-format-elements-for-timestamp">Supported format elements for TIMESTAMP</h3>

<p>Unless otherwise noted, TIMESTAMP functions that use format strings support the
following elements:</p>

<table>
<tr>
<td class="tab0">Format element</td>
<td class="tab0">Description</td>
</tr>
<tr>
<td>%A</td>
<td>The full weekday name.</td>
</tr>
<tr>
<td>%a</td>
<td>The abbreviated weekday name.</td>
</tr>
<tr>
<td>%B</td>
<td>The full month name.</td>
</tr>
<tr>
<td>%b or %h</td>
<td>The abbreviated month name.</td>
</tr>
<tr>
<td>%C</td>
<td>The century (a year divided by 100 and truncated to an integer) as a
    decimal
number (00-99).</td>
</tr>
<tr>
<td>%c</td>
<td>The date and time representation.</td>
</tr>
<tr>
<td>%D</td>
<td>The date in the format %m/%d/%y.</td>
</tr>
<tr>
<td>%d</td>
<td>The day of the month as a decimal number (01-31).</td>
</tr>
<tr>
<td>%e</td>
<td>The day of month as a decimal number (1-31); single digits are preceded
    by a
space.</td>
</tr>
<tr>
<td>%F</td>
<td>The date in the format %Y-%m-%d.</td>
</tr>
<tr>
<td>%G</td>
<td>The ISO 8601 year with century as a decimal number.</td>
</tr>
<tr>
<td>%g</td>
<td>The ISO 8601 year without century as a decimal number (00-99).</td>
</tr>
<tr>
<td>%H</td>
<td>The hour (24-hour clock) as a decimal number (00-23).</td>
</tr>
<tr>
<td>%I</td>
<td>The hour (12-hour clock) as a decimal number (01-12).</td>
</tr>
<tr>
<td>%j</td>
<td>The day of the year as a decimal number (001-366).</td>
</tr>
<tr>
<td>%k</td>
<td>The hour (24-hour clock) as a decimal number (0-23); single digits are
    preceded
by a space.</td>
</tr>
<tr>
<td>%l</td>
<td>The hour (12-hour clock) as a decimal number (1-12); single digits are
    preceded
by a space.</td>
</tr>
<tr>
<td>%M</td>
<td>The minute as a decimal number (00-59).</td>
</tr>
<tr>
<td>%m</td>
<td>The month as a decimal number (01-12).</td>
</tr>
<tr>
<td>%n</td>
<td>A newline character.</td>
</tr>
<tr>
<td>%P</td>
<td>Either am or pm.</td>
</tr>
<tr>
<td>%p</td>
<td>Either AM or PM.</td>
</tr>
<tr>
<td>%R</td>
<td>The time in the format %H:%M.</td>
</tr>
<tr>
<td>%r</td>
<td>The 12-hour clock time using AM/PM notation.</td>
</tr>
<tr>
<td>%S</td>
<td>The second as a decimal number (00-60).</td>
</tr>
<tr>
<td>%s</td>
<td>The number of seconds since 1970-01-01 00:00:00 UTC. Always overrides all
    other format elements, independent of where %s appears in the string.
    If multiple %s elements appear, then the last one takes precedence.</td>
</tr>
<tr>
<td>%T</td>
<td>The time in the format %H:%M:%S.</td>
</tr>
<tr>
<td>%t</td>
<td>A tab character.</td>
</tr>
<tr>
<td>%U</td>
<td>The week number of the year (Sunday as the first day of the week) as a
    decimal
number (00-53).</td>
</tr>
<tr>
<td>%u</td>
<td>The weekday (Monday as the first day of the week) as a decimal number
    (1-7).</td>
</tr>
<tr>
<td>%V</td>
<td>The week number of the year (Monday as the first day of the week) as a
    decimal
number (01-53).  If the week containing January 1 has four or more days in the
new year, then it is week 1; otherwise it is week 53 of the previous year, and
the next week is week 1.</td>
</tr>
<tr>
<td>%W</td>
<td>The week number of the year (Monday as the first day of the week) as a
    decimal
number (00-53).</td>
</tr>
<tr>
<td>%w</td>
<td>The weekday (Sunday as the first day of the week) as a decimal number
    (0-6).</td>
</tr>
<tr>
<td>%X</td>
<td>The time representation in HH:MM:SS format.</td>
</tr>
<tr>
<td>%x</td>
<td>The date representation in MM/DD/YY format.</td>
</tr>
<tr>
<td>%Y</td>
<td>The year with century as a decimal number.</td>
</tr>
<tr>
<td>%y</td>
<td>The year without century as a decimal number (00-99), with an optional
    leading zero. Can be mixed with %C. If %C is not specified, years 00-68 are
    2000s, while years 69-99 are 1900s.</td>
</tr>
<tr>
<td>%Z</td>
<td>The time zone name.</td>
</tr>
<tr>
<td>%z</td>
<td>The offset from the Prime Meridian in the format +HHMM or -HHMM as
    appropriate,
with positive values representing locations east of Greenwich.</td>
</tr>
<tr>
<td>%%</td>
<td>A single % character.</td>
</tr>
<tr>
<td>%Ez</td>
<td>RFC3339-compatible numeric time zone (+HH:MM or -HH:MM).</td>
</tr>
<tr>
<td>%E#S</td>
<td>Seconds with # digits of fractional precision.</td>
</tr>
<tr>
<td>%E*S</td>
<td>Seconds with full fractional precision (a literal '*').</td>
</tr>
<tr>
<td>%E4Y</td>
<td>Four-character years (0001 ... 9999). Note that %Y
    produces as many characters as it takes to fully render the
year.</td>
</tr>
</table>

<h3 id="timezone-definitions">Timezone definitions</h3>

<p>Certain date and timestamp functions allow you to override the default time zone
and specify a different one. You can specify a timezone by supplying its UTC
offset using the following format:</p>

<pre class="codehilite"><code>(+|-)H[H][:M[M]]</code></pre>

<p>For example:</p>

<pre class="codehilite"><code>-08:00</code></pre>

<h2 id="security-functions">Security functions</h2>

<p>BigQuery supports the following security functions.</p>

<h3 id="session_user">SESSION_USER</h3>

<pre class="codehilite"><code>SESSION_USER()</code></pre>

<p><strong>Description</strong></p>

<p>Returns the email address of whoever is executing the query.</p>

<p><strong>Return Data Type</strong></p>

<p>STRING</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT SESSION_USER() as user;

+----------------------+
| user                 |
+----------------------+
| jdoe@example.com     |
+----------------------+</code></pre>

<p><a name="NET_functions"></a></p>

<h2 id="net-functions">NET functions</h2>

<h3 id="netip_from_string">NET.IP_FROM_STRING</h3>

<pre class="codehilite"><code>NET.IP_FROM_STRING(addr_str)</code></pre>

<p><strong>Description</strong></p>

<p>Converts an IPv4 or IPv6 address from text (STRING) format to binary (BYTES)
format in network byte order.</p>

<p>This function supports the following formats for <code>addr_str</code>:</p>

<ul>
<li>IPv4: Dotted-quad format. For example, <code>10.1.2.3</code>.</li>
<li>IPv6: Colon-separated format. For example,
  <code>1234:5678:90ab:cdef:1234:5678:90ab:cdef</code>. For more examples, see the
  <a href="http://www.ietf.org/rfc/rfc2373.txt">IP Version 6 Addressing Architecture</a>.</li>
</ul>

<p>This function does not support
<a href="https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing">CIDR notation</a>,
such as <code>10.1.2.3/32</code>.</p>

<p>If this function receives a <code>NULL</code> input, it returns <code>NULL</code>. If the input is
considered invalid, an <code>OUT_OF_RANGE</code> error occurs.</p>

<p><strong>Return Data Type</strong></p>

<p>BYTES</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT
  addr_str, FORMAT(&quot;%T&quot;, NET.IP_FROM_STRING(addr_str)) AS ip_from_string
FROM UNNEST([
  '48.49.50.51',
  '::1',
  '3031:3233:3435:3637:3839:4041:4243:4445',
  '::ffff:192.0.2.128'
]) AS addr_str;</code></pre>

<table>
<thead>
<tr>
<th>addr_str</th>
<th>ip_from_string</th>
</tr>
</thead>
<tbody>
<tr>
<td>48.49.50.51</td>
<td>b"0123"</td>
</tr>
<tr>
<td>::1</td>
<td>b"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01"</td>
</tr>
<tr>
<td>3031:3233:3435:3637:3839:4041:4243:4445</td>
<td>b"0123456789@ABCDE"</td>
</tr>
<tr>
<td>::ffff:192.0.2.128</td>
<td>b"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xff\xff\xc0\x00\x02\x80"</td>
</tr>
</tbody>
</table>

<h3 id="netsafe_ip_from_string">NET.SAFE_IP_FROM_STRING</h3>

<pre class="codehilite"><code>NET.SAFE_IP_FROM_STRING(addr_str)</code></pre>

<p><strong>Description</strong></p>

<p>Similar to <a href="#netip_from_string"><code>NET.IP_FROM_STRING</code></a>, but returns <code>NULL</code>
instead of throwing an error if the input is invalid.</p>

<p><strong>Return Data Type</strong></p>

<p>BYTES</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT
  addr_str,
  FORMAT(&quot;%T&quot;, NET.SAFE_IP_FROM_STRING(addr_str)) AS safe_ip_from_string
FROM UNNEST([
  '48.49.50.51',
  '::1',
  '3031:3233:3435:3637:3839:4041:4243:4445',
  '::ffff:192.0.2.128',
  '48.49.50.51/32',
  '48.49.50',
  '::wxyz'
]) AS addr_str;</code></pre>

<table>
<thead>
<tr>
<th>addr_str</th>
<th>safe_ip_from_string</th>
</tr>
</thead>
<tbody>
<tr>
<td>48.49.50.51</td>
<td>b"0123"</td>
</tr>
<tr>
<td>::1</td>
<td>b"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01"</td>
</tr>
<tr>
<td>3031:3233:3435:3637:3839:4041:4243:4445</td>
<td>b"0123456789@ABCDE"</td>
</tr>
<tr>
<td>::ffff:192.0.2.128</td>
<td>b"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xff\xff\xc0\x00\x02\x80"</td>
</tr>
<tr>
<td>48.49.50.51/32</td>
<td>NULL</td>
</tr>
<tr>
<td>48.49.50</td>
<td>NULL</td>
</tr>
<tr>
<td>::wxyz</td>
<td>NULL</td>
</tr>
</tbody>
</table>

<h3 id="netip_to_string">NET.IP_TO_STRING</h3>

<pre class="codehilite"><code>NET.IP_TO_STRING(addr_bin)</code></pre>

<p><strong>Description</strong>
Converts an IPv4 or IPv6 address from binary (BYTES) format in network byte
order to text (STRING) format.</p>

<p>If the input is 4 bytes, this function returns an IPv4 address as a STRING. If
the input is 16 bytes, it returns an IPv6 address as a STRING.</p>

<p>If this function receives a <code>NULL</code> input, it returns <code>NULL</code>. If the input has
a length different from 4 or 16, an <code>OUT_OF_RANGE</code> error occurs.</p>

<p><strong>Return Data Type</strong></p>

<p>STRING</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT FORMAT(&quot;%T&quot;, x) AS addr_bin, NET.IP_TO_STRING(x) AS ip_to_string
FROM UNNEST([
  b&quot;0123&quot;,
  b&quot;\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot;,
  b&quot;0123456789@ABCDE&quot;,
  b&quot;\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xff\xff\xc0\x00\x02\x80&quot;
]) AS x;</code></pre>

<table>
<thead>
<tr>
<th>addr_bin</th>
<th>ip_to_string</th>
</tr>
</thead>
<tbody>
<tr>
<td>b"0123"</td>
<td>48.49.50.51</td>
</tr>
<tr>
<td>b"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01"</td>
<td>::1</td>
</tr>
<tr>
<td>b"0123456789@ABCDE"</td>
<td>3031:3233:3435:3637:3839:4041:4243:4445</td>
</tr>
<tr>
<td>b"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xff\xff\xc0\x00\x02\x80"</td>
<td>::ffff:192.0.2.128</td>
</tr>
</tbody>
</table>

<h3 id="netip_trunc">NET.IP_TRUNC</h3>

<pre class="codehilite"><code>NET.IP_TRUNC(addr_bin, prefix_length)</code></pre>

<p><strong>Description</strong>
Takes <code>addr_bin</code>, an IPv4 or IPv6 address in binary (BYTES) format in network
byte order, and returns a subnet address in the same format. The result has the
same length as <code>addr_bin</code>, where the first <code>prefix_length</code> bits are equal to
those in <code>addr_bin</code> and the remaining bits are 0.</p>

<p>This function throws an error if <code>LENGTH(addr_bin)</code> is not 4 or 16, or if
<code>prefix_len</code> is negative or greater than <code>LENGTH(addr_bin) * 8</code>.</p>

<p><strong>Return Data Type</strong></p>

<p>BYTES</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT
  FORMAT(&quot;%T&quot;, x) as addr_bin, prefix_length,
  FORMAT(&quot;%T&quot;, NET.IP_TRUNC(x, prefix_length)) AS ip_trunc
FROM UNNEST([
  STRUCT(b&quot;\xAA\xBB\xCC\xDD&quot; as x, 0 as prefix_length),
  (b&quot;\xAA\xBB\xCC\xDD&quot;, 11), (b&quot;\xAA\xBB\xCC\xDD&quot;, 12),
  (b&quot;\xAA\xBB\xCC\xDD&quot;, 24), (b&quot;\xAA\xBB\xCC\xDD&quot;, 32),
  (b'0123456789@ABCDE', 80)
]);</code></pre>

<table>
<thead>
<tr>
<th>addr_bin</th>
<th>prefix_length</th>
<th>ip_trunc</th>
</tr>
</thead>
<tbody>
<tr>
<td>b"\xaa\xbb\xcc\xdd"</td>
<td>0</td>
<td>b"\x00\x00\x00\x00"</td>
</tr>
<tr>
<td>b"\xaa\xbb\xcc\xdd"</td>
<td>11</td>
<td>b"\xaa\xa0\x00\x00"</td>
</tr>
<tr>
<td>b"\xaa\xbb\xcc\xdd"</td>
<td>12</td>
<td>b"\xaa\xb0\x00\x00"</td>
</tr>
<tr>
<td>b"\xaa\xbb\xcc\xdd"</td>
<td>24</td>
<td>b"\xaa\xbb\xcc\x00"</td>
</tr>
<tr>
<td>b"\xaa\xbb\xcc\xdd"</td>
<td>32</td>
<td>b"\xaa\xbb\xcc\xdd"</td>
</tr>
<tr>
<td>b"0123456789@ABCDE"</td>
<td>80</td>
<td>b"0123456789\x00\x00\x00\x00\x00\x00"</td>
</tr>
</tbody>
</table>

<h3 id="netipv4_from_int64">NET.IPV4_FROM_INT64</h3>

<pre class="codehilite"><code>NET.IPV4_FROM_INT64(integer_value)</code></pre>

<p><strong>Description</strong></p>

<p>Converts an IPv4 address from integer format to binary (BYTES) format in network
byte order. In the integer input, the least significant bit of the IP address is
stored in the least significant bit of the integer, regardless of host or client
architecture. For example, <code>1</code> means <code>0.0.0.1</code>, and <code>0x1FF</code> means <code>0.0.1.255</code>.</p>

<p>This function checks that either all the most significant 32 bits are 0, or all
the most significant 33 bits are 1 (sign-extended from a 32 bit integer).
In other words, the input should be in the range <code>[-0x80000000, 0xFFFFFFFF]</code>;
otherwise, this function throws an error.</p>

<p>This function does not support IPv6.</p>

<p><strong>Return Data Type</strong></p>

<p>BYTES</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT x, x_hex, FORMAT(&quot;%T&quot;, NET.IPV4_FROM_INT64(x)) AS ipv4_from_int64
FROM (
  SELECT CAST(x_hex AS INT64) x, x_hex
  FROM UNNEST([&quot;0x0&quot;, &quot;0xABCDEF&quot;, &quot;0xFFFFFFFF&quot;, &quot;-0x1&quot;, &quot;-0x2&quot;]) AS x_hex
);</code></pre>

<table>
<thead>
<tr>
<th>x</th>
<th>x_hex</th>
<th>ipv4_from_int64</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>0x0</td>
<td>b"\x00\x00\x00\x00"</td>
</tr>
<tr>
<td>11259375</td>
<td>0xABCDEF</td>
<td>b"\x00\xab\xcd\xef"</td>
</tr>
<tr>
<td>4294967295</td>
<td>0xFFFFFFFF</td>
<td>b"\xff\xff\xff\xff"</td>
</tr>
<tr>
<td>-1</td>
<td>-0x1</td>
<td>b"\xff\xff\xff\xff"</td>
</tr>
<tr>
<td>-2</td>
<td>-0x2</td>
<td>b"\xff\xff\xff\xfe"</td>
</tr>
</tbody>
</table>

<h3 id="netipv4_to_int64">NET.IPV4_TO_INT64</h3>

<pre class="codehilite"><code>NET.IPV4_TO_INT64(addr_bin)</code></pre>

<p><strong>Description</strong></p>

<p>Converts an IPv4 address from binary (BYTES) format in network byte order to
integer format. In the integer output, the least significant bit of the IP
address is stored in the least significant bit of the integer, regardless of
host or client architecture. For example, <code>1</code> means <code>0.0.0.1</code>, and <code>0x1FF</code> means
<code>0.0.1.255</code>. The output is in the range <code>[0, 0xFFFFFFFF]</code>.</p>

<p>If the input length is not 4, this function throws an error.</p>

<p>This function does not support IPv6.</p>

<p><strong>Return Data Type</strong></p>

<p>INT64</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT
  FORMAT(&quot;%T&quot;, x) AS addr_bin,
  FORMAT(&quot;0x%X&quot;, NET.IPV4_TO_INT64(x)) AS ipv4_to_int64
FROM
UNNEST([b&quot;\x00\x00\x00\x00&quot;, b&quot;\x00\xab\xcd\xef&quot;, b&quot;\xff\xff\xff\xff&quot;]) AS x;</code></pre>

<table>
<thead>
<tr>
<th>addr_bin</th>
<th>ipv4_to_int64</th>
</tr>
</thead>
<tbody>
<tr>
<td>b"\x00\x00\x00\x00"</td>
<td>0x0</td>
</tr>
<tr>
<td>b"\x00\xab\xcd\xef"</td>
<td>0xABCDEF</td>
</tr>
<tr>
<td>b"\xff\xff\xff\xff"</td>
<td>0xFFFFFFFF</td>
</tr>
</tbody>
</table>

<h3 id="nethost">NET.HOST</h3>

<pre class="codehilite"><code>NET.HOST(url)</code></pre>

<p><strong>Description</strong></p>

<p>Takes a URL as a STRING and returns the host as a STRING. For best results, URL
values should comply with the format as defined by
<a href="https://tools.ietf.org/html/rfc3986#appendix-A">RFC 3986</a>. If the URL value
does not comply with RFC 3986 formatting, this function makes a best
effort to parse the input and return a relevant result.
If the function cannot parse the input, it
returns NULL.</p>

<p class="note"><b>Note:</b> The function does not perform any normalization.
</p>

<p><strong>Return Data Type</strong></p>

<p>STRING</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT
  FORMAT(&quot;%T&quot;, input) AS input,
  description,
  FORMAT(&quot;%T&quot;, NET.HOST(input)) AS host,
  FORMAT(&quot;%T&quot;, NET.PUBLIC_SUFFIX(input)) AS suffix,
  FORMAT(&quot;%T&quot;, NET.REG_DOMAIN(input)) AS domain
FROM (
  SELECT &quot;&quot; AS input, &quot;invalid input&quot; AS description
  UNION ALL SELECT &quot;http://abc.xyz&quot;, &quot;standard URL&quot;
  UNION ALL SELECT &quot;//user:password@a.b:80/path?query&quot;,
                   &quot;standard URL with relative scheme, port, path and query, but no public suffix&quot;
  UNION ALL SELECT &quot;https://[::1]:80&quot;, &quot;standard URL with IPv6 host&quot;
  UNION ALL SELECT &quot;http://例子.卷筒纸.中国&quot;, &quot;standard URL with internationalized domain name&quot;
  UNION ALL SELECT &quot;    www.Google.Co.UK    &quot;,
                   &quot;non-standard URL with spaces, upper case letters, and without scheme&quot;
  UNION ALL SELECT &quot;mailto:?to=&amp;subject=&amp;body=&quot;, &quot;URI rather than URL; unsupported&quot;
);</code></pre>

<table>
<thead>
<tr>
<th>input</th>
<th>description</th>
<th>host</th>
<th>suffix</th>
<th>domain</th>
</tr>
</thead>
<tbody>
<tr>
<td>""</td>
<td>invalid input</td>
<td>NULL</td>
<td>NULL</td>
<td>NULL</td>
</tr>
<tr>
<td>"http://abc.xyz"</td>
<td>standard URL</td>
<td>"abc.xyz"</td>
<td>"xyz"</td>
<td>"abc.xyz"</td>
</tr>
<tr>
<td>"//user:password@a.b:80/path?query"</td>
<td>standard URL with relative scheme, port, path and query, but no public suffix</td>
<td>"a.b"</td>
<td>NULL</td>
<td>NULL</td>
</tr>
<tr>
<td>"https://[::1]:80"</td>
<td>standard URL with IPv6 host</td>
<td>"[::1]"</td>
<td>NULL</td>
<td>NULL</td>
</tr>
<tr>
<td>"http://例子.卷筒纸.中国"</td>
<td>standard URL with internationalized domain name</td>
<td>"例子.卷筒纸.中国"</td>
<td>"中国"</td>
<td>"卷筒纸.中国"</td>
</tr>
<tr>
<td>"&nbsp;&nbsp;&nbsp;&nbsp;www.Google.Co.UK&nbsp;&nbsp;&nbsp;&nbsp;"</td>
<td>non-standard URL with spaces, upper case letters, and without scheme</td>
<td>"www.Google.Co.UK"</td>
<td>"Co.UK"</td>
<td>"Google.Co.UK"</td>
</tr>
<tr>
<td>"mailto:?to=&amp;subject=&amp;body="</td>
<td>URI rather than URL; unsupported</td>
<td>"mailto"</td>
<td>NULL</td>
<td>NULL</td>
</tr>
</tbody>
</table>

<h3 id="netpublic_suffix">NET.PUBLIC_SUFFIX</h3>

<pre class="codehilite"><code>NET.PUBLIC_SUFFIX(url)</code></pre>

<p><strong>Description</strong></p>

<p>Takes a URL as a STRING and returns the
<a href="https://publicsuffix.org/list/">public suffix</a> (such as <code>com</code>, <code>org</code>, or <code>net</code>)
as a STRING. For best results, URL values should comply with the format as
defined by <a href="https://tools.ietf.org/html/rfc3986#appendix-A">RFC 3986</a>. If the
URL value does not comply with RFC 3986 formatting, this function makes a best
effort to parse the input and return a relevant result.</p>

<p>This function returns NULL if any of the following is true:</p>

<ul>
<li>It cannot parse the host from the input;</li>
<li>The parsed host contains adjacent dots in the middle (not leading or trailing);</li>
<li>The parsed host does not contain any public suffix.</li>
</ul>

<p>Before looking up the public suffix, this function temporarily normalizes the
host by converting upper case English letters to lower case and encoding all
non-ASCII characters with <a href="https://en.wikipedia.org/wiki/Punycode">Punycode</a>.
The function then returns the public suffix as part of the original host instead
of the normalized host.</p>

<p class="note"><b>Note:</b> The function does not perform
<a href="https://en.wikipedia.org/wiki/Unicode_equivalence">Unicode normalization</a>.
</p>

<p class="note"><b>Note:</b> The public suffix data may change over time.
Consequently, input that produces a NULL result now may produce a non-NULL value
in the future.</p>

<p><strong>Return Data Type</strong></p>

<p>STRING</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT
  FORMAT(&quot;%T&quot;, input) AS input,
  description,
  FORMAT(&quot;%T&quot;, NET.HOST(input)) AS host,
  FORMAT(&quot;%T&quot;, NET.PUBLIC_SUFFIX(input)) AS suffix,
  FORMAT(&quot;%T&quot;, NET.REG_DOMAIN(input)) AS domain
FROM (
  SELECT &quot;&quot; AS input, &quot;invalid input&quot; AS description
  UNION ALL SELECT &quot;http://abc.xyz&quot;, &quot;standard URL&quot;
  UNION ALL SELECT &quot;//user:password@a.b:80/path?query&quot;,
                   &quot;standard URL with relative scheme, port, path and query, but no public suffix&quot;
  UNION ALL SELECT &quot;https://[::1]:80&quot;, &quot;standard URL with IPv6 host&quot;
  UNION ALL SELECT &quot;http://例子.卷筒纸.中国&quot;, &quot;standard URL with internationalized domain name&quot;
  UNION ALL SELECT &quot;    www.Google.Co.UK    &quot;,
                   &quot;non-standard URL with spaces, upper case letters, and without scheme&quot;
  UNION ALL SELECT &quot;mailto:?to=&amp;subject=&amp;body=&quot;, &quot;URI rather than URL; unsupported&quot;
);</code></pre>

<table>
<thead>
<tr>
<th>input</th>
<th>description</th>
<th>host</th>
<th>suffix</th>
<th>domain</th>
</tr>
</thead>
<tbody>
<tr>
<td>""</td>
<td>invalid input</td>
<td>NULL</td>
<td>NULL</td>
<td>NULL</td>
</tr>
<tr>
<td>"http://abc.xyz"</td>
<td>standard URL</td>
<td>"abc.xyz"</td>
<td>"xyz"</td>
<td>"abc.xyz"</td>
</tr>
<tr>
<td>"//user:password@a.b:80/path?query"</td>
<td>standard URL with relative scheme, port, path and query, but no public suffix</td>
<td>"a.b"</td>
<td>NULL</td>
<td>NULL</td>
</tr>
<tr>
<td>"https://[::1]:80"</td>
<td>standard URL with IPv6 host</td>
<td>"[::1]"</td>
<td>NULL</td>
<td>NULL</td>
</tr>
<tr>
<td>"http://例子.卷筒纸.中国"</td>
<td>standard URL with internationalized domain name</td>
<td>"例子.卷筒纸.中国"</td>
<td>"中国"</td>
<td>"卷筒纸.中国"</td>
</tr>
<tr>
<td>"&nbsp;&nbsp;&nbsp;&nbsp;www.Google.Co.UK&nbsp;&nbsp;&nbsp;&nbsp;"</td>
<td>non-standard URL with spaces, upper case letters, and without scheme</td>
<td>"www.Google.Co.UK"</td>
<td>"Co.UK"</td>
<td>"Google.Co.UK"</td>
</tr>
<tr>
<td>"mailto:?to=&amp;subject=&amp;body="</td>
<td>URI rather than URL; unsupported</td>
<td>"mailto"</td>
<td>NULL</td>
<td>NULL</td>
</tr>
</tbody>
</table>

<h3 id="netreg_domain">NET.REG_DOMAIN</h3>

<pre class="codehilite"><code>NET.REG_DOMAIN(url)</code></pre>

<p><strong>Description</strong></p>

<p>Takes a URL as a STRING and returns the registered or registerable domain (the
public suffix plus one preceding label), as a
STRING. For best results, URL values should comply with the format as defined by
<a href="https://tools.ietf.org/html/rfc3986#appendix-A">RFC 3986</a>. If the URL value
does not comply with RFC 3986 formatting, this function makes a best
effort to parse the input and return a relevant result.</p>

<p>This function returns NULL if any of the following is true:</p>

<ul>
<li>It cannot parse the host from the input;</li>
<li>The parsed host contains adjacent dots in the middle (not leading or trailing);</li>
<li>The parsed host does not contain any public suffix;</li>
<li>The parsed host contains only a public suffix without any preceding label.</li>
</ul>

<p>Before looking up the public suffix, this function temporarily normalizes the
host by converting upper case English letters to lower case and encoding all
non-ASCII characters with
<a href="https://en.wikipedia.org/wiki/Punycode">Punycode</a>. The function then returns
the registered or registerable domain as part of the original host instead of
the normalized host.</p>

<p class="note"><b>Note:</b> The function does not perform
<a href="https://en.wikipedia.org/wiki/Unicode_equivalence">Unicode normalization</a>.
</p>

<p class="note"><b>Note:</b> The public suffix data may change over time.
Consequently, input that produces a NULL result now may produce a non-NULL value
in the future.</p>

<p><strong>Return Data Type</strong></p>

<p>STRING</p>

<p><strong>Example</strong></p>

<pre class="codehilite"><code>SELECT
  FORMAT(&quot;%T&quot;, input) AS input,
  description,
  FORMAT(&quot;%T&quot;, NET.HOST(input)) AS host,
  FORMAT(&quot;%T&quot;, NET.PUBLIC_SUFFIX(input)) AS suffix,
  FORMAT(&quot;%T&quot;, NET.REG_DOMAIN(input)) AS domain
FROM (
  SELECT &quot;&quot; AS input, &quot;invalid input&quot; AS description
  UNION ALL SELECT &quot;http://abc.xyz&quot;, &quot;standard URL&quot;
  UNION ALL SELECT &quot;//user:password@a.b:80/path?query&quot;,
                   &quot;standard URL with relative scheme, port, path and query, but no public suffix&quot;
  UNION ALL SELECT &quot;https://[::1]:80&quot;, &quot;standard URL with IPv6 host&quot;
  UNION ALL SELECT &quot;http://例子.卷筒纸.中国&quot;, &quot;standard URL with internationalized domain name&quot;
  UNION ALL SELECT &quot;    www.Google.Co.UK    &quot;,
                   &quot;non-standard URL with spaces, upper case letters, and without scheme&quot;
  UNION ALL SELECT &quot;mailto:?to=&amp;subject=&amp;body=&quot;, &quot;URI rather than URL; unsupported&quot;
);</code></pre>

<table>
<thead>
<tr>
<th>input</th>
<th>description</th>
<th>host</th>
<th>suffix</th>
<th>domain</th>
</tr>
</thead>
<tbody>
<tr>
<td>""</td>
<td>invalid input</td>
<td>NULL</td>
<td>NULL</td>
<td>NULL</td>
</tr>
<tr>
<td>"http://abc.xyz"</td>
<td>standard URL</td>
<td>"abc.xyz"</td>
<td>"xyz"</td>
<td>"abc.xyz"</td>
</tr>
<tr>
<td>"//user:password@a.b:80/path?query"</td>
<td>standard URL with relative scheme, port, path and query, but no public suffix</td>
<td>"a.b"</td>
<td>NULL</td>
<td>NULL</td>
</tr>
<tr>
<td>"https://[::1]:80"</td>
<td>standard URL with IPv6 host</td>
<td>"[::1]"</td>
<td>NULL</td>
<td>NULL</td>
</tr>
<tr>
<td>"http://例子.卷筒纸.中国"</td>
<td>standard URL with internationalized domain name</td>
<td>"例子.卷筒纸.中国"</td>
<td>"中国"</td>
<td>"卷筒纸.中国"</td>
</tr>
<tr>
<td>"&nbsp;&nbsp;&nbsp;&nbsp;www.Google.Co.UK&nbsp;&nbsp;&nbsp;&nbsp;"</td>
<td>non-standard URL with spaces, upper case letters, and without scheme</td>
<td>"www.Google.Co.UK"</td>
<td>"Co.UK"</td>
<td>"Google.Co.UK"</td>
</tr>
<tr>
<td>"mailto:?to=&amp;subject=&amp;body="</td>
<td>URI rather than URL; unsupported</td>
<td>"mailto"</td>
<td>NULL</td>
<td>NULL</td>
</tr>
</tbody>
</table>

<h2 id="operators">Operators</h2>

<p>Operators are represented by special characters or keywords; they do not use
function call syntax. An operator manipulates any number of data inputs, also
called operands, and returns a result.</p>

<p>Common conventions:</p>

<ul>
<li>Unless otherwise specified, all operators return <code>NULL</code> when one of the
   operands is <code>NULL</code>.</li>
<li>All operators will throw an error if the computation result overflows.</li>
<li>This includes floating point operators: <code>+/-inf</code> and <code>NaN</code> may only be returned
   if one of the operands is <code>+/-inf</code> or <code>NaN</code>.</li>
</ul>

<p>The following table lists all BigQuery operators from highest to
lowest precedence, i.e the order in which they will be evaluated within a
statement.</p>

<table>
<thead>
<tr>
<th>Order of Precedence</th>
<th>Operator</th>
<th>Input Data Types</th>
<th>Name</th>
<th>Operator Arity</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>.</td>
<td><span> STRUCT<span><br /></span></span></td>
<td>Member field access operator</td>
<td>Binary</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>[ ]</td>
<td>ARRAY</td>
<td>Array position. Must be used with OFFSET or ORDINAL&mdash;see <a href="#array_functions">ARRAY Functions</a>.</td>
<td>Binary</td>
</tr>
<tr>
<td>2</td>
<td>-</td>
<td>Numeric</td>
<td>Unary minus</td>
<td>Unary</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>~</td>
<td>Integer or BYTES</td>
<td>Bitwise not</td>
<td>Unary</td>
</tr>
<tr>
<td>3</td>
<td>*</td>
<td>Numeric</td>
<td>Multiplication</td>
<td>Binary</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>/</td>
<td>Numeric</td>
<td>Division</td>
<td>Binary</td>
</tr>
<tr>
<td>4</td>
<td>+</td>
<td>Numeric</td>
<td>Addition</td>
<td>Binary</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>-</td>
<td>Numeric</td>
<td>Subtraction</td>
<td>Binary</td>
</tr>
<tr>
<td>5</td>
<td>&lt;&lt;</td>
<td>Integer or BYTES</td>
<td>Bitwise left-shift</td>
<td>Binary</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&gt;&gt;</td>
<td>Integer or BYTES</td>
<td>Bitwise right-shift</td>
<td>Binary</td>
</tr>
<tr>
<td>6</td>
<td>&amp;</td>
<td>Integer or BYTES</td>
<td>Bitwise and</td>
<td>Binary</td>
</tr>
<tr>
<td>7</td>
<td>^</td>
<td>Integer or BYTES</td>
<td>Bitwise xor</td>
<td>Binary</td>
</tr>
<tr>
<td>8</td>
<td>|</td>
<td>Integer or BYTES</td>
<td>Bitwise or</td>
<td>Binary</td>
</tr>
<tr>
<td>9 (Comparison Operators)</td>
<td>=</td>
<td>Any comparable type. See
<a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/data-types">Data Types</a> for
a complete list.</td>
<td>Equal</td>
<td>Binary</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&lt;</td>
<td>Any comparable type. See
<a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/data-types">Data Types</a> for
a complete list.</td>
<td>Less than</td>
<td>Binary</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&gt;</td>
<td>Any comparable type. See
<a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/data-types">Data Types</a> for
a complete list.</td>
<td>Greater than</td>
<td>Binary</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&lt;=</td>
<td>Any comparable type. See
<a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/data-types">Data Types</a> for
a complete list.</td>
<td>Less than or equal to</td>
<td>Binary</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&gt;=</td>
<td>Any comparable type. See
<a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/data-types">Data Types</a> for
a complete list.</td>
<td>Greater than or equal to</td>
<td>Binary</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>!=, &lt;&gt;</td>
<td>Any comparable type. See
<a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/data-types">Data Types</a> for
a complete list.</td>
<td>Not equal</td>
<td>Binary</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>[NOT] LIKE</td>
<td>STRING and byte</td>
<td>Value does [not] match the pattern specified</td>
<td>Binary</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>[NOT] BETWEEN</td>
<td>Any comparable types. See Data Types for list.</td>
<td>Value is [not] within the range specified</td>
<td>Binary</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>[NOT] IN</td>
<td>Any comparable types. See Data Types for list.</td>
<td>Value is [not] in the set of values specified</td>
<td>Binary</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>IS [NOT] <code>NULL</code></td>
<td>All</td>
<td>Value is [not] <code>NULL</code></td>
<td>Unary</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>IS [NOT] TRUE</td>
<td>BOOL</td>
<td>Value is [not] TRUE.</td>
<td>Unary</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>IS [NOT] FALSE</td>
<td>BOOL</td>
<td>Value is [not] FALSE.</td>
<td>Unary</td>
</tr>
<tr>
<td>10</td>
<td>NOT</td>
<td>BOOL</td>
<td>Logical NOT</td>
<td>Unary</td>
</tr>
<tr>
<td>11</td>
<td>AND</td>
<td>BOOL</td>
<td>Logical AND</td>
<td>Binary</td>
</tr>
<tr>
<td>12</td>
<td>OR</td>
<td>BOOL</td>
<td>Logical OR</td>
<td>Binary</td>
</tr>
</tbody>
</table>

<p>Operators with the same precedence are left associative. This means that those
operators are grouped together starting from the left and moving right. For
example, the expression:</p>

<p><code>x AND y AND z</code></p>

<p>is interpreted as</p>

<p><code>( ( x AND y ) AND z )</code></p>

<p>The expression:</p>

<pre class="codehilite"><code>x * y / z</code></pre>

<p>is interpreted as:</p>

<pre class="codehilite"><code>( ( x * y ) / z )</code></pre>

<p>All comparison operators have the same priority and are grouped using left
associativity. However, comparison operators are not associative. As a result,
it is recommended that you use parentheses to improve readability and ensure
expressions are resolved as desired. For example:</p>

<p><code>(x &lt; y) IS FALSE</code></p>

<p>is recommended over:</p>

<p><code>x &lt; y IS FALSE</code></p>

<h3 id="element-access-operators">Element access operators</h3>

<table>
<thead>
<tr>
<th>Operator</th>
<th>Syntax</th>
<th>Input Data Types</th>
<th>Result Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>.</td>
<td>expression.fieldname1...</td>
<td><span> STRUCT<span><br /></span></span></td>
<td>Type T stored in fieldname1</td>
<td>Dot operator. Can be used to access nested fields,
e.g.expression.fieldname1.fieldname2...</td>
</tr>
<tr>
<td>[ ]</td>
<td>array_expression [position_keyword (int_expression ) ]</td>
<td>See ARRAY Functions.</td>
<td>Type T stored in ARRAY</td>
<td>position_keyword is either OFFSET or ORDINAL. See <a href="#array_functions">ARRAY Functions</a> for the
two functions that use this operator.</td>
</tr>
</tbody>
</table>

<h3 id="arithmetic-operators">Arithmetic operators</h3>

<p>All arithmetic operators accept input of numeric type T, and the result type
has type T unless otherwise indicated in the description below:</p>

<table>
<thead>
<tr>
<th>Name</th>
<th>Syntax</th>
</tr>
</thead>
<tbody>
<tr>
<td>Addition</td>
<td>X + Y</td>
</tr>
<tr>
<td>Subtraction</td>
<td>X - Y</td>
</tr>
<tr>
<td>Multiplication</td>
<td>X * Y</td>
</tr>
<tr>
<td>Division</td>
<td>X / Y</td>
</tr>
<tr>
<td>Unary Minus</td>
<td>- X</td>
</tr>
</tbody>
</table>

<p>Result types for Addition and Multiplication:</p>

<table>
<thead>
<tr><th>&nbsp;</th><th>FLOAT64</th><th>INT64</th></tr>
</thead>
<tbody><tr><td>FLOAT64</td><td>FLOAT64</td><td>FLOAT64</td></tr><tr><td>INT64</td><td>FLOAT64</td><td>INT64</td></tr></tbody>
</table>

<p>Result types for Subtraction:</p>

<table>
<thead>
<tr><th>&nbsp;</th><th>FLOAT64</th><th>INT64</th></tr>
</thead>
<tbody><tr><td>FLOAT64</td><td>FLOAT64</td><td>FLOAT64</td></tr><tr><td>INT64</td><td>FLOAT64</td><td>INT64</td></tr></tbody>
</table>

<p>Result types for Division:</p>

<table>
<thead>
<tr><th>&nbsp;</th><th>FLOAT64</th><th>INT64</th></tr>
</thead>
<tbody><tr><td>FLOAT64</td><td>FLOAT64</td><td>FLOAT64</td></tr><tr><td>INT64</td><td>FLOAT64</td><td>FLOAT64</td></tr></tbody>
</table>

<p>Result types for Unary Minus:</p>

<table>
<thead>
<tr>
<th>Input Data Type</th>
<th>Result Data Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>INT64</td>
<td>INT64</td>
</tr>
<tr>
<td>FLOAT64</td>
<td>FLOAT64</td>
</tr>
</tbody>
</table>

<h3 id="bitwise-operators">Bitwise operators</h3>

<p>All bitwise operators return the same type
 and the same lengthas
the first operand.</p>

<table>
<thead>
<tr>
<th>Name</th>
<th>Syntax</th>
<th nowrap="nowrap">Input Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Bitwise not</td>
<td>~ X</td>
<td nowrap="nowrap">Integer or BYTES</td>
<td>Performs logical negation on each bit, forming the ones' complement of the
given binary value.</td>
</tr>
<tr>
<td>Bitwise or</td>
<td>X | Y</td>
<td nowrap="nowrap">X: Integer or BYTES
<br />Y: Same type as X</td>
<td>Takes two bit patterns of equal length and performs the logical inclusive OR
operation on each pair of the corresponding bits.
This operator throws an error if X and Y are BYTES of different lengths.
</td>
</tr>
<tr>
<td>Bitwise xor</td>
<td>X ^ Y</td>
<td nowrap="nowrap">X: Integer or BYTES
<br />Y: Same type as X</td>
<td>Takes two bit patterns of equal length and performs the logical exclusive OR
operation on each pair of the corresponding bits.
This operator throws an error if X and Y are BYTES of different lengths.
</td>
</tr>
<tr>
<td>Bitwise and</td>
<td>X &amp; Y</td>
<td nowrap="nowrap">X: Integer or BYTES
<br />Y: Same type as X</td>
<td>Takes two bit patterns of equal length and performs the logical AND
operation on each pair of the corresponding bits.
This operator throws an error if X and Y are BYTES of different lengths.
</td>
</tr>
<tr>
<td>Left shift</td>
<td>X &lt;&lt; Y</td>
<td nowrap="nowrap">X: Integer or BYTES
<br />Y: INT64</td>
<td>Shifts the first operand X to the left.
This operator returns
0 or a byte sequence of b'\x00'
if the second operand Y is greater than or equal to

the bit length of the first operand X (for example, 64 if X has the type INT64).

This operator throws an error if Y is negative.</td>
</tr>
<tr>
<td>Right shift</td>
<td>X &gt;&gt; Y</td>
<td nowrap="nowrap">X: Integer or BYTES
<br />Y: INT64</td>
<td>Shifts the first operand X to the right. This operator does not do sign bit
extension with a signed type (i.e. it fills vacant bits on the left with 0).
This operator returns
0 or a byte sequence of b'\x00'
if the second operand Y is greater than or equal to

the bit length of the first operand X (for example, 64 if X has the type INT64).

This operator throws an error if Y is negative.</td>
</tr>
</tbody>
</table>

<h3 id="logical-operators">Logical operators</h3>

<p>All logical operators allow only BOOL input.</p>

<table>
<thead>
<tr>
<th>Name</th>
<th>Syntax</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Logical NOT</td>
<td>NOT X</td>
<td>Returns FALSE if input is TRUE. Returns TRUE if input is FALSE. Returns <code>NULL</code>
otherwise.</td>
</tr>
<tr>
<td>Logical AND</td>
<td>X AND Y</td>
<td>Returns FALSE if at least one input is FALSE. Returns TRUE if both X and Y
are TRUE. Returns <code>NULL</code> otherwise.</td>
</tr>
<tr>
<td>Logical OR</td>
<td>X OR Y</td>
<td>Returns FALSE if both X or Y are FALSE. Returns TRUE if at least one input
is TRUE. Returns <code>NULL</code> otherwise.</td>
</tr>
</tbody>
</table>

<h3 id="comparison-operators">Comparison operators</h3>

<p>Comparisons always return BOOL. Comparisons require
both operands to be the same type; if they are different, they are coerced to a
common type for the comparison. Comparable
data types are defined in
<a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/data-types">Data Types</a>.</p>

<p>STRUCTs support only 4 comparison operators: equal
(=), not equal (!= and &lt;&gt;), and IN.</p>

<p>The following rules apply when comparing these data types:</p>

<ul>
<li>FLOAT64
   : If one or both operands are <code>NaN</code> then
   FALSE is returned.</li>
<li>BOOL: FALSE is less than TRUE.</li>
<li>STRING: Strings are
   compared codepoint-by-codepoint, which means that canonically equivalent
   strings are only guaranteed to compare as equal if
   they have been normalized first.</li>
<li><code>NULL</code>: The convention holds here: any operation with a <code>NULL</code> input returns
   <code>NULL</code>.</li>
</ul>

<table>
<thead>
<tr>
<th>Name</th>
<th>Syntax</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Less Than</td>
<td>X &lt; Y</td>
<td>Returns TRUE if X is less than Y.</td>
</tr>
<tr>
<td>Less Than or Equal To</td>
<td>X &lt;= Y</td>
<td>Returns TRUE if X is less than or equal to Y.</td>
</tr>
<tr>
<td>Greater Than</td>
<td>X &gt; Y</td>
<td>Returns TRUE if X is greater than Y.</td>
</tr>
<tr>
<td>Greater Than or Equal To</td>
<td>X &gt;= Y</td>
<td>Returns TRUE if X is greater than or equal to Y.</td>
</tr>
<tr>
<td>Equal</td>
<td>X = Y</td>
<td>Returns TRUE if X is equal to Y.</td>
</tr>
<tr>
<td>Not Equal</td>
<td>X != Y<br />X &lt;&gt; Y</td>
<td>Returns TRUE if X is not equal to Y.</td>
</tr>
<tr>
<td>BETWEEN</td>
<td>X [NOT] BETWEEN Y AND Z</td>
<td>Returns TRUE if X is [not] within the range specified. The result of "X
BETWEEN Y AND Z" is equivalent to "Y &lt;= X AND X &lt;= Z" but X is evaluated
only once in the former.</td>
</tr>
<tr>
<td>LIKE</td>
<td>X [NOT] LIKE Y</td>
<td>Checks if the STRING in the first operand X
matches a pattern specified by the second operand Y. Expressions can contain
these characters:
<ul>
<li>A percent sign "%" matches any number of characters or bytes</li>
<li>An underscore "_" matches a single character or byte</li>
<li>You can escape "\", "_", or "%" using two backslashes. For example, <code>
"\\%"</code>. If you are using raw strings, only a single backslash is
required. For example, <code>r"\%".</code></li>
</ul>
</td>
</tr>
<tr>
<td>IN</td>
<td>Multiple - see below</td>
<td>Returns FALSE if the right operand is empty. Returns <code>NULL</code> if the left
operand is <code>NULL</code>. Returns TRUE or <code>NULL</code>, never FALSE, if the right operand
contains <code>NULL</code>. Arguments on either side of IN are general expressions. Neither
operand is required to be a literal, although using a literal on the right is
most common. X is evaluated only once.</td>
</tr>
</tbody>
</table>

<p>When comparing values that have the STRUCT data type,
it's possible that one or more fields are <code>NULL</code>. In such cases:</p>

<ul>
<li>If the two STRUCTs have the same fields, the
  operation returns <code>NULL</code>.</li>
<li>If the two STRUCTs have different fields, the
  operation returns FALSE.</li>
</ul>

<p>The following table demonstrates how STRUCT data
types are compared when they have fields that are <code>NULL</code> valued.</p>

<table>
<thead>
<tr>
<th>Struct1</th>
<th>Struct2</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>STRUCT(1, NULL)</code></td>
<td><code>STRUCT(1, NULL)</code></td>
<td><code>NULL</code></td>
</tr>
<tr>
<td><code>STRUCT(1, NULL</code>)</td>
<td><code>STRUCT(2, NULL)</code></td>
<td><code>FALSE</code></td>
</tr>
</tbody>
</table>

<h3 id="in-operators">IN operators</h3>

<p>The <code>IN</code> operator supports the following syntaxes:</p>

<pre class="codehilite"><code>x [NOT] IN (y, z, ... ) # Requires at least one element
x [NOT] IN (&lt;subquery&gt;)
x [NOT] IN UNNEST(&lt;array expression&gt;) # analysis error if the expression
                                      # does not return an ARRAY type.</code></pre>

<p>Arguments on either side of the <code>IN</code> operator  are general expressions.
It is common to use literals on the right side expression; however, this is not
required.</p>

<p>The semantics of:</p>

<pre class="codehilite"><code>x IN (y, z, ...)</code></pre>

<p>are defined as equivalent to:</p>

<pre class="codehilite"><code>(x = y) OR (x = z) OR ...</code></pre>

<p>and the subquery and array forms are defined similarly.</p>

<pre class="codehilite"><code>x NOT IN ...</code></pre>

<p>is equivalent to:</p>

<pre class="codehilite"><code>NOT(x IN ...)</code></pre>

<p>The UNNEST form treats an array scan like <code>UNNEST</code> in the
<a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/query-syntax#from-clause">FROM</a> clause:</p>

<pre class="codehilite"><code>x [NOT] IN UNNEST(&lt;array expression&gt;)</code></pre>

<p>This form is often used with ARRAY parameters. For example:</p>

<pre class="codehilite"><code>x IN UNNEST(@array_parameter)</code></pre>

<p><strong>Note:</strong> A <code>NULL</code> ARRAY will be treated equivalently to an empty ARRAY.</p>

<p>When using the <code>IN</code> operator, the following semantics apply:</p>

<ul>
<li><code>IN</code> with an empty right side expression is always FALSE</li>
<li><code>IN</code> with a <code>NULL</code> left side expression and a non-empty right side expression is
  always <code>NULL</code></li>
<li><code>IN</code> with a <code>NULL</code> in the <code>IN</code>-list can only return TRUE or <code>NULL</code>, never FALSE</li>
<li><code>NULL IN (NULL)</code> returns <code>NULL</code></li>
<li><code>IN UNNEST(&lt;NULL array&gt;)</code> returns FALSE (not <code>NULL</code>)</li>
</ul>

<p><code>IN</code> can be used with multi-part keys by using the struct constructor syntax.
For example:</p>

<pre class="codehilite"><code>(Key1, Key2) IN ( (12,34), (56,78) )
(Key1, Key2) IN ( SELECT (table.a, table.b) FROM table )</code></pre>

<p>See the
<a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/data-types#struct-type">Struct Type</a>
section of the Data Types topic for more information on this syntax.</p>

<h3 id="is-operators">IS operators</h3>

<p>IS operators return TRUE or FALSE for the condition they are testing. They never
return <code>NULL</code>, even for <code>NULL</code> inputs, unlike the IS_INF and IS_NAN functions
defined in <a href="#mathematical-functions">Mathematical Functions</a>. If NOT is present,
the output BOOL value is inverted.</p>

<table>
<thead>
<tr>
<th>Function Syntax</th>
<th>Input Data Type</th>
<th>Result Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X IS [NOT] <code>NULL</code></td>
<td>Any value type</td>
<td>BOOL</td>
<td>Returns TRUE if the operand X evaluates to <code>NULL</code>, and returns FALSE
otherwise.</td>
</tr>
<tr>
<td>X IS [NOT] TRUE</td>
<td>BOOL</td>
<td>BOOL</td>
<td>Returns TRUE if the BOOL operand evaluates to TRUE. Returns FALSE
otherwise.</td>
</tr>
<tr>
<td>X IS [NOT] FALSE</td>
<td>BOOL</td>
<td>BOOL</td>
<td>Returns TRUE if the BOOL operand evaluates to FALSE. Returns FALSE
otherwise.</td>
</tr>
</tbody>
</table>

<h2 id="conditional-expressions">Conditional expressions</h2>

<p>Conditional expressions impose constraints on the evaluation order of their
inputs. In essence, they are evaluated left to right, with short-circuiting,
and only evaluate the output value that was chosen. In contrast, all inputs to
regular functions are evaluated before calling the function. Short-circuiting
in conditional expressions can be exploited for error handling or performance
tuning.</p>

<table>
<thead>
<tr>
<th>Syntax</th>
<th>Input Data Types</th>
<th>Result Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>CASE expr WHEN value THEN result [WHEN ...] [ELSE else_result] END</td>
<td><code>expr</code> and <code>value</code>: Any type</td>
<td><code>result</code> and <code>else_result</code>: Supertype of input
types.</td>
<td>Compares <code>expr</code> to value of each successive <code>WHEN</code>
clause and returns the first result where this comparison returns true. The
remaining <code>WHEN</code> clauses and <code>else_result</code> are not
evaluated. If the <code>expr = value</code> comparison returns false or <code>NULL</code> for
all <code>WHEN</code> clauses, returns
<code>else_result</code>. <code>expr</code> and <code>value</code> expressions
must be implicitly coercible to a common supertype; equality comparisons are
done on coerced values. <code>result</code> and <code>else_result</code>
expressions must be coercible to a common supertype.</td>
</tr>
<tr>
<td>CASE WHEN cond1 THEN result [WHEN cond2...] [ELSE else_result] END</td>
<td><code>cond</code>: BOOL</td>
<td><code>result</code> and <code>else_result</code>: Supertype of input
types.</td>
<td>Evaluates condition <code>cond</code> of each successive <code>WHEN</code>
clause and returns the first result where the condition is true; any remaining
<code>WHEN</code> clauses and <code>else_result</code> are not evaluated. If all
conditions are false or <code>NULL</code>, returns
<code>else_result</code>. <code>result</code> and <code>else_result</code>
expressions must be implicitly coercible to a common supertype. </td>
</tr>
<tr>
<td>COALESCE(expr1, ..., exprN)</td>
<td>Any type</td>
<td>Supertype of input types</td>
<td>Returns the value of the first non-null expression. The remaining
expressions are not evaluated. All input expressions must be implicitly
coercible to a common supertype.</td>
</tr>
<tr>
<td>IF(cond, true_result, else_result)</td>
<td><code>cond</code>: BOOL</td>
<td><code>true_result</code> and <code>else_result</code>: Any type.</td>
<td>If <code>cond</code> is true, returns <code>true_result</code>, else returns
<code>else_result</code>. <code>else_result</code> is not evaluated if
<code>cond</code> is true. <code>true_result</code> is not evaluated if
<code>cond</code> is false or <code>NULL</code>. <code>true_result</code> and
<code>else_result</code> must be coercible to a common supertype.</td>
</tr>
<tr>
<td>IFNULL(expr, null_result)</td>
<td>Any type</td>
<td>Any type or supertype of input types.</td>
<td>If <code>expr</code> is <code>NULL</code>, return <code>null_result</code>. Otherwise,
return <code>expr</code>. If <code>expr</code> is not <code>NULL</code>,
<code>null_result</code> is not evaluated. <code>expr</code> and
<code>null_result</code> must be implicitly coercible to a common
supertype. Synonym for <code>COALESCE(expr, null_result)</code>.</td>
</tr>
<tr>
<td>NULLIF(expression, expression_to_match)</td>
<td>Any type T or subtype of T</td>
<td>Any type T or subtype of T</td>
<td>Returns <code>NULL</code> if <code>expression = expression_to_match</code>
is true, otherwise returns <code>expression</code>. <code>expression</code> and
<code>expression_to_match</code> must be implicitly coercible to a common
supertype; equality comparison is done on coerced values.</td>
</tr>
</tbody>
</table>

<h2 id="expression-subqueries">Expression subqueries</h2>

<p>There are four types of expression subqueries, i.e. subqueries that are used as
expressions.  Expression subqueries return <code>NULL</code> or a single value, as opposed to
a column or table, and must be surrounded by parentheses. For a fuller
discussion of subqueries, see
<a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/query-syntax#subqueries">Subqueries</a>.</p>

<table>
<thead>
<tr>
<th>Type of Subquery</th>
<th>Result Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Scalar</td>
<td>Any type T</td>
<td>A subquery in parentheses inside an expression (e.g. in the
<code>SELECT</code> list or <code>WHERE</code> clause) is interpreted as a
scalar subquery. The <code>SELECT</code> list in a scalar subquery must have
exactly one field. If the subquery returns exactly one row, that single value is
the scalar subquery result. If the subquery returns zero rows, the scalar
subquery value is <code>NULL</code>. If the subquery returns more than one row, the query
fails with a runtime error. When the subquery is written with <code>SELECT AS
STRUCT</code> , it can include multiple
columns, and the returned value is the constructed STRUCT. Selecting
multiple columns without using <code>SELECT AS</code> is an error.</td>
</tr>
<tr>
<td>ARRAY</td>
<td>ARRAY</td>
<td>Can use <code>SELECT AS STRUCT</code> to
build arrays of structs, and conversely, selecting multiple columns
without using <code>SELECT AS</code> is an error. Returns an empty ARRAY if the
subquery returns zero rows. Never returns a <code>NULL</code> ARRAY.</td>
</tr>
<tr>
<td>IN</td>
<td>BOOL</td>
<td>Occurs in an expression following the IN operator. The subquery must produce
a single column whose type is equality-compatible with the expression on the
left side of the IN operator. Returns FALSE if the subquery returns zero rows.
<code>x IN ()</code> is equivalent to <code>x IN (value, value, ...)</code>
See the <code>IN</code> operator in
<a href="#comparison-operators">Comparison Operators</a>
for full semantics.  </td>
</tr>
<tr>
<td>EXISTS</td>
<td>BOOL</td>
<td>Returns TRUE if the subquery produced one or more rows. Returns FALSE if the
subquery produces zero rows. Never returns <code>NULL</code>. Unlike all other expression
subqueries, there are no rules about the column list. Any number of columns may
be selected and it will not affect the query result.</td>
</tr>
</tbody>
</table>

<p><strong>Examples</strong></p>

<p>The following examples of expression subqueries assume that <code>t.int_array</code> has
type <code>ARRAY&lt;INT64&gt;</code>.</p>

<table>
<thead>
<tr>
<th>Type</th>
<th>Subquery</th>
<th>Result Data Type</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td rowspan="8">Scalar</td>
<td><code>(SELECT COUNT(*) FROM t.int_array)</code></td>
<td>INT64</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><code>(SELECT DISTINCT i FROM t.int_array i)</code></td>
<td>INT64, possibly runtime error</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><code>(SELECT i FROM t.int_array i WHERE i=5)</code></td>
<td>INT64, possibly runtime error</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><code>(SELECT ARRAY_AGG(i) FROM t.int_array i)</code></td>
<td>ARRAY</td>
<td>Uses the ARRAY_AGG aggregation function to return an ARRAY.</td>
</tr>
<tr>
<td><code>(SELECT 'xxx' a)</code></td>
<td>STRING</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><code>(SELECT 'xxx' a, 123 b)</code></td>
<td>Error</td>
<td>Returns an error because there is more than one column</td>
</tr>
<tr>
<td><code>(SELECT AS STRUCT 'xxx' a, 123 b)</code></td>
<td>STRUCT</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><code>(SELECT AS STRUCT 'xxx' a)</code></td>
<td>STRUCT</td>
<td>&nbsp;</td>
</tr>
<tr>
<td rowspan="7">ARRAY</td>
<td><code>ARRAY(SELECT COUNT(*) FROM t.int_array)</code></td>
<td>ARRAY of size 1</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><code>ARRAY(SELECT x FROM t)</code></td>
<td>ARRAY</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><code>ARRAY(SELECT 5 a, COUNT(*) b FROM t.int_array)</code></td>
<td>Error</td>
<td>Returns an error because there is more than one column</td>
</tr>
<tr>
<td><code>ARRAY(SELECT AS STRUCT 5 a, COUNT(*) b FROM t.int_array)</code></td>
<td>ARRAY</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><code>ARRAY(SELECT AS STRUCT i FROM t.int_array i)</code></td>
<td>ARRAY</td>
<td>Makes an ARRAY of one-field STRUCTs</td>
</tr>
<tr>
<td><code>ARRAY(SELECT AS STRUCT 1 x, 2, 3 x)</code></td>
<td>ARRAY</td>
<td>Returns an ARRAY of STRUCTs with anonymous or duplicate fields.</td>
</tr>
<tr>
<td><code>ARRAY(SELECT  AS TypeName SUM(x) a, SUM(y) b, SUM(z) c from t)</code></td>
<td>array&lt;TypeName&gt;</td>
<td>Selecting into a named type. Assume TypeName is a STRUCT type with fields
a,b,c.</td>
</tr>
<tr>
<td>STRUCT</td>
<td><code>(SELECT AS STRUCT 1 x, 2, 3 x)</code></td>
<td>STRUCT</td>
<td>Constructs a STRUCT with anonymous or duplicate fields.</td>
</tr>
<tr>
<td rowspan="2">EXISTS</td>
<td><code>EXISTS(SELECT x,y,z FROM table WHERE y=z)</code></td>
<td>BOOL</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><code>NOT EXISTS(SELECT x,y,z FROM table WHERE y=z)</code></td>
<td>BOOL</td>
<td>&nbsp;</td>
</tr>
<tr>
<td rowspan="2">IN</td>
<td><code>x IN (SELECT y FROM table WHERE z)</code></td>
<td>BOOL</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><code>x NOT IN (SELECT y FROM table WHERE z)</code></td>
<td>BOOL</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>


  
  </div>
  
    



  

  
        
  







        
<div class="devsite-content-footer nocontent">
  
  
  
    <p>Except as otherwise noted, the content of this page is licensed under the <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 License</a>, and code samples are licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a>. For details, see our <a href="https://cloud.google.com/site-policies">Site Policies</a>. Java is a registered trademark of Oracle and/or its affiliates.</p>
  

  
    
    <p class="devsite-content-footer-date" itemprop="datePublished"
       content="2017-01-17T18:38:14.277000">
      
      Last updated January 17, 2017.
    </p>
  

</div>

        </article>
      </article>
  

        </div>
      

<footer class="devsite-footer-linkboxes nocontent
               devsite-footer-linkboxes-all-backup"><nav class="devsite-full-site-width"><ul class="devsite-footer-linkboxes-list"><li class="devsite-footer-linkbox
                 devsite-footer-linkbox-backup"><h3 class="devsite-footer-linkbox-heading">Products</h3><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/products/compute/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Compute">
              
                Compute
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/products/storage/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Storage">
              
                Storage
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/products/networking/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Networking">
              
                Networking
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/products/big-data/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Big Data">
              
                Big Data
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/products/machine-learning/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Machine Learning">
              
                Machine Learning
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/products/#management" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Management Tools">
              
                Management Tools
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/products/tools/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Developer Tools">
              
                Developer Tools
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/products/#identity-security" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Identity and Security">
              
                Identity &amp; Security
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="//status.cloud.google.com" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer System Status">
              
                System Status
              
            </a></li></ul></li><li class="devsite-footer-linkbox
                 devsite-footer-linkbox-backup"><h3 class="devsite-footer-linkbox-heading">Learn More</h3><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/why-google/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Why Google">
              
                Why Google
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/pricing/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Pricing">
              
                Pricing
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/docs/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Documentation">
              
                Documentation
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/training/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Training">
              
                Training
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/solutions/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Solutions">
              
                Solutions
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/security/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Security &amp; Compliance">
              
                Security &amp; Compliance
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/partners/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Partners">
              
                Partners
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/customers/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Customers">
              
                Customers
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/support/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Support">
              
                Support
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="//www.google.com/about/careers/jobs#t=sq&q=j&li=20&l=false&jcoid=7c8c6665-81cf-4e11-8fc9-ec1d6a69120c&j=Google+Cloud+Platform&" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Careers">
              
                Careers
              
            </a></li></ul></li><li class="devsite-footer-linkbox
                 devsite-footer-linkbox-backup"><h3 class="devsite-footer-linkbox-heading">Engage</h3><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/free-trial/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Free Trial Sign Up">
              
                Free Trial Sign Up
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="//cloudplatform.googleblog.com" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Blog">
              
                Blog
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="//plus.google.com/+googlecloud" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Google+">
              
                Google+
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="//twitter.com/googlecloud" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Twitter">
              
                Twitter
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="//www.linkedin.com/company/3648281" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer LinkedIn">
              
                LinkedIn
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="http://stackoverflow.com/questions/tagged/google-cloud-platform" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Stack Overflow">
              
                Stack Overflow
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="//www.youtube.com/c/googlecloud" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer YouTube">
              
                YouTube
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="//www.gcppodcast.com" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Podcast">
              
                Podcast
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="//cloud.google.com/newsletter/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Newsletter Signup">
              
                Newsletter Signup
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="//cloud.google.com/usability" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer UX Research">
              
                UX Research
              
            </a></li></ul></li><li class="devsite-footer-linkbox
                 devsite-footer-linkbox-sites"><a href="https://developers.google.com/"
           class="gc-analytics-event devsite-footer-linkbox-logo-link"
           data-category="Site-Wide Custom Events" data-label="Footer Google Developers Link"><img class="devsite-footer-linkbox-logo"
               src="https://cloud.google.com/_static/51f118c0ad/images/redesign-14/logo-color-knockout.svg"></a><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="//developer.android.com/index.html" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Android Link">
              
                Android
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="//developer.chrome.com/home" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Chrome Link">
              
                Chrome
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="//firebase.google.com" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Firebase Link">
              
                Firebase
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="//cloud.google.com" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Cloud Link">
              
                Google Cloud Platform
              
            </a></li><li class="devsite-footer-linkbox-item"><a href="//developers.google.com/products/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Products Link">
              
                All Products
              
            </a></li></ul></li></ul></nav></footer><footer class="devsite-utility-footer"><nav class="devsite-utility-footer-nav devsite-nav devsite-full-site-width"><span class="devsite-utility-footer-links"><a class="devsite-utility-footer-link gc-analytics-event"
         href="https://cloud.google.com/site-terms/"
         data-category="Site-Wide Custom Events"
         data-label="Footer terms link">Terms</a><a class="devsite-utility-footer-link gc-analytics-event"
         href="https://www.google.com/policies/privacy/"
         data-category="Site-Wide Custom Events"
         data-label="Footer privacy link">Privacy</a></span><form class="devsite-utility-footer-language" action="/i18n/setlang/" method="post"><input type="hidden" name="xsrf_token" value="sZH_qTYGA0u8EuD4uziXt0SNBu8IBwM4YOdOqrOQmcs6MTQ4NTA2NjcyNDk1NjIyMA" /><input type="hidden" name="next" value="/bigquery/docs/reference/standard-sql/functions-and-operators"><select class="devsite-utility-footer-language-select kd-select" name="language"><option value="en"
             selected="selected" >
          English
        </option><option value="es"
            >
          español
        </option><option value="pt-br"
            >
          Português Brasileiro
        </option><option value="ja"
            >
          日本語
        </option><option value="zh-tw"
            >
          繁體中文
        </option></select></form></nav></footer><div class="devsite-feedback-dialog devsite-dialog"><div class="devsite-dialog-contents"><h3>Send feedback about...</h3><div class="devsite-feedback-item"><a data-type="documentation" class="gc-analytics-event"
           data-category="Site-Wide Custom Events" data-label="Docs Feedback Image"
           track-type="feedback" track-name="feedbackDocIcon" track-metadata-position="header"><div class="devsite-feedback-item-icon-container"><div class="devsite-feedback-item-icon-white devsite-feedback-item-icon-docs
                        material-icons"></div></div></a><div class="devsite-feedback-item-name">
          
          This page
        </div><div class="devsite-feedback-item-description"><a data-type="documentation" tabindex="0" class="gc-analytics-event"
             data-category="Site-Wide Custom Events" data-label="Docs Feedback Text"
             track-type="feedback" track-name="feedbackDocText" track-metadata-position="header">
            
            Documentation feedback
          </a></div></div><div class="devsite-feedback-item"><a data-type="product" tabindex="0" class="gc-analytics-event"
           data-category="Site-Wide Custom Events" data-label="Product Feedback Image"
           track-type="feedback" track-name="feedbackProductIcon" track-metadata-position="header"
         ><img class="devsite-feedback-item-icon"
               src="https://cloud.google.com/_static/51f118c0ad/images/feedback/google_56px.svg"></a><div class="devsite-feedback-item-name">
        BigQuery Documentation
        </div><div class="devsite-feedback-item-description"><a data-type="product" tabindex="0" class="gc-analytics-event"
             data-category="Site-Wide Custom Events" data-label="Product Feedback Text"
             track-type="feedback" track-name="feedbackProductText" track-metadata-position="header"
           >
            
            Product feedback
          </a></div></div></div><div class="devsite-dialog-buttons"><button type="button" class="devsite-feedback-cancel button-white gc-analytics-event"
              data-category="Site-Wide Custom Events" data-label="Cancel Feedback Button"
              track-type="feedback" track-name="cancelFeedbackButton"
              track-metadata-position="header">
        
        Cancel
      </button></div></div><script>
  $(document).ready(function() {
    new devsite.feedback.Widget({
        'product_id': '81912',
        'bucket': 'docs',
        'context': '',
        'version': 'devsite-20170119-r04-rc00.default'
      },
      document.querySelectorAll('.devsite-feedback-button'),
      'en',
      document.querySelector('.devsite-site-mask'),
      document.querySelector('.devsite-feedback-dialog'),
      document.querySelector('.devsite-feedback-cancel'),
      document.querySelectorAll('.devsite-feedback-item a:not([href])')
    );
  });
  </script></div><script async defer src="//www.gstatic.com/feedback/api.js"></script><script src="https://cloud.google.com/_static/51f118c0ad/js/jquery_ui-bundle.js"></script><script src="https://cloud.google.com/_static2/51f118c0ad/jsi18n/"></script><script src="https://cloud.google.com/_static/51f118c0ad/js/script_foot_closure.js"></script><script src="https://cloud.google.com/_static/51f118c0ad/js/script_foot.js"></script><script>
        (function($) {
          
          devsite.devsite.Init($, {'FULL_SITE_SEARCH_ENABLED': 1, 'ENABLE_BLOCKED_VIDEO_PLACEHOLDER': 0, 'VERSION_HASH': '51f118c0ad', 'SITE_NAME': 'cloud', 'HISTORY_ENABLED': 1, 'SUBPATH': '', 'ENABLE_BLOCKED_LINK_TOOLTIP': 0, 'ALLOWED_HOSTS': ['.android.com', '.api.ai', '.appspot.com', '.devsitetest.how', '.gonglchuangl.net', '.google.cn', '.google.com', '.googleplex.com', '.nest.com', '.tensorflow.org'], 'BLOCK_RSS_FEEDS': 0, 'SCRIPTSAFE_DOMAIN': 'cloud-dot-google-developers.appspot.com'},
                               '[]','en',
                               true, '',
                               {"dbf0e738b8ca34a787d59b20daa90e83": true, "782f0ac910272faf7315ed00833f4d6b": false, "5d17cf7d98343d37cdc5bede08b7b28e": true, "098dafe57affddc137df300142652cfd": false, "cb025a64a50094835616312f4774a53d": true, "e243c7e32cf8217137654928e1480ad1": true, "51470233c56fc1fde50f00b73c52b216": false, "039e5d84b87fd75807ffb37b7f1bbf2c": false, "6decc2350b46d7e6433a3c4ae1ab018f": true, "752953480de00a336d911a46966cc16d": false, "700def1a83e356c06c0925afb05de4b0": false, "6749dcb526ce9bde6993550c7d928d24": true}, '/bigquery/docs/',
                               'https://cloud.google.com/');
        })(jQuery);

        
        devsite.localInit = function() {
          
        };

        var eventfn = function() {
          if ('None') {
            devsite.analytics.trackAnalyticsEvent(
              'Request Latency',
              'Profile',
              'None',
              211.709976196);
          };
        }
        // This only works since this will get called before the load event fires.
        
        window.addEventListener("load", eventfn, false);
      </script><script>
      $('.devsite-utility-footer-language-select').each(function() {
        $(this).change(function(){$('.devsite-utility-footer-language').submit();});
      });
      </script></div><span id="devsite-request-elapsed" data-request-elapsed="212.180137634"></span></body></html>
